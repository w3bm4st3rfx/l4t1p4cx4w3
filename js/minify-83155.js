(function(){var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop);}
function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map['*'])||{};if(name&&name.charAt(0)==="."){if(baseName){name=name.split('/');lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,'');}
name=baseParts.slice(0,baseParts.length-1).concat(name);for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1;}else if(part===".."){if(i===1&&(name[2]==='..'||name[0]==='..')){break;}else if(i>0){name.splice(i-1,2);i-=2;}}}
name=name.join("/");}else if(name.indexOf('./')===0){name=name.substring(2);}}
if((baseParts||starMap)&&map){nameParts=name.split('/');for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join('/')];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break;}}}}
if(foundMap){break;}
if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i;}}
if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI;}
if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join('/');}}
return name;}
function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);if(typeof args[0]!=='string'&&args.length===1){args.push(null);}
return req.apply(undef,args.concat([relName,forceSync]));};}
function makeNormalize(relName){return function(name){return normalize(name,relName);};}
function makeLoad(depName){return function(value){defined[depName]=value;};}
function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args);}
if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error('No '+name);}
return defined[name];}
function splitPrefix(name){var prefix,index=name?name.indexOf('!'):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length);}
return[prefix,name];}
makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix);}
if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName));}else{name=normalize(name,relName);}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix);}}
return{f:prefix?prefix+'!'+name:name,n:name,pr:prefix,p:plugin};};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{};};}
handlers={require:function(name){return makeRequire(name);},exports:function(name){var e=defined[name];if(typeof e!=='undefined'){return e;}else{return(defined[name]={});}},module:function(name){return{id:name,uri:'',exports:defined[name],config:makeConfig(name)};}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],callbackType=typeof callback,usingExports;relName=relName||name;if(callbackType==='undefined'||callbackType==='function'){deps=!deps.length&&callback.length?['require','exports','module']:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name);}else if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true;}else if(depName==="module"){cjsModule=args[i]=handlers.module(name);}else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName);}else if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName];}else{throw new Error(name+' missing '+depName);}}
ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports;}else if(ret!==undef||!usingExports){defined[name]=ret;}}}else if(name){defined[name]=callback;}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback);}
return callDep(makeMap(deps,callback).f);}else if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback);}
if(!callback){return;}
if(callback.splice){deps=callback;callback=relName;relName=null;}else{deps=undef;}}
callback=callback||function(){};if(typeof relName==='function'){relName=forceSync;forceSync=alt;}
if(forceSync){main(undef,deps,callback,relName);}else{setTimeout(function(){main(undef,deps,callback,relName);},4);}
return req;};req.config=function(cfg){return req(cfg);};requirejs._defined=defined;define=function(name,deps,callback){if(typeof name!=='string'){throw new Error('See almond README: incorrect module build, no module name');}
if(!deps.splice){callback=deps;deps=[];}
if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback];}};define.amd={jQuery:true};}());define("../lib/almond",function(){});define('models/fieldErrorModel',[],function(){var model=Backbone.Model.extend({});return model;});define('models/fieldErrorCollection',['models/fieldErrorModel'],function(errorModel){var collection=Backbone.Collection.extend({model:errorModel});return collection;});define('models/fieldModel',['models/fieldErrorCollection'],function(fieldErrorCollection){var model=Backbone.Model.extend({defaults:{placeholder:'',value:'',label_pos:'',classes:'ninja-forms-field',reRender:false,mirror_field:false,confirm_field:false,clean:true,disabled:'',visible:true,invalid:false},initialize:function(){var type=this.get('type');this.set('formID',this.collection.options.formModel.get('id'));this.listenTo(nfRadio.channel('form-'+this.get('formID')),'reset',this.resetModel);this.bind('change',this.changeModel,this);this.bind('change:value',this.changeValue,this);this.set('errors',new fieldErrorCollection());if(type==='listimage'){this.get=this.listimageGet;this.set=this.listimageSet;}
nfRadio.channel('fields').trigger('init:model',this);nfRadio.channel(this.get('type')).trigger('init:model',this);nfRadio.channel('fields-'+this.get('type')).trigger('init:model',this);if('undefined'!=typeof this.get('parentType')){nfRadio.channel(this.get('parentType')).trigger('init:model',this);}
this.listenTo(nfRadio.channel('form-'+this.get('formID')),'loaded',this.formLoaded);this.listenTo(nfRadio.channel('form-'+this.get('formID')),'before:submit',this.beforeSubmit);},listimageGet:function(attr){if(attr==='options'){attr='image_options';}
return Backbone.Model.prototype.get.call(this,attr);},listimageSet:function(attributes,options){if('options'===attributes){attributes='image_options';}
return Backbone.Model.prototype.set.call(this,attributes,options);},changeModel:function(){nfRadio.channel('field-'+this.get('id')).trigger('change:model',this);nfRadio.channel(this.get('type')).trigger('change:model',this);nfRadio.channel('fields').trigger('change:model',this);},changeValue:function(){nfRadio.channel('field-'+this.get('id')).trigger('change:modelValue',this);nfRadio.channel(this.get('type')).trigger('change:modelValue',this);nfRadio.channel('fields').trigger('change:modelValue',this);},addWrapperClass:function(cl){this.set('addWrapperClass',cl);},removeWrapperClass:function(cl){this.set('removeWrapperClass',cl);},setInvalid:function(invalid){this.set('invalid',invalid);},formLoaded:function(){nfRadio.channel('fields').trigger('formLoaded',this);nfRadio.channel('fields-'+this.get('type')).trigger('formLoaded',this);},beforeSubmit:function(formModel){nfRadio.channel(this.get('type')).trigger('before:submit',this);nfRadio.channel('fields').trigger('before:submit',this);},getValue:function(){return this.get('value');}});return model;});define('models/fieldCollection',['models/fieldModel'],function(fieldModel){var collection=Backbone.Collection.extend({model:fieldModel,comparator:'order',initialize:function(models,options){this.options=options;this.on('reset',function(fieldCollection){nfRadio.channel('fields').trigger('reset:collection',fieldCollection);},this);},validateFields:function(){_.each(this.models,function(fieldModel){fieldModel.set('clean',false);nfRadio.channel('submit').trigger('validate:field',fieldModel);},this);},showFields:function(){this.invoke('set',{visible:true});this.invoke(function(){this.trigger('change:value',this);});},hideFields:function(){this.invoke('set',{visible:false});this.invoke(function(){this.trigger('change:value',this);});}});return collection;});define('models/formErrorModel',[],function(){var model=Backbone.Model.extend({});return model;});define('models/formErrorCollection',['models/formErrorModel'],function(errorModel){var collection=Backbone.Collection.extend({model:errorModel});return collection;});define('models/formModel',['models/fieldCollection','models/formErrorCollection'],function(FieldCollection,ErrorCollection){var model=Backbone.Model.extend({defaults:{beforeForm:'',afterForm:'',beforeFields:'',afterFields:'',wrapper_class:'',element_class:'',hp:'',fieldErrors:{},extra:{}},initialize:function(){_.each(this.get('settings'),function(value,setting){this.set(setting,value);},this);this.set('loadedFields',this.get('fields'));this.set('fields',new FieldCollection(this.get('fields'),{formModel:this}));this.set('errors',new ErrorCollection());nfRadio.channel('form').trigger('before:filterData',this);var formContentData=this.get('formContentData');if(!formContentData){formContentData=this.get('fieldContentsData');}
var formContentLoadFilters=nfRadio.channel('formContent').request('get:loadFilters');var sortedArray=_.without(formContentLoadFilters,undefined);var callback=_.first(sortedArray);formContentData=callback(formContentData,this,this);this.set('formContentData',formContentData);nfRadio.channel('forms').trigger('init:model',this);nfRadio.channel('form-'+this.get('id')).trigger('init:model',this);nfRadio.channel('form-'+this.get('id')).reply('get:fieldByKey',this.getFieldByKey,this);nfRadio.channel('form-'+this.get('id')).reply('add:error',this.addError,this);nfRadio.channel('form-'+this.get('id')).reply('remove:error',this.removeError,this);nfRadio.channel('form-'+this.get('id')).reply('get:extra',this.getExtra,this);nfRadio.channel('form-'+this.get('id')).reply('add:extra',this.addExtra,this);nfRadio.channel('form-'+this.get('id')).reply('remove:extra',this.removeExtra,this);nfRadio.channel('form-'+this.get('id')).reply('get:form',this.getForm,this);nfRadio.channel('form').trigger('loaded',this);nfRadio.channel('form').trigger('after:loaded',this);nfRadio.channel('form-'+this.get('id')).trigger('loaded',this);},getFieldByKey:function(key){return this.get('fields').findWhere({key:key});},addError:function(id,msg){var errors=this.get('errors');errors.add({id:id,msg:msg});nfRadio.channel('form-'+this.get('id')).trigger('add:error',this,id,msg);},removeError:function(id){var errors=this.get('errors');var errorModel=errors.get(id);errors.remove(errorModel);nfRadio.channel('form-'+this.get('id')).trigger('remove:error',this,id);},getExtra:function(key){var extraData=this.get('extra');if('undefined'==typeof key)return extraData;return extraData[key];},addExtra:function(key,value){var extraData=this.get('extra');extraData[key]=value;nfRadio.channel('form-'+this.get('id')).trigger('add:extra',this,key,value);},removeExtra:function(key){var extraData=this.get('extra');delete extraData[key];nfRadio.channel('form-'+this.get('id')).trigger('remove:extra',this,key);},getForm:function(){return this;}});return model;});define('models/formCollection',['models/formModel'],function(formModel){var collection=Backbone.Collection.extend({model:formModel});return collection;});define('controllers/formData',['models/formModel','models/formCollection','models/fieldCollection','models/formErrorCollection'],function(FormModel,FormCollection,FieldCollection,ErrorCollection){var controller=Marionette.Object.extend({initialize:function(){var that=this;this.collection=new FormCollection(nfForms);nfRadio.channel('forms').trigger('loaded',this.collection);nfRadio.channel('app').trigger('forms:loaded',this.collection);nfRadio.channel('app').reply('get:form',this.getForm,this);nfRadio.channel('app').reply('get:forms',this.getForms,this);nfRadio.channel('fields').reply('get:field',this.getField,this);},getForm:function(id){return this.collection.get(id);},getForms:function(){return this.collection;},getField:function(id){var model=false;_.each(this.collection.models,function(form){if(!model){model=form.get('fields').get(id);}});if(typeof model=="undefined"){model=nfRadio.channel("field-repeater").request('get:repeaterFieldById',id);}
return model;}});return controller;});define('controllers/fieldError',['models/fieldErrorModel'],function(fieldErrorModel){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('fields').reply('add:error',this.addError);nfRadio.channel('fields').reply('remove:error',this.removeError);nfRadio.channel('fields').reply('get:error',this.getError);},addError:function(targetID,id,msg){var model=nfRadio.channel('fields').request('get:field',targetID);if('undefined'==typeof model)return;var errors=model.get('errors');errors.add({'id':id,'msg':msg});model.set('errors',errors);model.trigger('change:errors',model);model.set('clean',false);nfRadio.channel('fields').trigger('add:error',model,id,msg);},removeError:function(targetID,id){var model=nfRadio.channel('fields').request('get:field',targetID);if('undefined'==typeof model)return;var errors=model.get('errors');var targetError=errors.get(id);if('undefined'!=typeof targetError){errors.remove(targetError);model.set('errors',errors);model.trigger('change:errors',model);nfRadio.channel('fields').trigger('remove:error',model,id);}},getError:function(targetID,id){var model=nfRadio.channel('fields').request('get:field',targetID);var errors=model.get('errors');var targetError=errors.get(id);if('undefined'!=targetError){return targetError;}else{return false;}}});return controller;});define('controllers/changeField',[],function(){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('nfAdmin').reply('change:field',this.changeField);this.listenTo(nfRadio.channel('fields'),'blur:field',this.blurField);},changeField:function(el,model){var value=nfRadio.channel(model.get('type')).request('before:updateField',el,model);value=('undefined'!=typeof value)?value:nfRadio.channel(model.get('parentType')).request('before:updateField',el,model);value=('undefined'!=typeof value)?value:jQuery(el).val();model.set('isUpdated',false);model.set('clean',false);nfRadio.channel('field-'+model.get('id')).trigger('change:field',el,model);nfRadio.channel(model.get('type')).trigger('change:field',el,model);nfRadio.channel('fields').trigger('change:field',el,model);nfRadio.channel('nfAdmin').request('update:field',model,value);},blurField:function(el,model){model.set('clean',false);}});return controller;});define('controllers/changeEmail',[],function(){var radioChannel=nfRadio.channel('email');var emailReg=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var errorID='invalid-email';var controller=Marionette.Object.extend({initialize:function(){this.listenTo(radioChannel,'change:modelValue',this.onChangeModelValue);this.listenTo(radioChannel,'keyup:field',this.emailKeyup);this.listenTo(radioChannel,'blur:field',this.onBlurField);},onChangeModelValue:function(model){var value=model.get('value');var fieldID=model.get('id');this.emailChange(value,fieldID);},onBlurField:function(el,model){var value=jQuery(el).val();var fieldID=model.get('id');this.emailChange(value,fieldID);},emailChange:function(value,fieldID){if(0<value.length){if(emailReg.test(value)){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeEmailErrorMsg);}}else{nfRadio.channel('fields').request('remove:error',fieldID,errorID);}},emailKeyup:function(el,model,keyCode){if(9==keyCode){return false;}
var value=jQuery(el).val();var fieldID=model.get('id');if(0==value.length){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}else if(!emailReg.test(value)&&!model.get('clean')){var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeEmailErrorMsg);model.removeWrapperClass('nf-pass');}else if(emailReg.test(value)){nfRadio.channel('fields').request('remove:error',fieldID,errorID);model.addWrapperClass('nf-pass');model.set('clean',false);}}});return controller;});define('controllers/changeDate',[],function(){var radioChannel=nfRadio.channel('date');var errorID='invalid-date';var controller=Marionette.Object.extend({initialize:function(){this.listenTo(radioChannel,'change:modelValue',this.onChangeModelValue);this.listenTo(radioChannel,'keyup:field',this.dateKeyup);this.listenTo(radioChannel,'blur:field',this.onBlurField);this.listenTo(radioChannel,'change:extra',this.changeHoursMinutes,this)},onChangeModelValue:function(model){this.dateChange(model);},onBlurField:function(el,model){this.dateChange(model);},dateChange:function(model){var fieldID=model.get('id');var value=model.get('value');var format=model.get('date_format');if('default'===format){format=nfi18n.dateFormat;}
if('time_only'==model.get('date_mode')){return false;}
if(0<value.length){if(moment(value,format).isValid()){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeDateErrorMsg);}}else{nfRadio.channel('fields').request('remove:error',fieldID,errorID);}},dateKeyup:function(el,model,keyCode){if(9==keyCode){return false;}
var value=jQuery(el).val();var fieldID=model.get('id');var format=model.get('date_format');if('default'===format){format=nfi18n.dateFormat;}
if(0==value.length){nfRadio.channel('fields').request('remove:error',fieldID,errorID);}
else if(!moment(value,format).isValid()&&!model.get('clean')){var fieldModel=nfRadio.channel('fields').request('get:field',fieldID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',fieldID,errorID,formModel.get('settings').changeDateErrorMsg);model.removeWrapperClass('nf-pass');}
else if(moment(value,format).isValid()){nfRadio.channel('fields').request('remove:error',fieldID,errorID);model.addWrapperClass('nf-pass');model.set('clean',false);}},changeHoursMinutes:function(e,fieldModel){let type='';let container=jQuery(e.target).closest('.nf-field-element');let selected_hour=jQuery(container).find('.hour').val();let selected_minute=jQuery(container).find('.minute').val();let selected_ampm=jQuery(container).find('.ampm').val();fieldModel.set('selected_hour',selected_hour);fieldModel.set('selected_minute',selected_minute);fieldModel.set('selected_ampm',selected_ampm);fieldModel.trigger('change:value',fieldModel);}});return controller;});define('controllers/fieldCheckbox',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('checkbox'),'init:model',this.registerRenderClasses);nfRadio.channel('checkbox').reply('validate:required',this.validateRequired);nfRadio.channel('checkbox').reply('validate:modelData',this.validateModelData);nfRadio.channel('checkbox').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('checkbox').reply('get:calcValue',this.getCalcValue,this);},beforeUpdateField:function(el,model){var checked=jQuery(el).prop('checked');if(checked){var value=1;jQuery(el).addClass('nf-checked');jQuery(el).closest('.field-wrap').find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}else{var value=0;jQuery(el).removeClass('nf-checked');jQuery(el).closest('.field-wrap').find('label[for="'+jQuery(el).prop('id')+'"]').removeClass('nf-checked-label');}
return value;},validateRequired:function(el,model){return el[0].checked;},validateModelData:function(model){return model.get('value')!=0;},getCalcValue:function(fieldModel){if(1==fieldModel.get('value')){calcValue=fieldModel.get('checked_calc_value');}else{calcValue=fieldModel.get('unchecked_calc_value');}
return calcValue;},registerRenderClasses:function(model){if('checked'==model.get('default_value')){model.set('value',1);}else{model.set('value',0);}
model.set('customClasses',this.customClasses);model.set('customLabelClasses',this.customLabelClasses);model.set('maybeChecked',this.maybeChecked);},customClasses:function(classes){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){classes+=' nf-checked';}else{classes.replace('nf-checked','');}
return classes;},customLabelClasses:function(classes){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){classes+=' nf-checked-label';}else{classes.replace('nf-checked-label','');}
return classes;},maybeChecked:function(){if(1==this.value||(this.clean&&'undefined'!=typeof this.default_value&&'checked'==this.default_value)){return' checked';}else{return'';}}});return controller;});define('controllers/fieldCheckboxList',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('listcheckbox'),'init:model',this.register);this.listenTo(nfRadio.channel('terms'),'init:model',this.register);nfRadio.channel('listcheckbox').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('terms').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('listcheckbox').reply('get:calcValue',this.getCalcValue,this);nfRadio.channel('terms').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherText',this.renderOtherText);model.set('selected',[]);if(0!=model.get('options').length){var selected=_.filter(model.get('options'),function(opt){return 1==opt.selected});selected=_.map(selected,function(opt){return opt.value});}
var savedVal=model.get('value');if('undefined'!==typeof savedVal&&Array.isArray(savedVal)){model.set('value',savedVal);}else if('undefined'!=typeof selected){model.set('value',selected);}},renderOptions:function(){var html='';if(''==this.value||(Array.isArray(this.value)&&0<this.value.length)||0<this.value.length){var valueFound=true;}else{var valueFound=false;}
_.each(this.options,function(option,index){if(Array.isArray(this.value)){if(Array.isArray(this.value[0])&&-1!==_.indexOf(this.value[0],option.value)){valueFound=true;}
else if(_.indexOf(this.value,option.value)){valueFound=true;}}
if(option.value==this.value){valueFound=true;}
if('undefined'==typeof option.visible){option.visible=true;}
option.fieldID=this.id;option.classes=this.classes;option.index=index;var selected=false;if(Array.isArray(this.value)&&0<this.value.length){if(-1!==_.indexOf(this.value[0].split(','),option.value)||-1!==_.indexOf(this.value,option.value)){selected=true;}}else if(!_.isArray(this.value)&&option.value==this.value){selected=true;}else if((1==option.selected&&this.clean)&&'undefined'===typeof this.value){selected=true;}
option.selected=selected;option.isSelected=selected;option.required=this.required;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listcheckbox-option');html+=template(option);},this);if(1==this.show_other){if('nf-other'==this.value){valueFound=false;}
var data={fieldID:this.id,classes:this.classes,currentValue:this.value,renderOtherText:this.renderOtherText,valueFound:valueFound};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listcheckbox-other');html+=template(data);}
return html;},renderOtherText:function(){if('nf-other'==this.currentValue||!this.valueFound){if('nf-other'==this.currentValue){this.currentValue='';}
var data={fieldID:this.fieldID,classes:this.classes,currentValue:this.currentValue};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listcheckbox-other-text');return template(data);}},getCalcValue:function(fieldModel){var calc_value=0;var options=fieldModel.get('options');if(0!=options.length){_.each(fieldModel.get('value'),function(val){var tmp_opt=_.find(options,function(opt){return opt.value==val});calc_value=Number(calc_value)+Number(tmp_opt.calc);});}
return calc_value;},beforeUpdateField:function(el,model){var selected=model.get('value')||[];if(typeof selected=='string')selected=[selected];var value=jQuery(el).val();var checked=jQuery(el).prop('checked');if(checked){selected.push(value);jQuery(el).addClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}else{jQuery(el).removeClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').removeClass('nf-checked-label');var i=selected.indexOf(value);if(-1!=i){selected.splice(i,1);}else if(Array.isArray(selected)){var optionArray=selected[0].split(',');var valueIndex=optionArray.indexOf(value);if(-1!==valueIndex){optionArray.splice(valueIndex,1);}
selected=optionArray.join(',');}}
return _.clone(selected);}});return controller;});define('controllers/fieldImageList',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('listimage'),'init:model',this.register);nfRadio.channel('listimage').reply('before:updateField',this.beforeUpdateField,this);nfRadio.channel('listimage').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherText',this.renderOtherText);model.set('selected',[]);if(0!=model.get('image_options').length){var selected=_.filter(model.get('image_options'),function(opt){return 1==opt.selected});selected=_.map(selected,function(opt){return opt.value});}
var savedVal=model.get('value');if('undefined'!==typeof savedVal&&Array.isArray(savedVal)){model.set('value',savedVal);}else if('undefined'!=typeof selected){model.set('value',selected);}},renderOptions:function(){var html='';if(''==this.value||(Array.isArray(this.value)&&0<this.value.length)||0<this.value.length){var valueFound=true;}else{var valueFound=false;}
if(this.allow_multi_select===1){this.old_classname='list-checkbox';this.image_type='checkbox';}else{this.image_type='radio';}
if(this.list_orientation==='horizontal'){this.flex_direction='row';}else{this.flex_direction='column';}
var that=this;var num_columns=parseInt(this.num_columns)||1;var current_column=1;var current_row=1;_.each(this.image_options,function(image,index){if(!this.show_option_labels){image.label='';}
if(Array.isArray(this.value)){if(Array.isArray(this.value[0])&&-1!==_.indexOf(this.value[0],image.value)){valueFound=true;}
else if(_.indexOf(this.value,image.value)){valueFound=true;}}
if(image.value==this.value){valueFound=true;}
if('undefined'==typeof image.visible){image.visible=true;}
if(that.list_orientation==='horizontal'&&current_column<=num_columns){image.styles="margin:auto;grid-column: "+current_column+"; grid-row = "+current_row;if(current_column===num_columns){current_column=1;current_row+=1;}else{current_column+=1;}}
image.image_type=that.image_type;image.fieldID=this.id;image.classes=this.classes;image.index=index;var selected=false;if(Array.isArray(this.value)&&0<this.value.length){if(-1!==_.indexOf(this.value[0].split(','),image.value)||-1!==_.indexOf(this.value,image.value)){selected=true;}}else if(!_.isArray(this.value)&&image.value==this.value){selected=true;}else if((1==image.selected&&this.clean)&&('undefined'===typeof this.value||''===this.value)){selected=true;}
image.selected=selected;image.isSelected=selected;image.required=this.required;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listimage-option');html+=template(image);},this);if(1==this.show_other){if('nf-other'==this.value){valueFound=false;}
var data={fieldID:this.id,classes:this.classes,value:this.value,currentValue:this.value,renderOtherText:this.renderOtherText,valueFound:valueFound};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listimage-other');html+=template(data);}
return html;},renderOtherText:function(){if('nf-other'==this.currentValue||!this.valueFound){if('nf-other'==this.currentValue){this.currentValue='';}
var data={fieldID:this.fieldID,classes:this.classes,currentValue:this.currentValue};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listimage-other-text');return template(data);}},getCalcValue:function(fieldModel){var calc_value=0;var options=fieldModel.get('options');if(0!=options.length){if(1==parseInt(fieldModel.get('allow_multi_select'))){_.each(fieldModel.get('value'),function(val){var tmp_opt=_.find(options,function(opt){return opt.value==val});calc_value+=Number(tmp_opt.calc);});}else{var selected=_.find(options,function(opt){return fieldModel.get('value')==opt.value});if('undefined'!==typeof selected){calc_value=selected.calc;}}}
return calc_value;},beforeUpdateField:function(el,model){if(model.get('allow_multi_select')!==1){var selected=jQuery(el).val();var options=model.get('image_options');_.each(options,function(option,index){if(option.value===selected){option.isSelected=true;option.selected=true;}else{option.isSelected=false;option.selected=false;}
if(!option.isSelected){option.selected=false;jQuery("#nf-field-"+option.fieldID+"-"+index).removeClass('nf-checked');jQuery("#nf-label-field-"+option.fieldID+"-"+index).removeClass('nf-checked-label');}else{jQuery("#nf-field-"+option.fieldID+"-"+index).addClass('nf-checked');jQuery("#nf-label-field-"+option.fieldID+"-"+index).addClass('nf-checked-label');}});}else{var selected=model.get('value')||[];if(typeof selected=='string')selected=[selected];var value=jQuery(el).val();var checked=jQuery(el).prop('checked');if(checked){selected.push(value);jQuery(el).addClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}else{jQuery(el).removeClass('nf-checked');jQuery(el).parent().find('label[for="'+jQuery(el).prop('id')+'"]').removeClass('nf-checked-label');var i=selected.indexOf(value);if(-1!=i){selected.splice(i,1);}else if(Array.isArray(selected)){var optionArray=selected[0].split(',');var valueIndex=optionArray.indexOf(value);if(-1!==valueIndex){optionArray.splice(valueIndex,1);}
selected=optionArray.join(',');}}}
return _.clone(selected);}});return controller;});define('controllers/fieldRadio',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('listradio'),'change:modelValue',this.changeModelValue);this.listenTo(nfRadio.channel('listradio'),'init:model',this.register);nfRadio.channel('listradio').reply('get:calcValue',this.getCalcValue,this);this.listenTo(nfRadio.channel('listradio'),'change:field',this.updateCheckedClass,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherText',this.renderOtherText);if(0!=model.get('options').length){var selected=_.find(model.get('options'),function(opt){return 1==opt.selected});if('undefined'!=typeof selected){model.set('value',selected.value);}}},changeModelValue:function(model){if(1==model.get('show_other')){model.trigger('reRender');}},renderOptions:function(){var html='';if(''==this.value){var valueFound=true;}else{var valueFound=false;}
_.each(this.options,function(option,index){if(option.value==this.value){valueFound=true;}
if('undefined'==typeof option.visible){option.visible=true;}
option.selected=false;option.fieldID=this.id;option.classes=this.classes;option.currentValue=this.value;option.index=index;option.required=this.required;if(this.clean&&1==this.selected){option.selected=true;}else if(this.value==option.value){option.selected=true;}else{option.selected=false;}
var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listradio-option');html+=template(option);},this);if(1==this.show_other){if('nf-other'==this.value){valueFound=false;}
var data={fieldID:this.id,classes:this.classes,currentValue:this.value,renderOtherText:this.renderOtherText,valueFound:valueFound};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listradio-other');html+=template(data);}
return html;},renderOtherText:function(){if('nf-other'==this.currentValue||!this.valueFound){if('nf-other'==this.currentValue){this.currentValue='';}
var data={fieldID:this.fieldID,classes:this.classes,currentValue:this.currentValue};var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listradio-other-text');return template(data);}},getCalcValue:function(fieldModel){var calc_value=0;if(0!=fieldModel.get('options').length){var selected=_.find(fieldModel.get('options'),function(opt){return fieldModel.get('value')==opt.value});if('undefined'!==typeof selected){calc_value=selected.calc;}}
return calc_value;},updateCheckedClass:function(el,model){jQuery('[name="'+jQuery(el).attr('name')+'"]').removeClass('nf-checked');jQuery(el).closest('ul').find('label').removeClass('nf-checked-label');jQuery(el).addClass('nf-checked');jQuery(el).closest('li').find('label[for="'+jQuery(el).prop('id')+'"]').addClass('nf-checked-label');}});return controller;});define('controllers/fieldNumber',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('number'),'init:model',this.maybeMinDefault);this.listenTo(nfRadio.channel('number'),'keyup:field',this.validateMinMax);},maybeMinDefault:function(model){if(''==model.get('value')&&''==model.get('placeholder')){var min=model.get('num_min');model.set('placeholder',min);}},validateMinMax:function(el,model){var $el=jQuery(el);var value=parseFloat($el.val());var min=$el.attr('min');var max=$el.attr('max');var step=parseFloat($el.attr('step'));if(min&&value<min){var fieldModel=nfRadio.channel('fields').request('get:field',model.get('id'));var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',model.get('id'),'number-min',formModel.get('settings').fieldNumberNumMinError);}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'number-min');}
if(max&&value>max){var fieldModel=nfRadio.channel('fields').request('get:field',model.get('id'));var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',model.get('id'),'number-max',formModel.get('settings').fieldNumberNumMaxError);}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'number-max');}
var testValue=Math.round(parseFloat(value)*1000000000);var testStep=Math.round(parseFloat(step)*1000000000);if(value&&0!==testValue%testStep){var fieldModel=nfRadio.channel('fields').request('get:field',model.get('id'));var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',model.get('id'),'number-step',formModel.get('settings').fieldNumberIncrementBy+step);}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'number-step');}}});return controller;});define('controllers/mirrorField',[],function(){var radioChannel=nfRadio.channel('fields');var controller=Marionette.Object.extend({listeningModel:'',initialize:function(){this.listenTo(radioChannel,'init:model',this.registerMirror);},registerMirror:function(model){if(model.get('mirror_field')){this.listeningModel=model;var targetID=model.get('mirror_field');this.listenTo(nfRadio.channel('field-'+targetID),'change:modelValue',this.changeValue);}},changeValue:function(targetModel){this.listeningModel.set('value',targetModel.get('value'));this.listeningModel.trigger('reRender');}});return controller;});define('controllers/confirmField',[],function(){var radioChannel=nfRadio.channel('fields');var errorID='confirm-mismatch';var controller=Marionette.Object.extend({initialize:function(){this.listenTo(radioChannel,'init:model',this.registerConfirm);this.listenTo(radioChannel,'keyup:field',this.confirmKeyup);},registerConfirm:function(confirmModel){if(!confirmModel.get('confirm_field'))return;this.listenTo(nfRadio.channel('form'),'loaded',function(formModal){this.registerConfirmListeners(confirmModel);});},registerConfirmListeners:function(confirmModel){var targetModel=nfRadio.channel('form-'+confirmModel.get('formID')).request('get:fieldByKey',confirmModel.get('confirm_field'));if('undefined'==typeof targetModel)return;targetModel.set('confirm_with',confirmModel.get('id'));this.listenTo(nfRadio.channel('field-'+targetModel.get('id')),'change:modelValue',this.changeValue);this.listenTo(nfRadio.channel('field-'+confirmModel.get('id')),'change:modelValue',this.changeValue);},changeValue:function(model){if('undefined'==typeof model.get('confirm_with')){var confirmModel=model;var targetModel=nfRadio.channel('form-'+model.get('formID')).request('get:fieldByKey',confirmModel.get('confirm_field'));}else{var targetModel=model;var confirmModel=radioChannel.request('get:field',targetModel.get('confirm_with'));}
var targetID=targetModel.get('id');var confirmID=confirmModel.get('id');if(''==confirmModel.get('value')||confirmModel.get('value')==targetModel.get('value')){nfRadio.channel('fields').request('remove:error',confirmID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',confirmID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',confirmID,errorID,formModel.get('settings').confirmFieldErrorMsg);}},confirmKeyup:function(el,model,keyCode){var currentValue=jQuery(el).val();if(model.get('confirm_field')){var confirmModel=model;var confirmID=model.get('id');var targetModel=nfRadio.channel('form-'+model.get('formID')).request('get:fieldByKey',confirmModel.get('confirm_field'));var compareValue=targetModel.get('value');var confirmValue=currentValue;}else if(model.get('confirm_with')){var confirmModel=nfRadio.channel('fields').request('get:field',model.get('confirm_with'));var confirmID=confirmModel.get('id');var confirmValue=confirmModel.get('value');var compareValue=confirmValue;}
if('undefined'!==typeof confirmModel){if(''==confirmValue){nfRadio.channel('fields').request('remove:error',confirmID,errorID);}else if(currentValue==compareValue){nfRadio.channel('fields').request('remove:error',confirmID,errorID);}else{var fieldModel=nfRadio.channel('fields').request('get:field',confirmID);var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('fields').request('add:error',confirmID,errorID,formModel.get('settings').confirmFieldErrorMsg);}}}});return controller;});define('controllers/updateFieldModel',[],function(){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('nfAdmin').reply('update:field',this.updateField);},updateField:function(model,value){if(!model.get('isUpdated')){model.set('value',value);model.set('isUpdated',true);if(_.isArray(value)){model.trigger('change:value',model);}}}});return controller;});define('controllers/submitButton',['controllers/submitButton'],function(submitButton){var controller=Marionette.Object.extend({bound:{},initialize:function(){this.listenTo(nfRadio.channel('submit'),'init:model',this.registerHandlers);},registerHandlers:function(fieldModel){if('undefined'!=typeof this.bound[fieldModel.get('id')]){return false;}
this.listenTo(nfRadio.channel('field-'+fieldModel.get('id')),'click:field',this.click,this);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'before:submit',this.beforeSubmit,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'submit:failed',this.resetLabel,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'submit:response',this.resetLabel,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'enable:submit',this.maybeEnable,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'disable:submit',this.maybeDisable,fieldModel);fieldModel.listenTo(nfRadio.channel('form-'+fieldModel.get('formID')),'processingLabel',this.processingLabel,fieldModel);fieldModel.listenTo(nfRadio.channel('fields'),'add:error',this.maybeDisable,fieldModel);fieldModel.listenTo(nfRadio.channel('fields'),'remove:error',this.maybeEnable,fieldModel);this.bound[fieldModel.get('id')]=true;},click:function(e,fieldModel){var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));nfRadio.channel('form-'+fieldModel.get('formID')).request('submit',formModel);},beforeSubmit:function(){this.set('disabled',true);nfRadio.channel('form-'+this.get('formID')).trigger('processingLabel',this);},maybeDisable:function(fieldModel){if('undefined'!=typeof fieldModel&&fieldModel.get('formID')!=this.get('formID'))return;this.set('disabled',true);this.trigger('reRender');},maybeEnable:function(fieldModel){if('undefined'!=typeof fieldModel&&fieldModel.get('formID')!=this.get('formID')){return false;}
var formModel=nfRadio.channel('app').request('get:form',this.get('formID'));if(0==_.size(formModel.get('fieldErrors'))){this.set('disabled',false);this.trigger('reRender');}},processingLabel:function(){if(this.get('label')==this.get('processing_label'))return false;this.set('oldLabel',this.get('label'));this.set('label',this.get('processing_label'));this.trigger('reRender');},resetLabel:function(response){if('undefined'!=typeof response.errors&&'undefined'!=typeof response.errors.nonce&&_.size(response.errors.nonce)>0){if('undefined'!=typeof response.errors.nonce.new_nonce&&'undefined'!=typeof response.errors.nonce.nonce_ts){return;}}
if('undefined'!=typeof this.get('oldLabel')){this.set('label',this.get('oldLabel'));}
this.set('disabled',false);this.trigger('reRender');}});return controller;});define('controllers/submitDebug',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.submitDebug);},submitDebug:function(response,textStatus,jqXHR,formID){if('undefined'==typeof response.debug)return;if('undefined'!=typeof response.debug.form){var debugMessages=document.createElement('span');_.each(response.debug.form,function(message,index){var messageText=document.createTextNode(message);debugMessages.appendChild(messageText);debugMessages.appendChild(document.createElement('br'));});jQuery('.nf-debug-msg').html(debugMessages);}
if('undefined'!=typeof response.debug.console){var style='';console.log('%c%s',style,'NINJA SUPPORT');_.each(response.debug.console,function(message,index){console.log(message);});console.log('%c%s',style,'END NINJA SUPPORT');}}});return controller;});define('controllers/getFormErrors',[],function(){var radioChannel=nfRadio.channel('fields');var controller=Marionette.Object.extend({initialize:function(model){nfRadio.channel('form').reply('get:errors',this.getFormErrors);},getFormErrors:function(formID){var formModel=nfRadio.channel('app').request('get:form',formID);var errors=false;if(formModel){if(0!==formModel.get('errors').length){_.each(formModel.get('errors').models,function(error){errors=errors||{};errors[error.get('id')]=error.get('msg');});}
_.each(formModel.get('fields').models,function(field){if(field.get('type')!='submit'&&field.get('errors').length>0){errors=errors||{};errors[field.get('id')]=field.get('errors');}});}
return errors;},});return controller;});define('controllers/validateRequired',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'blur:field',this.validateRequired);this.listenTo(nfRadio.channel('fields'),'change:field',this.validateRequired);this.listenTo(nfRadio.channel('fields'),'keyup:field',this.validateKeyup);this.listenTo(nfRadio.channel('fields'),'change:modelValue',this.validateModelData);this.listenTo(nfRadio.channel('submit'),'validate:field',this.validateModelData);},validateKeyup:function(el,model,keyCode){if(1!=model.get('required')){return false;}
if(!model.get('clean')){this.validateRequired(el,model);}},validateRequired:function(el,model){if(1!=model.get('required')||!model.get('visible')){return false;}
var currentValue=jQuery(el).val();var customReqValidation=nfRadio.channel(model.get('type')).request('validate:required',el,model);var defaultReqValidation=true;var maskPlaceholder=model.get('mask');if(maskPlaceholder){maskPlaceholder=maskPlaceholder.replace(/9/g,'_');maskPlaceholder=maskPlaceholder.replace(/a/g,'_');maskPlaceholder=maskPlaceholder.replace(/\*/g,'_');}
if(maskPlaceholder&&currentValue===maskPlaceholder){if(0<model.get('errors').length){defaultReqValidation=false;}}
if(!jQuery.trim(currentValue)){defaultReqValidation=false;}
if('undefined'!==typeof customReqValidation){var valid=customReqValidation;}else{var valid=defaultReqValidation;}
this.maybeError(valid,model);},validateModelData:function(model){if(1!=model.get('required')||!model.get('visible')||model.get('clean')){return false;}
if(model.get('errors').get('required-error')){return false;}
currentValue=model.get('value');var defaultReqValidation=true;if(!jQuery.trim(currentValue)){defaultReqValidation=false;}
var customReqValidation=nfRadio.channel(model.get('type')).request('validate:modelData',model);if('undefined'!==typeof customReqValidation){var valid=customReqValidation;}else{var valid=defaultReqValidation;}
this.maybeError(valid,model);},maybeError:function(valid,model){if(!valid){var formModel=nfRadio.channel('form-'+model.get('formID')).request('get:form');if('undefined'!=typeof formModel){nfRadio.channel('fields').request('add:error',model.get('id'),'required-error',formModel.get('settings').validateRequiredField);}}else{nfRadio.channel('fields').request('remove:error',model.get('id'),'required-error');}}});return controller;});define('controllers/submitError',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.submitErrors);},submitErrors:function(response,textStatus,jqXHR,formID){if(_.size(response.errors.nonce)>0){if('undefined'!=typeof response.errors.nonce.new_nonce&&'undefined'!=typeof response.errors.nonce.nonce_ts){nfFrontEnd.ajaxNonce=response.errors.nonce.new_nonce;nfFrontEnd.nonce_ts=response.errors.nonce.nonce_ts;var formModel=nfRadio.channel('app').request('get:form',formID);nfRadio.channel('form-'+formID).request('submit',formModel);}}
if(_.size(response.errors.fields)>0){_.each(response.errors.fields,function(data,fieldID){if(typeof(data)==='object'){nfRadio.channel('fields').request('add:error',fieldID,data.slug,data.message);}else{nfRadio.channel('fields').request('add:error',fieldID,'required-error',data);}});}
if(_.size(response.errors.form)>0){_.each(response.errors.form,function(msg,errorID){nfRadio.channel('form-'+formID).request('remove:error',errorID);nfRadio.channel('form-'+formID).request('add:error',errorID,msg);});}
if('undefined'!=typeof response.errors.last){if('undefined'!=typeof response.errors.last.message){var style='background: rgba( 255, 207, 115, .5 ); color: #FFA700; display: block;';console.log('%c NINJA FORMS SUPPORT: SERVER ERROR',style);console.log(response.errors.last.message);console.log('%c END SERVER ERROR MESSAGE',style);}}
jQuery('#nf-form-'+formID+'-cont .nf-field-container').show();}});return controller;});define('controllers/actionRedirect',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.actionRedirect);},actionRedirect:function(response){if('undefined'!=typeof response.data.halt&&'undefined'!=typeof response.data.halt.redirect&&''!=response.data.halt.redirect){window.location=response.data.halt.redirect;}
if(_.size(response.errors)==0&&'undefined'!=typeof response.data.actions){if('undefined'!=typeof response.data.actions.redirect&&''!=response.data.actions.redirect){window.location=response.data.actions.redirect;}}}});return controller;});define('controllers/actionSuccess',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.actionSubmit);},actionSubmit:function(response){if(_.size(response.errors)==0&&'undefined'!=typeof response.data.actions){if('undefined'!=typeof response.data.actions.success_message&&''!=response.data.actions.success_message){var form_id=response.data.form_id;var success_message=jQuery('#nf-form-'+form_id+'-cont .nf-response-msg');success_message.html(response.data.actions.success_message).show();var top_of_success_message=success_message.offset().top;var bottom_of_success_message=success_message.offset().top+success_message.outerHeight();var bottom_of_screen=jQuery(window).scrollTop()+jQuery(window).height();var top_of_screen=jQuery(window).scrollTop();var the_element_is_visible=((bottom_of_screen>bottom_of_success_message)&&(top_of_screen<top_of_success_message));if(!the_element_is_visible){jQuery('html, body').animate({scrollTop:(success_message.offset().top-50)},300);}}}}});return controller;});define('controllers/fieldSelect',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'init:model',function(model){if('list'==model.get('parentType'))this.register(model);},this);nfRadio.channel('listselect').reply('get:calcValue',this.getCalcValue,this);nfRadio.channel('listmultiselect').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderOptions',this.renderOptions);model.set('renderOtherAttributes',this.renderOtherAttributes);if(0!=model.get('options').length){var savedVal=model.get('value');if('listmultiselect'==model.get('type')){var selected=_.filter(model.get('options'),function(opt){return 1==opt.selected});selected=_.map(selected,function(opt){return opt.value});var value=selected;}else if('listradio'!==model.get('type')){var selected=_.find(model.get('options'),function(opt){return 1==opt.selected});if('undefined'==typeof selected){selected=_.first(model.get('options'));}
if('undefined'!=typeof selected&&'undefined'!=typeof selected.value){var value=selected.value;}else if('undefined'!=typeof selected){var value=selected.label;}}
if('undefined'!==typeof savedVal&&''!==savedVal&&Array.isArray(savedVal)){model.set('value',savedVal);}else if('undefined'!=typeof selected){model.set('value',value);}}},renderOptions:function(){var html='';_.each(this.options,function(option){if(_.isArray(this.value)){if('listmultiselect'===this.type&&0<this.value.length&&-1!=_.indexOf(this.value[0].split(','),option.value)){var selected=true;}else if(-1!=_.indexOf(this.value,option.value)){var selected=true;}}else if(!_.isArray(this.value)&&option.value==this.value){var selected=true;}else if((1==option.selected&&this.clean)&&'undefined'===typeof this.value){var selected=true;}else{var selected=false;}
if('undefined'==typeof option.visible){option.visible=true;}
option.selected=selected;option.fieldID=this.id;option.classes=this.classes;option.currentValue=this.value;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-listselect-option');html+=template(option);},this);return html;},renderOtherAttributes:function(){var otherAttributes='';if('listmultiselect'==this.type){otherAttributes=otherAttributes+' multiple';var multiSize=this.multi_size||5;otherAttributes=otherAttributes+' size="'+multiSize+'"';}
return otherAttributes;},getCalcValue:function(fieldModel){var calc_value=0;var options=fieldModel.get('options');if(0!=options.length){if('listmultiselect'==fieldModel.get('type')){_.each(fieldModel.get('value'),function(val){var tmp_opt=_.find(options,function(opt){return opt.value==val});calc_value+=Number(tmp_opt.calc);});}else{var selected=_.find(options,function(opt){return fieldModel.get('value')==opt.value});if('undefined'==typeof selected){selected=fieldModel.get('options')[0];}
calc_value=selected.calc;}}
return calc_value;}});return controller;});define('controllers/coreSubmitResponse',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'submit:response',this.actionSubmit);},actionSubmit:function(response){var formModel=nfRadio.channel('app').request('get:form',response.data.form_id);if(0!=_.size(response.errors)){return false;}
if(1==response.data.settings.clear_complete){formModel.get('fields').reset(formModel.get('loadedFields'));if(1!=response.data.settings.hide_complete){nfRadio.channel('captcha').trigger('reset');}}
if(1==response.data.settings.hide_complete){formModel.trigger('hide');}}});return controller;});define('controllers/fieldProduct',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('product'),'init:model',this.register);nfRadio.channel('product').reply('get:calcValue',this.getCalcValue,this);},register:function(model){model.set('renderProductQuantity',this.renderProductQuantity);model.set('renderProduct',this.renderProduct);model.set('renderOptions',this.renderOptions);},renderProduct:function(){switch(this.product_type){case'user':var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-textbox');return template(this);break;case'hidden':var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-hidden');return template(this);break;case'dropdown':var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-dropdown');return template(this);break;default:var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-single');return template(this);}},renderProductQuantity:function(){if(1==this.product_use_quantity){var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-quantity');return template(this);}},renderOptions:function(){var that=this;var html='';_.each(this.options,function(option){if(1==option.selected){var selected=true;}else{var selected=false;}
option.selected=selected;option.fieldID=that.id;option.classes=that.classes;option.currentValue=that.value;var template=nfRadio.channel('app').request('get:template','#tmpl-nf-product-'+that.product_type+'-option');html+=template(option);});return html;},getCalcValue:function(fieldModel){var product_price=fieldModel.get('product_price');var product_quantity=fieldModel.get('value');return product_price*product_quantity;}});return controller;});define('controllers/fieldTotal',[],function(){var controller=Marionette.Object.extend({totalModel:{},productTotals:{},initialize:function(){this.listenTo(nfRadio.channel('total'),'init:model',this.register);this.listenTo(nfRadio.channel('shipping'),'init:model',this.registerShipping);},register:function(totalModel){this.totalModel=totalModel;var formID=totalModel.get('formID');this.listenTo(nfRadio.channel('form-'+formID),'loaded',this.onFormLoaded);this.listenTo(nfRadio.channel('product'),'change:modelValue',this.onChangeProduct);this.listenTo(nfRadio.channel('quantity'),'change:modelValue',this.onChangeQuantity);},registerShipping:function(shippingModel){this.shippingCost=shippingModel.get('shipping_cost');},onFormLoaded:function(formModel){var fieldModels=formModel.get('fields').models;var productFields={};var quantityFields={};for(var model in fieldModels){var field=fieldModels[model];var fieldID=field.get('id');if('product'==field.get('type')){productFields[fieldID]=field;}else if('quantity'==field.get('type')){var productID=field.get('product_assignment');quantityFields[productID]=field;}}
for(var productID in productFields){var product=productFields[productID];var productPrice=Number(product.get('product_price'));if(quantityFields[productID]){productPrice*=quantityFields[productID].get('value');}else if(1==product.get('product_use_quantity')){productPrice*=product.get('value');}
this.productTotals[productID]=productPrice;}
this.updateTotal();},onChangeProduct:function(model){var productID=model.get('id');var productPrice=Number(model.get('product_price'));var productQuantity=Number(model.get('value'));var newTotal=productQuantity*productPrice;this.productTotals[productID]=newTotal;this.updateTotal();},onChangeQuantity:function(model){var productID=model.get('product_assignment');var productField=nfRadio.channel('fields').request('get:field',productID);var productPrice=Number(productField.get('product_price'));var quantity=Number(model.get('value'));var newTotal=quantity*productPrice;this.productTotals[productID]=newTotal;this.updateTotal();},updateTotal:function(){var newTotal=0;for(var product in this.productTotals){newTotal+=Number(this.productTotals[product]);}
if(newTotal&&this.shippingCost){newTotal+=Number(this.shippingCost);}
this.totalModel.set('value',newTotal.toFixed(2));this.totalModel.trigger('reRender');}});return controller;});define('controllers/fieldQuantity',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('quantity'),'init:model',this.registerQuantity);},registerQuantity:function(model){var productID=model.get('product_assignment');var product=nfRadio.channel('fields').request('get:field',productID);if(product){product.set('product_use_quantity',0);}},});return controller;});define('models/calcModel',[],function(){var model=Backbone.Model.extend({initialize:function(){this.set('formID',this.collection.options.formModel.get('id'));this.set('fields',{});nfRadio.channel('calc').trigger('init:model',this);this.on('change:value',this.changeValue,this);},changeField:function(fieldModel){nfRadio.channel('calc').trigger('change:field',this,fieldModel);},changeCalc:function(targetCalcModel){nfRadio.channel('calc').trigger('change:calc',this,targetCalcModel);},changeValue:function(){nfRadio.channel('calc').trigger('change:value',this);}});return model;});define('models/calcCollection',['models/calcModel'],function(CalcModel){var collection=Backbone.Collection.extend({model:CalcModel,comparator:'order',initialize:function(models,options){this.options=options;_.each(models,function(model){if('undefined'==typeof model.dec)return;if(''===model.dec.toString().trim())model.dec=2;model.dec=parseInt(model.dec);});nfRadio.channel('form-'+options.formModel.get('id')).reply('get:calc',this.getCalc,this);},getCalc:function(key){return this.findWhere({name:key});}});return collection;});define('controllers/calculations',['models/calcCollection'],function(CalcCollection){var controller=Marionette.Object.extend({initialize:function(){this.calcs={};this.displayFields={};this.listenTo(nfRadio.channel('form'),'loaded',this.registerCalcs);this.listenTo(nfRadio.channel('fields'),'reset:collection',this.resetCalcs);this.listenTo(nfRadio.channel('calc'),'change:field',this.changeField);this.listenTo(nfRadio.channel('calc'),'change:calc',this.changeCalc);var that=this;_.each(nfFrontEnd.use_merge_tags.calculations,function(fieldType){that.listenTo(nfRadio.channel('fields-'+fieldType),'init:model',that.initDisplayField);});this.listenTo(nfRadio.channel('calc'),'change:value',this.updateDisplayFields);this.init={};},resetCalcs:function(fieldCollection){if('undefined'!=typeof(fieldCollection.options.formModel)){this.registerCalcs(fieldCollection.options.formModel);}},registerCalcs:function(formModel){var calcCollection=new CalcCollection(formModel.get('settings').calculations,{formModel:formModel});this.calcs[formModel.get('id')]=calcCollection;var that=this;_.each(calcCollection.models,function(calcModel){that.init[calcModel.get('name')]=true;that.setupCalc(calcModel);});},setupCalc:function(calcModel){var that=this;var eq=calcModel.get('eq');var eqValues=eq;var calcName=calcModel.get('name');var fields=eq.match(new RegExp(/{field:(.*?)}/g));if(fields){fields=fields.map(function(field){var key=field.replace(':calc}','').replace('}','').replace('{field:','');fieldModel=nfRadio.channel('form-'+calcModel.get('formID')).request('get:fieldByKey',key);if('undefined'==typeof fieldModel)return;fieldModel.set('clean',false);fieldModel.on('change:value',calcModel.changeField,calcModel);var calcValue=that.getCalcValue(fieldModel);that.updateCalcFields(calcModel,key,calcValue);eqValues=that.replaceKey('field',key,calcValue,eqValues);});}
var calcs=eq.match(new RegExp(/{calc:(.*?)}/g));if(calcs){calcs=calcs.map(function(calc){var name=calc.replace('}','').replace('{calc:','');var targetCalcModel=calcModel.collection.findWhere({name:name});if('undefined'==typeof targetCalcModel)return;targetCalcModel.on('change:value',calcModel.changeCalc,calcModel);var calcValue=targetCalcModel.get('value');eqValues=that.replaceKey('calc',name,calcValue,eqValues);});}
eqValues=eqValues.replace(/{([a-zA-Z0-9]|:|_|-)*}/g,0);eqValues=eqValues.replace(/\r?\n|\r/g,'');try{this.debug('Calculation Decoder '+eqValues+' -> '+this.localeDecodeEquation(eqValues)+' (Setup)');calcModel.set('value',Number(mexp.eval(this.localeDecodeEquation(eqValues))).toFixed(calcModel.get('dec')));}catch(e){console.log(e);}
if(calcModel.get('value')==='NaN')calcModel.set('value','0');},updateCalcFields:function(calcModel,key,calcValue){var fields=calcModel.get('fields');fields[key]=calcValue;calcModel.set('fields',fields);},getCalcValue:function(fieldModel){var value=nfRadio.channel(fieldModel.get('type')).request('get:calcValue',fieldModel);var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);var calcValue=value||fieldModel.get('value');var machineNumber=localeConverter.numberDecoder(calcValue);var formattedNumber=localeConverter.numberEncoder(calcValue);if('undefined'!==typeof machineNumber&&jQuery.isNumeric(machineNumber)){value=formattedNumber;}else{value=0;}
if(!fieldModel.get('visible')){value=0;}
return value;},replaceKey:function(type,key,calcValue,eq){eq=eq||calcModel.get('eq');tag='{'+type+':'+key+'}';var reTag=new RegExp(tag,'g');calcTag='{'+type+':'+key+':calc}';var reCalcTag=new RegExp(calcTag,'g');eq=eq.replace(reTag,calcValue);eq=eq.replace(reCalcTag,calcValue);return eq;},replaceAllKeys:function(calcModel){var eq=calcModel.get('eq');var that=this;_.each(calcModel.get('fields'),function(value,key){eq=that.replaceKey('field',key,value,eq);});var calcs=eq.match(new RegExp(/{calc:(.*?)}/g));if(calcs){_.each(calcs,function(calc){var name=calc.replace('}','').replace('{calc:','');var targetCalcModel=calcModel.collection.findWhere({name:name});if('undefined'==typeof targetCalcModel)return;var re=new RegExp(calc,'g');eq=eq.replace(re,targetCalcModel.get('value'));});}
return eq;},changeField:function(calcModel,fieldModel){var key=fieldModel.get('key');var value=this.getCalcValue(fieldModel);this.updateCalcFields(calcModel,key,value);var eqValues=this.replaceAllKeys(calcModel);eqValues=eqValues.replace(/{([a-zA-Z0-9]|:|_|-)*}/g,'0');eqValues=eqValues.replace(/\r?\n|\r/g,'');try{this.debug('Calculation Decoder '+eqValues+' -> '+this.localeDecodeEquation(eqValues)+' (Change Field)');calcModel.set('value',Number(mexp.eval(this.localeDecodeEquation(eqValues))).toFixed(calcModel.get('dec')));}catch(e){if(this.debug())console.log(e);}
if(calcModel.get('value')==='NaN')calcModel.set('value','0');},initDisplayField:function(fieldModel){if(!fieldModel.get('default')||'string'!=typeof fieldModel.get('default'))return;var calcs=fieldModel.get('default').match(new RegExp(/{calc:(.*?)}/g));if(calcs){_.each(calcs,function(calcName){calcName=calcName.replace('{calc:','').replace('}','').replace(':2','');this.displayFields[calcName]=this.displayFields[calcName]||[];this.displayFields[calcName].push(fieldModel);},this);}},updateDisplayFields:function(calcModel){var that=this;if('undefined'!=typeof this.displayFields[calcModel.get('name')]){_.each(this.displayFields[calcModel.get('name')],function(fieldModel){var value='';if("html"===fieldModel.get('type')){value=fieldModel.get('value');}else{value=fieldModel.get('default');}
var spans=value.match(new RegExp(/<span data-key="calc:(.*?)<\/span>/g));_.each(spans,function(spanVar){var tmpCalcTag="{"+spanVar.replace("<span"+" data-key=\"","").replace(/">(.*?)<\/span>/,"")+"}";value=value.replace(spanVar,tmpCalcTag);});var calcs=value.match(new RegExp(/{calc:(.*?)}/g));_.each(calcs,function(calc){var name=calc.replace('}','').replace('{calc:','').replace(':2','');var calcModel=that.calcs[fieldModel.get('formID')].findWhere({name:name});var re=new RegExp(calc,'g');var calcValue=calcModel.get('value');if('undefined'!=typeof(calcValue)){calcValue=that.applyLocaleFormatting(calcValue,calcModel);}
if("html"===fieldModel.get('type')){value=value.replace(re,"<span data-key=\"calc:"+name+"\">"
+calcValue+"</span>");}else{value=calcValue;}});fieldModel.set('value',value);if(!that.init[calcModel.get('name')]){fieldModel.trigger('reRender');}
that.init[calcModel.get('name')]=false;});}},getCalc:function(name,formID){return this.calcs[formID].findWhere({name:name});},changeCalc:function(calcModel,targetCalcModel){var eqValues=this.replaceAllKeys(calcModel);eqValues=eqValues.replace('[','').replace(']','');eqValues=eqValues.replace(/\r?\n|\r/g,'');try{this.debug('Calculation Decoder '+eqValues+' -> '+this.localeDecodeEquation(eqValues)+' (Change Calc)');calcModel.set('value',Number(mexp.eval(this.localeDecodeEquation(eqValues))).toFixed(calcModel.get('dec')));}catch(e){console.log(e);}
if(calcModel.get('value')==='NaN')calcModel.set('value','0');},applyLocaleFormatting:function(number,calcModel){var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);var formattedNumber=localeConverter.numberEncoder(number,calcModel.get('dec'));return formattedNumber;},localeDecodeEquation:function(eq){var result='';var expression='';var pattern=/[0-9.,]/;var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);eq=eq.replace(/\s/g,'');eq=eq.replace(/&nbsp;/g,'');var characters=eq.split('');characters.forEach(function(character){if(pattern.test(character)){expression=expression+character;}else{if(0<expression.length){result=result+localeConverter.numberDecoder(expression);expression='';}
result=result+character;}});if(0<expression.length){result=result+localeConverter.numberDecoder(expression);}
return result;},debug:function(message){if(window.nfCalculationsDebug||false)console.log(message);}});return controller;});define('controllers/dateBackwardsCompat',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(Backbone.Radio.channel('pikaday-bc'),'init',this.dateBackwardsCompat);},dateBackwardsCompat:function(dateObject,fieldModel){dateObject.pikaday={};dateObject.pikaday._o={};nfRadio.channel('pikaday').trigger('init',dateObject,fieldModel);if(typeof dateObject.pikaday._o.disableDayFn!=='undefined'){dateObject.set('disable',[dateObject.pikaday._o.disableDayFn]);}
if(typeof dateObject.pikaday._o.i18n!=='undefined'||typeof dateObject.pikaday._o.firstDay!=='undefined'){let locale=dateObject.config.locale;if(typeof dateObject.pikaday._o.firstDay!=='undefined'){locale.firstDayOfWeek=dateObject.pikaday._o.firstDay;}
if(typeof dateObject.pikaday._o.i18n!=='undefined'){if(typeof dateObject.pikaday._o.i18n.weekdays!=='undefined'){locale.weekdays.longhand=dateObject.pikaday._o.i18n.weekdays;}
if(typeof dateObject.pikaday._o.i18n.weekdaysShort!=='undefined'){locale.weekdays.shorthand=dateObject.pikaday._o.i18n.weekdaysShort;}
if(typeof dateObject.pikaday._o.i18n.months!=='undefined'){jQuery('.flatpickr-monthDropdown-months > option').each(function(){this.text=dateObject.pikaday._o.i18n.months[this.value];});}}
dateObject.set('locale',locale);}
if(Object.keys(dateObject.pikaday._o).length>0){console.log("%cDeprecated Ninja Forms Pikaday custom code detected.","color: Red; font-size: large");console.log("You are using deprecated Ninja Forms Pikaday custom code. Support for this custom code will be removed in a future version of Ninja Forms. Please contact Ninja Forms support for more details.");}}});return controller;});define('controllers/fieldDate',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('date'),'init:model',this.registerFunctions);this.listenTo(nfRadio.channel('date'),'render:view',this.initDatepicker);},registerFunctions:function(model){model.set('renderHourOptions',this.renderHourOptions);model.set('renderMinuteOptions',this.renderMinuteOptions);model.set('maybeRenderAMPM',this.maybeRenderAMPM);model.set('customClasses',this.customClasses);model.getValue=this.getValue;},renderHourOptions:function(){return this.hours_options;},renderMinuteOptions:function(){return this.minutes_options;},maybeRenderAMPM:function(){if('undefined'==typeof this.hours_24||1==this.hours_24){return;}
return'<div style="float:left;"><select class="ampm extra"><option value="am">AM</option><option value="pm">PM</option></select></div>';},initDatepicker:function(view){view.model.set('el',view.el);var el=jQuery(view.el).find('.nf-element')[0];view.listenTo(nfRadio.channel('form-'+view.model.get('formID')),'before:submit',this.beforeSubmit,view);if('undefined'!=typeof view.model.get('date_mode')&&'time_only'==view.model.get('date_mode')){jQuery(el).hide();return false;}
var dateFormat=view.model.get('date_format');if(''==dateFormat||'default'==dateFormat){dateFormat=this.convertDateFormat(nfi18n.dateFormat);}
var dateSettings={classes:jQuery(el).attr("class"),placeholder:view.model.get('placeholder'),parseDate:function(datestr,format){return moment(datestr,format,true).toDate();},formatDate:function(date,format,locale){return moment(date).format(format);},dateFormat:dateFormat,altFormat:dateFormat,altInput:true,ariaDateFormat:dateFormat,mode:"single",allowInput:true,disableMobile:"true",locale:{months:{shorthand:nfi18n.monthsShort,longhand:nfi18n.months},weekdays:{shorthand:nfi18n.weekdaysShort,longhand:nfi18n.weekdays},firstDayOfWeek:nfi18n.startOfWeek,}};let filteredDatePickerSettings=nfRadio.channel('flatpickr').request('filter:settings',dateSettings,view);if('undefined'!=typeof filteredDatePickerSettings){dateSettings=filteredDatePickerSettings;}
var dateObject=flatpickr(el,dateSettings);if(1==view.model.get('date_default')){dateObject.setDate(moment().format(dateFormat));view.model.set('value',moment().format(dateFormat));}
nfRadio.channel('pikaday-bc').trigger('init',dateObject,view.model,view);nfRadio.channel('flatpickr').trigger('init',dateObject,view.model,view);},beforeSubmit:function(formModel){if('date_only'==this.model.get('date_mode')){return false;}
let hour=jQuery(this.el).find('.hour').val();let minute=jQuery(this.el).find('.minute').val();let ampm=jQuery(this.el).find('.ampm').val();let current_value=this.model.get('value');let date=false;if(_.isObject(current_value)){date=current_value.date;}else{date=current_value;}
let date_value={date:date,hour:hour,minute:minute,ampm:ampm,};this.model.set('value',date_value);},getYearRange:function(fieldModel){var yearRange=10;var yearRangeStart=fieldModel.get('year_range_start');var yearRangeEnd=fieldModel.get('year_range_end');if(yearRangeStart&&yearRangeEnd){return[yearRangeStart,yearRangeEnd];}else if(yearRangeStart){yearRangeEnd=yearRangeStart+yearRange;return[yearRangeStart,yearRangeEnd];}else if(yearRangeEnd){yearRangeStart=yearRangeEnd-yearRange;return[yearRangeStart,yearRangeEnd];}
return yearRange;},getMinDate:function(fieldModel){var minDate=null;var yearRangeStart=fieldModel.get('year_range_start');if(yearRangeStart){return new Date(yearRangeStart,0,1);}
return minDate;},getMaxDate:function(fieldModel){var maxDate=null;var yearRangeEnd=fieldModel.get('year_range_end');if(yearRangeEnd){return new Date(yearRangeEnd,11,31);}
return maxDate;},convertDateFormat:function(dateFormat){dateFormat=dateFormat.replace('D','ddd');dateFormat=dateFormat.replace('d','DD');dateFormat=dateFormat.replace('l','dddd');dateFormat=dateFormat.replace('j','D');dateFormat=dateFormat.replace('N','');dateFormat=dateFormat.replace('S','');dateFormat=dateFormat.replace('w','d');dateFormat=dateFormat.replace('z','');dateFormat=dateFormat.replace('W','W');dateFormat=dateFormat.replace('M','MMM');dateFormat=dateFormat.replace('F','MMMM');dateFormat=dateFormat.replace('m','MM');dateFormat=dateFormat.replace('n','M');dateFormat=dateFormat.replace('t','');dateFormat=dateFormat.replace('L','');dateFormat=dateFormat.replace('o','YYYY');dateFormat=dateFormat.replace('Y','YYYY');dateFormat=dateFormat.replace('y','YY');dateFormat=dateFormat.replace('a','');dateFormat=dateFormat.replace('A','');dateFormat=dateFormat.replace('B','');dateFormat=dateFormat.replace('g','');dateFormat=dateFormat.replace('G','');dateFormat=dateFormat.replace('h','');dateFormat=dateFormat.replace('H','');dateFormat=dateFormat.replace('i','');dateFormat=dateFormat.replace('s','');dateFormat=dateFormat.replace('u','');dateFormat=dateFormat.replace('v','');dateFormat=dateFormat.replace('e','');dateFormat=dateFormat.replace('I','');dateFormat=dateFormat.replace('O','');dateFormat=dateFormat.replace('P','');dateFormat=dateFormat.replace('T','');dateFormat=dateFormat.replace('Z','');dateFormat=dateFormat.replace('c','');dateFormat=dateFormat.replace('r','');dateFormat=dateFormat.replace('u','');return dateFormat;},customClasses:function(classes){if('date_and_time'==this.date_mode){classes+=' date-and-time';}
return classes;},getValue:function(){if('date_only'==this.get('date_mode')){return this.get('value');}
let el=this.get('el');let hour=jQuery(el).find('.hour').val();let minute=jQuery(el).find('.minute').val();let ampm=jQuery(el).find('.ampm').val();let current_value=this.get('value');let date=false;if(_.isObject(current_value)){date=current_value.date;}else{date=current_value;}
let value='';if('undefined'!=typeof date){value+=date;}
if('undefined'!=typeof hour&&'undefined'!=typeof minute){value+=' '+hour+':'+minute;}
if('undefined'!=typeof ampm){value+=' '+ampm;}
return value;}});return controller;});define('controllers/fieldRecaptcha',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('recaptcha'),'init:model',this.initRecaptcha);this.listenTo(nfRadio.channel('forms'),'submit:response',this.resetRecaptcha);},initRecaptcha:function(model){nfRadio.channel('recaptcha').reply('update:response',this.updateResponse,this,model.id);},updateResponse:function(response,fieldID){var model=nfRadio.channel('fields').request('get:field',fieldID);model.set('value',response);nfRadio.channel('fields').request('remove:error',model.get('id'),'required-error');},resetRecaptcha:function(){var recaptchaID=0;jQuery('.g-recaptcha').each(function(){try{grecaptcha.reset(recaptchaID);}catch(e){console.log('Notice: Error trying to reset grecaptcha.');}
recaptchaID++;});}});return controller;});define('controllers/fieldRecaptchaV3',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('recaptcha_v3'),'init:model',this.initRecaptcha);},initRecaptcha:function(model){let formID=model.get('formID');nfRadio.channel('form-'+formID).trigger('disable:submit',model);grecaptcha.ready(function(){grecaptcha.execute(model.get('site_key'),{action:'register'}).then(function(token){model.set('value',token);nfRadio.channel('form-'+formID).trigger('enable:submit',model);});});},});return controller;});define('controllers/fieldHTML',[],function(){var controller=Marionette.Object.extend({htmlFields:[],trackedMergeTags:[],initialize:function(){this.listenTo(Backbone.Radio.channel('fields-html'),'init:model',this.setupFieldMergeTagTracking);},setupFieldMergeTagTracking:function(fieldModel){this.htmlFields.push(fieldModel);var formID=fieldModel.get('formID');this.listenTo(nfRadio.channel('form-'+formID),'init:model',function(formModel){var mergeTags=fieldModel.get('default').match(new RegExp(/{field:(.*?)}/g));if(!mergeTags)return;_.each(mergeTags,function(mergeTag){var fieldKey=mergeTag.replace('{field:','').replace('}','');var fieldModel=formModel.get('fields').findWhere({key:fieldKey});if('undefined'==typeof fieldModel)return;this.trackedMergeTags.push(fieldModel);this.listenTo(nfRadio.channel('field-'+fieldModel.get('id')),'change:modelValue',this.updateFieldMergeTags);},this);this.updateFieldMergeTags();},this);},updateFieldMergeTags:function(fieldModel){_.each(this.htmlFields,function(htmlFieldModel){var value=htmlFieldModel.get('value');_.each(this.trackedMergeTags,function(fieldModel){var spans=value.match(new RegExp(/<span data-key="field:(.*?)<\/span>/g));_.each(spans,function(spanVar){if(-1<spanVar.indexOf("data-key=\"field:"+fieldModel.get('key'))){value=value.replace(spanVar,"{field:"+fieldModel.get('key')+"}");}});var mergeTag='{field:'+fieldModel.get('key')+'}';value=value.replace(mergeTag,"<span data-key=\"field:"
+fieldModel.get('key')+"\">"
+fieldModel.getValue()+"</span>");},this);htmlFieldModel.set('value',value);htmlFieldModel.trigger('reRender');},this);}});return controller;});define('controllers/helpText',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('form'),'render:view',this.initHelpText);nfRadio.channel('form').reply('init:help',this.initHelpText);},initHelpText:function(view){jQuery(view.el).find('.nf-help').each(function(){var jBox=jQuery(this).jBox('Tooltip',{theme:'TooltipBorder',content:jQuery(this).data('text')});});}});return controller;});define('controllers/fieldTextbox',[],function(){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('textbox').reply('get:calcValue',this.getCalcValue,this);},getCalcValue:function(fieldModel){if('currency'==fieldModel.get('mask')){var form=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));var currencySymbol=('undefined'!==typeof form)?form.get('currencySymbol'):'';var currencySymbolDecoded=jQuery('<textarea />').html(currencySymbol).text();return fieldModel.get('value').replace(currencySymbolDecoded,'');}
return fieldModel.get('value');},});return controller;});define('controllers/fieldTextareaRTE',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('textarea'),'render:view',this.initTextareaRTEs);this.listenTo(nfRadio.channel('textarea'),'click:extra',this.clickExtra);this.meta_image_frame;this.currentContext={};if('undefined'==typeof jQuery.summernote)return;jQuery.summernote.options.icons={'align':'dashicons dashicons-editor-alignleft','alignCenter':'dashicons dashicons-editor-aligncenter','alignJustify':'dashicons dashicons-editor-justify','alignLeft':'dashicons dashicons-editor-alignleft','alignRight':'dashicons dashicons-editor-alignright','indent':'dashicons dashicons-editor-indent','outdent':'dashicons dashicons-editor-outdent','bold':'dashicons dashicons-editor-bold','caret':'dashicons dashicons-arrow-down','close':'dashicons dashicons-dismiss','code':'dashicons dashicons-editor-code','eraser':'dashicons dashicons-editor-removeformatting','italic':'dashicons dashicons-editor-italic','link':'dashicons dashicons-admin-links','unlink':'dashicons dashicons-editor-unlink','magic':'dashicons dashicons-editor-paragraph','minus':'dashicons dashicons-minus','orderedlist':'dashicons dashicons-editor-ol','redo':'dashicons dashicons-redo','square':'dashicons fa-square','table':'dashicons dashicons-editor-table','underline':'dashicons dashicons-editor-underline','undo':'dashicons dashicons-undo','unorderedlist':'dashicons dashicons-editor-ul',};},initTextareaRTEs:function(view){if(1!=view.model.get('textarea_rte')){return false;}
var that=this;var linkButton=function(context){return that.linkButton(context);}
var mediaButton=function(context){return that.mediaButton(context);}
var toolbar=[['paragraphStyle',['style']],['fontStyle',['bold','italic','underline','clear']],['lists',['ul','ol']],['paragraph',['paragraph']],['customGroup',['linkButton','unlink']],['table',['table']],['actions',['undo','redo']],];if(1==view.model.get('textarea_media')&&0!=userSettings.uid){toolbar.push(['tools',['mediaButton']]);}
jQuery(view.el).find('.nf-element').summernote({toolbar:toolbar,buttons:{linkButton:linkButton,mediaButton:mediaButton},height:150,codemirror:{theme:'monokai',lineNumbers:true},prettifyHtml:true,callbacks:{onChange:function(e){view.model.set('value',jQuery(this).summernote('code'));}}});var linkMenu=jQuery(view.el).find('.link-button').next('.dropdown-menu').find('button');linkMenu.replaceWith(function(){return jQuery('<div/>',{class:jQuery(linkMenu).attr('class'),html:this.innerHTML});});},linkButton:function(context){var that=this;var ui=jQuery.summernote.ui;var linkButton=nfRadio.channel('app').request('get:template','#tmpl-nf-rte-link-button');var linkDropdown=nfRadio.channel('app').request('get:template','#tmpl-nf-rte-link-dropdown');return ui.buttonGroup([ui.button({className:'dropdown-toggle link-button',contents:linkButton({}),tooltip:nfi18n.fieldTextareaRTEInsertLink,click:function(e){that.clickLinkButton(e,context);},data:{toggle:'dropdown'}}),ui.dropdown([ui.buttonGroup({children:[ui.button({contents:linkDropdown({}),tooltip:''}),]})])]).render();},mediaButton:function(context){var that=this;var ui=jQuery.summernote.ui;var mediaButton=nfRadio.channel('app').request('get:template','#tmpl-nf-rte-media-button');return ui.button({className:'dropdown-toggle',contents:mediaButton({}),tooltip:nfi18n.fieldTextareaRTEInsertMedia,click:function(e){that.openMediaManager(e,context);}}).render();},openMediaManager:function(e,context){context.invoke('editor.saveRange');if(this.meta_image_frame){this.meta_image_frame.open();return;}
this.meta_image_frame=wp.media.frames.meta_image_frame=wp.media({title:nfi18n.fieldTextareaRTESelectAFile,button:{text:'insert'}});var that=this;this.meta_image_frame.on('select',function(){var media_attachment=that.meta_image_frame.state().get('selection').first().toJSON();that.insertMedia(media_attachment,context);});this.meta_image_frame.open();},clickLinkButton:function(e,context){var range=context.invoke('editor.createRange');context.invoke('editor.saveRange');var text=range.toString()
this.currentContext=context;jQuery(e.target).closest('.note-customGroup > .note-btn-group').on('hide.bs.dropdown',function(e){return false;});jQuery(e.target).closest('.note-customGroup > .note-btn-group').on('shown.bs.dropdown',function(e){jQuery(e.target).parent().parent().find('.link-text').val(text);jQuery(e.target).parent().parent().find('.link-url').focus();});},clickExtra:function(e){var textEl=jQuery(e.target).parent().find('.link-text');var urlEl=jQuery(e.target).parent().find('.link-url');var isNewWindowEl=jQuery(e.target).parent().find('.link-new-window');this.currentContext.invoke('editor.restoreRange');if(jQuery(e.target).hasClass('insert-link')){var text=textEl.val();var url=urlEl.val();var isNewWindow=(isNewWindowEl.prop('checked'))?true:false;if(0!=text.length&&0!=url.length){this.currentContext.invoke('editor.createLink',{text:text,url:url,isNewWindow:isNewWindow});}}
textEl.val('');urlEl.val('');isNewWindowEl.prop('checked',false);jQuery(e.target).closest('div.note-btn-group.open').removeClass('open');},insertMedia:function(media,context){context.invoke('editor.restoreRange');if('image'==media.type){context.invoke('editor.insertImage',media.url);}else{context.invoke('editor.createLink',{text:media.filename,url:media.url});}}});return controller;});define('controllers/fieldStarRating',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('starrating'),'init:model',this.register);this.listenTo(nfRadio.channel('starrating'),'render:view',this.initRating);},register:function(model){model.set('renderRatings',this.renderRatings);},initRating:function(view){jQuery(view.el).find('.starrating').rating();},renderRatings:function(){var html=document.createElement('span');for(var i=0;i<=this.number_of_stars-1;i++){var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-starrating-star');var num=i+1;var checked='';if(this.value==num){checked='checked';}
var htmlFragment=template({id:this.id,classes:this.classes,num:num,checked:checked,required:this.required});html.appendChild(document.createRange().createContextualFragment(htmlFragment));}
return html.innerHTML;}});return controller;});define('controllers/fieldTerms',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('terms'),'init:model',this.register);},register:function(model){this.listenTo(nfRadio.channel('field-'+model.get('id')),'click:extra',this.clickExtra);this.listenTo(nfRadio.channel('field-'+model.get('id')),'keyup:field',this.keyUpExtra);},clickExtra:function(e,model){var el=jQuery(e.currentTarget);var value=el.parent().find('.extra-value').val();this.addOption(model,value);},keyUpExtra:function(el,model,keyCode){if(13!=keyCode)return;this.addOption(model,el.val());},addOption:function(model,value){if(!value)return;var options=model.get('options');var new_option={label:value,value:value,selected:0,};options.push(new_option);var selected=model.get('value');selected.push(value);model.trigger('reRender');}});return controller;});define('controllers/formContentFilters',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.viewFilters=[];this.loadFilters=[];nfRadio.channel('formContent').reply('add:viewFilter',this.addViewFilter,this);nfRadio.channel('formContent').reply('add:loadFilter',this.addLoadFilter,this);nfRadio.channel('formContent').reply('get:viewFilters',this.getViewFilters,this);nfRadio.channel('formContent').reply('get:loadFilters',this.getLoadFilters,this);nfRadio.channel('fieldContents').reply('add:viewFilter',this.addViewFilter,this);nfRadio.channel('fieldContents').reply('add:loadFilter',this.addLoadFilter,this);nfRadio.channel('fieldContents').reply('get:viewFilters',this.getViewFilters,this);nfRadio.channel('fieldContents').reply('get:loadFilters',this.getLoadFilters,this);},addViewFilter:function(callback,priority){this.viewFilters[priority]=callback;},getViewFilters:function(){return this.viewFilters;},addLoadFilter:function(callback,priority){this.loadFilters[priority]=callback;},getLoadFilters:function(){return this.loadFilters;}});return controller;});define('views/fieldItem',[],function(){var view=Marionette.ItemView.extend({tagName:'div',initialize:function(){this.listenTo(this.model,'reRender',this.render,this);this.listenTo(this.model,'change:addWrapperClass',this.addWrapperClass,this);this.listenTo(this.model,'change:removeWrapperClass',this.removeWrapperClass,this);this.listenTo(this.model,'change:invalid',this.toggleAriaInvalid,this);this.template='#tmpl-nf-field-'+this.model.get('wrap_template');},test:function(model){console.log('firing from trigger 1');},addWrapperClass:function(){var cl=this.model.get('addWrapperClass');if(''!=cl){jQuery(this.el).addClass(cl);this.model.set('addWrapperClass','');}},removeWrapperClass:function(){var cl=this.model.get('removeWrapperClass');if(''!=cl){jQuery(this.el).removeClass(cl);this.model.set('removeWrapperClass','');}},toggleAriaInvalid:function(){var invalid=this.model.get('invalid');jQuery('[aria-invalid]',this.el).attr('aria-invalid',JSON.stringify(invalid));},onRender:function(){this.$el=this.$el.children();this.$el.unwrap();this.setElement(this.$el);if('undefined'!=typeof this.model.get('mask')&&''!=jQuery.trim(this.model.get('mask'))){if('custom'==this.model.get('mask')){var mask=this.model.get('custom_mask');}else{var mask=this.model.get('mask');}
Number.isInteger=Number.isInteger||function(value){return typeof value==="number"&&isFinite(value)&&Math.floor(value)===value;};if(Number.isInteger(mask)){mask=mask.toString();}
if('currency'==mask){var form=nfRadio.channel('app').request('get:form',this.model.get('formID'));var thousands_sep=form.get('thousands_sep');if('&nbsp;'==thousands_sep){thousands_sep=' ';}
var currencySymbol=jQuery('<div/>').html(form.get('currencySymbol')).text();thousands_sep=jQuery('<div/>').html(thousands_sep).text();var decimal_point=jQuery('<div/>').html(form.get('decimal_point')).text();var autoNumericOptions={digitGroupSeparator:thousands_sep,decimalCharacter:decimal_point,currencySymbol:currencySymbol};var autoN_el=jQuery(jQuery(this.el).find('.nf-element')[0]);new AutoNumeric(jQuery(this.el).find('.nf-element')[0],autoNumericOptions);var context=this;autoN_el.on('change',function(e){context.model.set('value',e.target.value);})}else{jQuery(this.el).find('.nf-element').mask(mask);}}
nfRadio.channel(this.model.get('type')).trigger('render:view',this);nfRadio.channel('fields').trigger('render:view',this);},templateHelpers:function(){var that=this;return{renderElement:function(){var tmpl=_.find(this.element_templates,function(tmpl){if(0<jQuery('#tmpl-nf-field-'+tmpl).length){return true;}});var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-'+tmpl);return template(this);},renderLabel:function(){var template=nfRadio.channel('app').request('get:template','#tmpl-nf-field-label');return template(this);},renderLabelClasses:function(){var classes='';if('undefined'!=typeof this.customLabelClasses){classes=this.customLabelClasses(classes);}
return classes;},renderPlaceholder:function(){var placeholder=this.placeholder;if('undefined'!=typeof this.customPlaceholder){placeholder=this.customPlaceholder(placeholder);}
if(''!=jQuery.trim(placeholder)){return'placeholder="'+placeholder+'"';}else{return'';}},renderWrapClass:function(){var wrapClass='field-wrap '+this.type+'-wrap';if(this.type!==this.parentType){wrapClass=wrapClass+' '+this.parentType+'-wrap';}
if('undefined'!=typeof this.old_classname&&0<jQuery.trim(this.old_classname).length){wrapClass+=' '+this.old_classname+'-wrap';}
if('undefined'!=typeof customWrapClass){wrapClass=customWrapClass(wrapClass);}
return wrapClass;},renderClasses:function(){var classes=this.classes;if(this.error){classes+=' nf-error';}else{classes=classes.replace('nf-error','');}
if('undefined'!=typeof this.element_class&&0<jQuery.trim(this.element_class).length){classes+=' '+this.element_class;}
if('undefined'!=typeof this.customClasses){classes=this.customClasses(classes);}
return classes;},maybeDisabled:function(){if(1==this.disable_input){return'disabled';}else{return'';}},maybeRequired:function(){if(1==this.required){return'required';}else{return'';}},maybeDisableAutocomplete:function(){if(1==this.disable_browser_autocomplete){return'autocomplete="off"';}else{return'';}},maybeInputLimit:function(){if('characters'==this.input_limit_type&&''!=jQuery.trim(this.input_limit)){return'maxlength="'+this.input_limit+'"';}else{return'';}},getHelpText:function(){return('undefined'!=typeof this.help_text)?this.help_text:'';},maybeRenderHelp:function(){var check_text_par=document.createElement('p');check_text_par.innerHTML=this.help_text;var shouldRenderHelpText=false;if(0!=jQuery.trim(jQuery(check_text_par).text()).length||0<jQuery(check_text_par).find('img').length){shouldRenderHelpText=true;}
if('undefined'!=typeof this.help_text&&shouldRenderHelpText){var icon=document.createElement('span');icon.classList.add('fa','fa-info-circle','nf-help');icon.setAttribute('data-text',this.getHelpText());return icon.outerHTML;}else{return'';}},renderDescText:function(){if('undefined'==typeof this.desc_text){return'';}
var text=document.createElement('p');text.innerHTML=this.desc_text;if(0==jQuery.trim(text.innerText).length)return'';var check,checkText;checkText=document.createTextNode(this.desc_text);check=document.createElement('p');check.appendChild(checkText);if(0!=jQuery.trim(jQuery(check).text()).length){var descriptionText,fieldDescription;descriptionText=document.createRange().createContextualFragment(this.desc_text);fieldDescription=document.createElement('div');fieldDescription.classList.add('nf-field-description');fieldDescription.appendChild(descriptionText);return fieldDescription.outerHTML;}else{return'';}},renderNumberDefault:function(){if(this.clean){if(this.default){return this.default;}
else if(!this.placeholder){return this.value;}
else{return'';}}
else{return this.value;}},renderCurrencyFormatting:function(number){var replacedDecimal=number.toString().replace('.','||');var replacedThousands=replacedDecimal.replace(/\B(?=(\d{3})+(?!\d))/g,nfi18n.thousands_sep);var formattedNumber=replacedThousands.replace('||',nfi18n.decimal_point);var form=nfRadio.channel('app').request('get:form',that.model.get('formID'));var currency_symbol=form.get('settings').currency_symbol;return currency_symbol+formattedNumber;},maybeRenderTime:function(){if('time_only'==this.date_mode||'date_and_time'==this.date_mode){return true;}
return false;},};},events:{'change .nf-element':'fieldChange','keyup .nf-element':'fieldKeyup','click .nf-element':'fieldClick','click .extra':'extraClick','change .extra':'extraChange','blur .nf-element':'fieldBlur'},fieldChange:function(e){var el=jQuery(e.currentTarget);var response=nfRadio.channel('nfAdmin').request('change:field',el,this.model);},fieldKeyup:function(e){var el=jQuery(e.currentTarget);var keyCode=e.keyCode;nfRadio.channel('field-'+this.model.get('id')).trigger('keyup:field',el,this.model,keyCode);nfRadio.channel(this.model.get('type')).trigger('keyup:field',el,this.model,keyCode);nfRadio.channel('fields').trigger('keyup:field',el,this.model,keyCode);},fieldClick:function(e){var el=jQuery(e.currentTarget);nfRadio.channel('field-'+this.model.get('id')).trigger('click:field',el,this.model);nfRadio.channel(this.model.get('type')).trigger('click:field',el,this.model);nfRadio.channel('fields').trigger('click:field',el,this.model);},extraClick:function(e){nfRadio.channel('field-'+this.model.get('id')).trigger('click:extra',e,this.model);nfRadio.channel(this.model.get('type')).trigger('click:extra',e,this.model);nfRadio.channel('fields').trigger('click:extra',e,this.model);},extraChange:function(e){nfRadio.channel('field-'+this.model.get('id')).trigger('change:extra',e,this.model);nfRadio.channel(this.model.get('type')).trigger('change:extra',e,this.model);nfRadio.channel('fields').trigger('change:extra',e,this.model);},fieldBlur:function(e){var el=jQuery(e.currentTarget);nfRadio.channel('field-'+this.model.get('id')).trigger('blur:field',el,this.model);nfRadio.channel(this.model.get('type')).trigger('blur:field',el,this.model);nfRadio.channel('fields').trigger('blur:field',el,this.model);},onAttach:function(){nfRadio.channel(this.model.get('type')).trigger('attach:view',this);}});return view;});define('views/beforeField',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-before'});return view;});define('views/fieldErrorItem',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-error',onRender:function(){this.$el=this.$el.children();this.$el.unwrap();this.setElement(this.$el);},});return view;});define('views/fieldErrorCollection',['views/fieldErrorItem'],function(fieldErrorItem){var view=Marionette.CollectionView.extend({tagName:"nf-errors",childView:fieldErrorItem,initialize:function(options){this.fieldModel=options.fieldModel;},onRender:function(){if(0==this.fieldModel.get('errors').models.length){this.fieldModel.removeWrapperClass('nf-error');this.fieldModel.removeWrapperClass('nf-fail');this.fieldModel.addWrapperClass('nf-pass');this.fieldModel.setInvalid(false);}else{this.fieldModel.removeWrapperClass('nf-pass');this.fieldModel.addWrapperClass('nf-fail');this.fieldModel.addWrapperClass('nf-error');this.fieldModel.setInvalid(true);}}});return view;});define('views/inputLimit',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-input-limit',initialize:function(){this.listenTo(nfRadio.channel('field-'+this.model.get('id')),'keyup:field',this.updateCount);this.count=this.model.get('input_limit');this.render();},updateCount:function(el,model){var value=jQuery(el).val();var regex=/\s+/gi;var words=value.trim().replace(regex,' ').split(' ');var wordCount=words.length;var charCount=value.length;if('characters'==this.model.get('input_limit_type')||'char'==this.model.get('input_limit_type')){jQuery(el).attr('maxlength',this.model.get('input_limit'));this.count=this.model.get('input_limit')-charCount;}else{this.count=this.model.get('input_limit')-wordCount;var limit=this.model.get('input_limit');if(wordCount>limit){jQuery(el).val(words.slice(0,limit).join(' '));}}
this.render();},templateHelpers:function(){var that=this;return{currentCount:function(){return that.count;}}}});return view;});define('views/afterField',['views/fieldErrorCollection','views/inputLimit'],function(fieldErrorCollection,InputLimitView){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-field-after',initialize:function(){this.model.on('change:errors',this.changeError,this);},onRender:function(){var errorEl=jQuery(this.el).children('.nf-error-wrap');this.errorCollectionView=new fieldErrorCollection({el:errorEl,collection:this.model.get('errors'),fieldModel:this.model});if(0<this.model.get('errors').length){this.errorCollectionView.render();}
if('undefined'!=typeof this.model.get('input_limit')&&''!=jQuery.trim(this.model.get('input_limit'))){var inputLimitEl=jQuery(this.el).children('.nf-input-limit');this.inputLimitView=new InputLimitView({el:inputLimitEl,model:this.model});}},changeError:function(){this.errorCollectionView.render();},});return view;});define('views/fieldRepeaterFieldLayout',['views/fieldItem','views/beforeField','views/afterField'],function(fieldItem,beforeField,afterField){var view=Marionette.LayoutView.extend({tagName:'nf-field',regions:{beforeField:'.nf-before-field',field:'.nf-field',afterField:'.nf-after-field',},initialize:function(){this.listenTo(this.model,'change:visible',this.render,this);},getTemplate:function(){if(this.model.get('visible')){return'#tmpl-nf-field-layout';}else{return'#tmpl-nf-empty';}},onRender:function(){if(this.model.get('visible')){this.beforeField.show(new beforeField({model:this.model}));this.field.show(new fieldItem({model:this.model}));this.afterField.show(new afterField({model:this.model}));}},templateHelpers:function(){return{renderContainerClass:function(){var containerClass=' label-'+this.label_pos+' ';if('undefined'!=typeof this.desc_pos){containerClass+='desc-'+this.desc_pos+' ';}
if('undefined'!=typeof this.container_class&&0<jQuery.trim(this.container_class).length){containerClass+=this.container_class+' ';}
if(this.type!==this.parentType){containerClass+=' '+this.parentType+'-container';}
return containerClass;}}}});return view;});define('views/fieldRepeaterFieldCollection',['views/fieldRepeaterFieldLayout'],function(fieldLayout){var view=Marionette.CollectionView.extend({tagName:'nf-fields-wrap',childView:fieldLayout,});return view;});define('views/fieldRepeaterSetLayout',['views/fieldRepeaterFieldCollection'],function(fieldCollection){var view=Marionette.LayoutView.extend({tagName:'fieldset',template:'#tmpl-nf-field-repeater-set',regions:{fields:'.nf-repeater-fieldset',},onRender:function(){this.fields.show(new fieldCollection({collection:this.model.get('fields')}));},events:{'click .nf-remove-fieldset':'removeSet',},removeSet:function(){nfRadio.channel("field-repeater").trigger('remove:fieldset',this.model)}});return view;});define('views/fieldRepeaterSetCollection',['views/fieldRepeaterSetLayout'],function(repeaterSetLayout){var view=Marionette.CollectionView.extend({tagName:'div',childView:repeaterSetLayout,});return view;});define('views/fieldRepeaterLayout',['views/fieldRepeaterSetCollection'],function(repeaterSetCollection){var view=Marionette.LayoutView.extend({tagName:'div',template:'#tmpl-nf-field-repeater',regions:{sets:'.nf-repeater-fieldsets',},initialize:function(){this.collection=this.model.get('sets');nfRadio.channel('field-repeater').on('rerender:fieldsets',this.render,this);this.listenTo(nfRadio.channel('form-'+this.model.get('formID')),'before:submit',this.beforeSubmit);},onRender:function(){this.sets.show(new repeaterSetCollection({collection:this.collection}));},events:{'click .nf-add-fieldset':'addSet'},addSet:function(e){nfRadio.channel('field-repeater').trigger('add:fieldset',e);},beforeSubmit:function(){this.collection.beforeSubmit(this.model.get('sets'));}});return view;});define('views/fieldLayout',['views/fieldItem','views/beforeField','views/afterField','views/fieldRepeaterLayout'],function(fieldItem,beforeField,afterField,repeaterFieldLayout){var view=Marionette.LayoutView.extend({tagName:'nf-field',regions:{beforeField:'.nf-before-field',field:'.nf-field',afterField:'.nf-after-field',},initialize:function(){this.listenTo(this.model,'change:visible',this.render,this);},getTemplate:function(){if(this.model.get('visible')){return'#tmpl-nf-field-layout';}else{return'#tmpl-nf-empty';}},onRender:function(){if(this.model.get('visible')){this.beforeField.show(new beforeField({model:this.model}));if('repeater'==this.model.get('type')){this.field.show(new repeaterFieldLayout({model:this.model}));}else{this.field.show(new fieldItem({model:this.model}));}
this.afterField.show(new afterField({model:this.model}));}},templateHelpers:function(){return{renderContainerClass:function(){var containerClass=' label-'+this.label_pos+' ';if('undefined'!=typeof this.desc_pos){containerClass+='desc-'+this.desc_pos+' ';}
if('undefined'!=typeof this.container_class&&0<jQuery.trim(this.container_class).length){containerClass+=this.container_class+' ';}
if(this.type!==this.parentType){containerClass+=' '+this.parentType+'-container';}
return containerClass;}}}});return view;});define('controllers/loadViews',['views/fieldItem','views/fieldLayout'],function(fieldItemView,fieldLayoutView){var controller=Marionette.Object.extend({initialize:function(){nfRadio.channel('views').reply('get:fieldItem',this.getFieldItem);nfRadio.channel('views').reply('get:fieldLayout',this.getFieldLayout);},getFieldItem:function(model){return fieldItemView;},getFieldLayout:function(){return fieldLayoutView;}});return controller;});define('controllers/formErrors',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'add:error',this.addError);this.listenTo(nfRadio.channel('fields'),'remove:error',this.removeError);nfRadio.channel('form').reply('get:errors',this.getFormErrors);},addError:function(fieldModel,errorID,errorMsg){var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));if('undefined'==typeof formModel.get('fieldErrors')[fieldModel.get('id')]){formModel.get('fieldErrors')[fieldModel.get('id')]={};}
formModel.get('fieldErrors')[fieldModel.get('id')][errorID]=errorMsg;nfRadio.channel('form-'+fieldModel.get('formID')).request('add:error','field-errors',formModel.get('settings').formErrorsCorrectErrors);},removeError:function(fieldModel,errorID){var formModel=nfRadio.channel('app').request('get:form',fieldModel.get('formID'));formModel.get('fieldErrors')[fieldModel.get('id')]=_.omit(formModel.get('fieldErrors')[fieldModel.get('id')],errorID);if(0==_.size(formModel.get('fieldErrors')[fieldModel.get('id')])){delete formModel.get('fieldErrors')[fieldModel.get('id')];}
if(0==_.size(formModel.get('fieldErrors'))){nfRadio.channel('form-'+fieldModel.get('formID')).request('remove:error','field-errors');}},getFormErrors:function(formID){var formModel=nfRadio.channel('app').request('get:form',formID);var errors=false;if(formModel){if(0!==formModel.get('errors').length){_.each(formModel.get('errors').models,function(error){errors=errors||{};errors[error.get('id')]=error.get('msg');});}}
return errors;}});return controller;});define('controllers/submit',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('forms'),'init:model',this.registerSubmitHandler);},registerSubmitHandler:function(formModel){nfRadio.channel('form-'+formModel.get('id')).reply('submit',this.submit);},submit:function(formModel){nfRadio.channel('forms').trigger('before:submit',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('before:submit',formModel);var validate=nfRadio.channel('forms').request('maybe:validate',formModel);if(false!==validate){_.each(formModel.get('fields').models,function(fieldModel){fieldModel.set('clean',false);});formModel.get('formContentData').validateFields();}
var submit=nfRadio.channel('form-'+formModel.get('id')).request('maybe:submit',formModel);if(false==submit){nfRadio.channel('forms').trigger('submit:cancel',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('submit:cancel',formModel);return;}
if(false!==validate){var blockingFormErrors=_.filter(formModel.get('errors').models,function(error){if('invalid_email'==error.get('id')||'email_not_sent'==error.get('id'))return false;return true;});if(0!=_.size(blockingFormErrors)){nfRadio.channel('forms').trigger('submit:failed',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('submit:failed',formModel);return false;}}
nfRadio.channel('forms').trigger('after:submitValidation',formModel);nfRadio.channel('form-'+formModel.get('id')).trigger('after:submitValidation',formModel);var formID=formModel.get('id');var fields={};_.each(formModel.get('fields').models,function(field){var fieldDataDefaults={value:field.get('value'),id:field.get('id')};fields[field.get('id')]=nfRadio.channel(field.get('type')).request('get:submitData',fieldDataDefaults,field)||fieldDataDefaults;;});var extra=formModel.get('extra');var settings=formModel.get('settings');delete settings.formContentData;var formData=JSON.stringify({id:formID,fields:fields,settings:settings,extra:extra});var data={'action':'nf_ajax_submit','security':nfFrontEnd.ajaxNonce,'nonce_ts':nfFrontEnd.nonce_ts,'formData':formData}
var that=this;jQuery.ajax({url:nfFrontEnd.adminAjax,type:'POST',data:data,cache:false,success:function(data,textStatus,jqXHR){try{var response=data;nfRadio.channel('forms').trigger('submit:response',response,textStatus,jqXHR,formModel.get('id'));nfRadio.channel('form-'+formModel.get('id')).trigger('submit:response',response,textStatus,jqXHR);jQuery(document).trigger('nfFormSubmitResponse',{response:response,id:formModel.get('id')});}catch(e){console.log(e);console.log('Parse Error');console.log(e);}},error:function(jqXHR,textStatus,errorThrown){console.log('ERRORS: '+errorThrown);console.log(jqXHR);try{var response=jQuery.parseJSON(jqXHR.responseText);nfRadio.channel('forms').trigger('submit:response',response,textStatus,jqXHR,formModel.get('id'));nfRadio.channel('form-'+formModel.get('id')).trigger('submit:response',response,textStatus,jqXHR);}catch(e){console.log('Parse Error');}
nfRadio.channel('forms').trigger('submit:response','error',textStatus,jqXHR,errorThrown);}});}});return controller;});define('views/fieldCollection',['views/fieldLayout'],function(fieldLayout){var view=Marionette.CollectionView.extend({tagName:'nf-fields-wrap',childView:fieldLayout});return view;});define('controllers/defaultFilters',['views/fieldCollection','models/fieldCollection'],function(FieldCollectionView,FieldCollection){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('form'),'before:filterData',this.registerDefaultDataFilter);},registerDefaultDataFilter:function(formModel){nfRadio.channel('formContent').request('add:loadFilter',this.defaultFormContentLoad,10,this);nfRadio.channel('formContent').request('add:viewFilter',this.defaultFormContentView,10,this);},defaultFormContentLoad:function(formContentData,formModel,context){var fieldCollection=formModel.get('fields');var formContentLoadFilters=nfRadio.channel('formContent').request('get:loadFilters');var sortedArray=_.without(formContentLoadFilters,undefined);if(1==sortedArray.length||'undefined'==typeof formContentData||true===formContentData instanceof Backbone.Collection)return formModel.get('fields');var fieldModels=_.map(formContentData,function(key){return formModel.get('fields').findWhere({key:key});},this);var currentFieldCollection=new FieldCollection(fieldModels);fieldCollection.on('reset',function(collection){var resetFields=[];currentFieldCollection.each(function(fieldModel){if('submit'!=fieldModel.get('type')){resetFields.push(collection.findWhere({key:fieldModel.get('key')}));}else{resetFields.push(fieldModel);}});currentFieldCollection.options={formModel:formModel};currentFieldCollection.reset(resetFields);});return currentFieldCollection;},defaultFormContentView:function(){return FieldCollectionView;}});return controller;});define('controllers/uniqueFieldError',[],function(){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('fields'),'change:modelValue',this.removeError);this.listenTo(nfRadio.channel('fields'),'keyup:field',this.removeError);this.listenTo(nfRadio.channel('fields'),'blur:field',this.removeError);},removeError:function(el,model){model=model||el;nfRadio.channel('fields').request('remove:error',model.get('id'),'unique_field');},});return controller;});define('models/fieldRepeaterSetModel',[],function(){var model=Backbone.Model.extend({initialize:function(fieldsets,options){this.repeaterFieldModel=options.repeaterFieldModel;this.set('label',this.repeaterFieldModel.get('label'));nfRadio.channel("field-repeater").reply('reset:repeaterFieldsets',this.resetRepeaterFieldsets,this);nfRadio.channel("field-repeater").reply('get:repeaterFieldsets',this.getRepeaterFieldsets,this);nfRadio.channel("field-repeater").reply('get:repeaterFields',this.getRepeaterFields,this);nfRadio.channel("field-repeater").reply('get:repeaterFieldById',this.getRepeaterFieldById,this);},resetRepeaterFieldsets:function(models){this.collection={};this.collection.models=models;},getRepeaterFieldsets:function(){return this.collection.models;},getRepeaterFields:function(){let fieldsets=this.getRepeaterFieldsets();if(fieldsets.length<=0)return;let fields=[];_.each(fieldsets,function(fieldset){const inFields=fieldset.get('fields');_.each(inFields.models,function(field){fields.push(field);});});return fields;},getRepeaterFieldById:function(id){let fields=this.getRepeaterFields();if(fields.length<=0)return;let model;_.each(fields,function(field){if(field.id===id){model=field;}});return model;}});return model;});define('models/fieldRepeaterSetCollection',['models/fieldRepeaterSetModel','models/fieldCollection'],function(repeaterSetModel,fieldCollection){var collection=Backbone.Collection.extend({model:repeaterSetModel,initialize:function(models,options){this.options=options;nfRadio.channel("field-repeater").on('sort:fieldsets',this.sortIDs,this);nfRadio.channel("field-repeater").on('remove:fieldset',this.removeSet,this);nfRadio.channel("field-repeater").on('add:fieldset',this.addSet,this);},addSet:function(e){const repeaterFieldID=jQuery(e.target).prev(".nf-repeater").data("field-id");const repeaterFieldModel=this.options.repeaterFieldModel.id===repeaterFieldID?this.options.repeaterFieldModel:undefined;if(repeaterFieldModel!==undefined){let fields=new fieldCollection(this.options.templateFields,{formModel:this.options.formModel,repeaterFieldModel:repeaterFieldModel});this.add({fields:fields},{repeaterFieldModel:repeaterFieldModel});this.sortIDs();}},removeSet:function(fieldset){this.remove(fieldset);this.sortIDs();},sortIDs:function(){nfRadio.channel("field-repeater").request('reset:repeaterFieldsets',this.models);_.each(this.models,function(fieldset,modelIndex){let fields=fieldset.get('fields');fieldset.set('index',modelIndex+1);_.each(fields.models,function(field){cutEl=String(field.id).split('_')[0];field.set("id",cutEl+"_"+modelIndex);});});nfRadio.channel('field-repeater').trigger('rerender:fieldsets');},beforeSubmit:function(sets){let fieldsetCollection=sets.models;if(fieldsetCollection.length>0){let repeaterFieldValue={};_.each(fieldsetCollection,function(fieldset){let fields=fieldset.get('fields');_.each(fields.models,function(field){let value=field.get('value');let id=field.get('id');repeaterFieldValue[id]={"value":value,"id":id}});});nfRadio.channel('nfAdmin').request('update:field',this.options.repeaterFieldModel,repeaterFieldValue);}},});return collection;});define('controllers/fieldRepeater',['models/fieldRepeaterSetCollection','models/fieldCollection'],function(repeaterSetCollection,fieldCollection){var controller=Marionette.Object.extend({initialize:function(){this.listenTo(nfRadio.channel('repeater'),'init:model',this.initRepeater);},initRepeater:function(model){if('undefined'==typeof model.collection.options.formModel){return false;}
let fields=new fieldCollection(model.get('fields'),{formModel:model.collection.options.formModel});model.set('sets',new repeaterSetCollection([{fields:fields}],{templateFields:model.get('fields'),formModel:model.collection.options.formModel,repeaterFieldModel:model}));},});return controller;});define('controllers/loadControllers',['controllers/formData','controllers/fieldError','controllers/changeField','controllers/changeEmail','controllers/changeDate','controllers/fieldCheckbox','controllers/fieldCheckboxList','controllers/fieldImageList','controllers/fieldRadio','controllers/fieldNumber','controllers/mirrorField','controllers/confirmField','controllers/updateFieldModel','controllers/submitButton','controllers/submitDebug','controllers/getFormErrors','controllers/validateRequired','controllers/submitError','controllers/actionRedirect','controllers/actionSuccess','controllers/fieldSelect','controllers/coreSubmitResponse','controllers/fieldProduct','controllers/fieldTotal','controllers/fieldQuantity','controllers/calculations','controllers/dateBackwardsCompat','controllers/fieldDate','controllers/fieldRecaptcha','controllers/fieldRecaptchaV3','controllers/fieldHTML','controllers/helpText','controllers/fieldTextbox','controllers/fieldTextareaRTE','controllers/fieldStarRating','controllers/fieldTerms','controllers/formContentFilters','controllers/loadViews','controllers/formErrors','controllers/submit','controllers/defaultFilters','controllers/uniqueFieldError','controllers/fieldRepeater',],function(FormData,FieldError,ChangeField,ChangeEmail,ChangeDate,FieldCheckbox,FieldCheckboxList,FieldImageList,FieldRadio,FieldNumber,MirrorField,ConfirmField,UpdateFieldModel,SubmitButton,SubmitDebug,GetFormErrors,ValidateRequired,SubmitError,ActionRedirect,ActionSuccess,FieldSelect,CoreSubmitResponse,FieldProduct,FieldTotal,FieldQuantity,Calculations,DateBackwardsCompat,FieldDate,FieldRecaptcha,FieldRecaptchaV3,FieldHTML,HelpText,FieldTextbox,FieldTextareaRTE,FieldStarRating,FieldTerms,FormContentFilters,LoadViews,FormErrors,Submit,DefaultFilters,UniqueFieldError,FieldRepeater){var controller=Marionette.Object.extend({initialize:function(){new LoadViews();new FormErrors();new Submit();new FieldCheckbox();new FieldCheckboxList();new FieldImageList();new FieldRadio();new FieldNumber();new FieldSelect();new FieldProduct();new FieldTotal();new FieldQuantity();new FieldRecaptcha();new FieldRecaptchaV3();new FieldHTML();new HelpText();new FieldTextbox();new FieldTextareaRTE();new FieldStarRating();new FieldTerms();new FormContentFilters();new UniqueFieldError();new FieldRepeater();new FieldError();new ChangeField();new ChangeEmail();new ChangeDate();new MirrorField();new ConfirmField();new UpdateFieldModel();new SubmitButton();new SubmitDebug();new GetFormErrors();new ValidateRequired();new SubmitError();new ActionRedirect();new ActionSuccess();new CoreSubmitResponse();new Calculations();new DefaultFilters();new DateBackwardsCompat();new FieldDate();new FormData();}});return controller;});define('views/beforeForm',[],function(){var view=Marionette.ItemView.extend({tagName:"nf-section",template:"#tmpl-nf-before-form",});return view;});define('views/formErrorItem',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-form-error',onRender:function(){},});return view;});define('views/formErrorCollection',['views/formErrorItem'],function(formErrorItem){var view=Marionette.CollectionView.extend({tagName:"nf-errors",childView:formErrorItem});return view;});define('views/honeyPot',[],function(){var view=Marionette.ItemView.extend({tagName:'nf-section',template:'#tmpl-nf-form-hp',events:{'keyup .nf-field-hp':'maybeError','change .nf-field-hp':'maybeError'},maybeError:function(e){if(0==jQuery(e.target).val().length){nfRadio.channel('form-'+this.model.get('id')).request('remove:error','honeyPot');}else{var formModel=nfRadio.channel('app').request('get:form',this.model.get('id'));nfRadio.channel('form-'+this.model.get('id')).request('add:error','honeyPot',formModel.get('settings').honeypotHoneypotError);}}});return view;});define('views/afterFormContent',['views/formErrorCollection','views/honeyPot'],function(FormErrors,HoneyPot){var view=Marionette.LayoutView.extend({tagName:"nf-section",template:"#tmpl-nf-after-fields",regions:{errors:".nf-form-errors",hp:".nf-form-hp"},onShow:function(){this.errors.show(new FormErrors({collection:this.model.get('errors')}));this.hp.show(new HoneyPot({model:this.model}));}});return view;});define('views/beforeFormContent',[],function(){var view=Marionette.ItemView.extend({tagName:"nf-section",template:"#tmpl-nf-before-fields",templateHelpers:function(){return{renderFieldsMarkedRequired:function(){var requiredFields=this.fields.filter({required:1});return(requiredFields.length)?this.fieldsMarkedRequired:'';},};},});return view;});define('views/formLayout',['views/afterFormContent','views/beforeFormContent','models/fieldCollection'],function(AfterFormContent,BeforeFormContent,FieldCollection){var view=Marionette.LayoutView.extend({tagName:"nf-section",template:"#tmpl-nf-form-layout",regions:{beforeFormContent:".nf-before-form-content",formContent:".nf-form-content",afterFormContent:".nf-after-form-content"},initialize:function(){nfRadio.channel('form-'+this.model.get('id')).reply('get:el',this.getEl,this);this.listenTo(this.model,'hide',this.hide);},onRender:function(){this.$el=this.$el.children();this.$el.unwrap();this.setElement(this.$el);},onShow:function(){this.beforeFormContent.show(new BeforeFormContent({model:this.model}));var formContentData=this.model.get('formContentData');var formContentViewFilters=nfRadio.channel('formContent').request('get:viewFilters');var sortedArray=_.without(formContentViewFilters,undefined);var callback=_.first(sortedArray);formContentView=callback();var options={data:formContentData,formModel:this.model};if(false!==formContentData instanceof Backbone.Collection){options.collection=formContentData;}else if(false!==formContentData instanceof Backbone.Model){options.model=formContentData;}
this.formContent.show(new formContentView(options));this.afterFormContent.show(new AfterFormContent({model:this.model}));},getEl:function(){return this.el;},templateHelpers:function(){return{renderClasses:function(){return'';}};},hide:function(){jQuery(this.el).hide();}});return view;});define('views/afterForm',[],function(){var view=Marionette.ItemView.extend({tagName:"nf-section",template:"#tmpl-nf-after-form",});return view;});define('views/mainLayout',['views/beforeForm','views/formLayout','views/afterForm'],function(BeforeForm,FormLayout,AfterForm){var view=Marionette.LayoutView.extend({template:'#tmpl-nf-layout',regions:{responseMsg:'.nf-response-msg',beforeForm:'.nf-before-form',formLayout:'.nf-form-layout',afterForm:'.nf-after-form'},initialize:function(){this.$el=jQuery('#nf-form-'+this.model.id+'-cont');this.el='#nf-form-'+this.model.id+'-cont';this.render();this.beforeForm.show(new BeforeForm({model:this.model}));this.formLayout.show(new FormLayout({model:this.model,fieldCollection:this.options.fieldCollection}));this.afterForm.show(new AfterForm({model:this.model}));this.listenTo(this.model,'hide',this.hide);},hide:function(){jQuery(this.el).find('.nf-form-title').hide();}});return view;});var nfLocaleConverter=function(newLocale,thousands_sep,decimal_sep){if('undefined'!==typeof newLocale&&0<newLocale.length){this.locale=newLocale.split('_').join('-');}else{this.locale='en-US';}
this.thousands_sep=thousands_sep||',';this.decimal_sep=decimal_sep||'.';this.uniqueElememts=function(value,index,self){return self.indexOf(value)===index;}
this.numberDecoder=function(num){num=num.toString();var formatted='';var negative=false;if('-'===num.charAt(0)){negative=true;num=num.replace('-','');}
num=num.replace(/\s/g,'');num=num.replace(/&nbsp;/g,'');var myArr=num.split('');var separators=myArr.filter(function(el){return!el.match(/[0-9]/);});var final_separators=separators.filter(this.uniqueElememts);switch(final_separators.length){case 0:formatted=num;break;case 1:var replacer='';if(1==separators.length){separator=separators.pop();var sides=num.split(separator);var last=sides.pop();if(3==last.length&&separator==this.thousands_sep){replacer='';}else{replacer='.';}}else{separator=final_separators.pop();}
formatted=num.split(separator).join(replacer);break;case 2:var find_one=final_separators[0];var re_one;if('.'===find_one){re_one=new RegExp('[.]','g');}else{re_one=new RegExp(find_one,'g');}
formatted=num.replace(re_one,'');var find_two=final_separators[1];var re_two;if('.'===find_two){re_two=new RegExp('[.]','g');}else{re_two=new RegExp(find_two,'g');}
formatted=formatted.replace(re_two,'.');break;default:return'NaN';}
if(negative){formatted='-'+formatted;}
this.debug('Number Decoder '+num+' -> '+formatted);return formatted;}
this.numberEncoder=function(num,percision){num=this.numberDecoder(num);return Intl.NumberFormat(this.locale,{minimumFractionDigits:percision,maximumFractionDigits:percision}).format(num);}
this.debug=function(message){if(window.nfLocaleConverterDebug||false)console.log(message);}}
define("../nfLocaleConverter",function(){});(function(jQuery){var originalVal=jQuery.fn.val;jQuery.fn.val=function(){var prev;if(arguments.length>0){prev=originalVal.apply(this,[]);}
var result=originalVal.apply(this,arguments);if(arguments.length>0&&prev!=originalVal.apply(this,[])&&jQuery(this).hasClass('nf-element')){jQuery(this).change();}
return result;};})(jQuery);jQuery(document).ready(function($){require(['models/formCollection','models/formModel','models/fieldCollection','controllers/loadControllers','views/mainLayout','../nfLocaleConverter'],function(formCollection,FormModel,FieldCollection,LoadControllers,mainLayout){if('undefined'==typeof nfForms){jQuery('.nf-form-cont').empty();return;}
var NinjaForms=Marionette.Application.extend({forms:{},initialize:function(options){var that=this;Marionette.Renderer.render=function(template,data){var template=that.template(template);return template(data);};this.urlParameters=_.object(_.compact(_.map(location.search.slice(1).split('&'),function(item){if(item)return item.split('=');})));if('undefined'!=typeof this.urlParameters.nf_resume){this.listenTo(nfRadio.channel('form-'+this.urlParameters.nf_resume),'loaded',this.restart);}
nfRadio.channel('app').reply('locale:decodeNumber',this.decodeNumber);nfRadio.channel('app').reply('locale:encodeNumber',this.encodeNumber);var loadControllers=new LoadControllers();nfRadio.channel('app').trigger('after:loadControllers');nfRadio.channel('app').reply('get:template',this.template);},onStart:function(){var formCollection=nfRadio.channel('app').request('get:forms');_.each(formCollection.models,function(form,index){var layoutView=new mainLayout({model:form,fieldCollection:form.get('fields')});nfRadio.channel('form').trigger('render:view',layoutView);jQuery(document).trigger('nfFormReady',layoutView);});},restart:function(formModel){if('undefined'!=typeof this.urlParameters.nf_resume){var data={'action':'nf_ajax_submit','security':nfFrontEnd.ajaxNonce,'nf_resume':this.urlParameters};nfRadio.channel('form-'+formModel.get('id')).trigger('disable:submit');nfRadio.channel('form-'+formModel.get('id')).trigger('processingLabel');this.listenTo(nfRadio.channel('form'),'render:view',function(){jQuery('#nf-form-'+formModel.get('id')+'-cont .nf-field-container:not(.submit-container)').hide();});jQuery.ajax({url:nfFrontEnd.adminAjax,type:'POST',data:data,cache:false,success:function(data,textStatus,jqXHR){try{var response=data;nfRadio.channel('forms').trigger('submit:response',response,textStatus,jqXHR,formModel.get('id'));nfRadio.channel('form-'+formModel.get('id')).trigger('submit:response',response,textStatus,jqXHR);}catch(e){console.log('Parse Error');}},error:function(jqXHR,textStatus,errorThrown){console.log('ERRORS: '+textStatus);nfRadio.channel('forms').trigger('submit:response','error',textStatus,jqXHR,errorThrown);}});}},template:function(template){return _.template($(template).html(),{evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:'data'});},encodeNumber:function(num){var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);return localeConverter.numberEncoder(num);},decodeNumber:function(num){var localeConverter=new nfLocaleConverter(nfi18n.siteLocale,nfi18n.thousands_sep,nfi18n.decimal_point);return localeConverter.numberDecoder(num);}});var ninjaForms=new NinjaForms();ninjaForms.start();});});define("main",function(){});}());
;// Generated by CoffeeScript 1.6.2
/*
jQuery Waypoints - v2.0.2
Copyright (c) 2011-2013 Caleb Troughton
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(this,function(n,r){var i,o,l,s,f,u,a,c,h,d,p,y,v,w,g,m;i=n(r);c=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;a={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};t.data(u,this.id);a[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||c)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(c&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete a[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;r=n.extend({},n.fn[g].defaults,r);if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=t.data(w))!=null?o:[];i.push(this.id);t.data(w,i)}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=n(t).data(w);if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;if(e==null){e={}}if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=a[i.data(u)];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke(this,"disable")},enable:function(){return d._invoke(this,"enable")},destroy:function(){return d._invoke(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t,e){t.each(function(){var t;t=l.getWaypointsByElement(this);return n.each(t,function(t,n){n[e]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=a[n(t).data(u)])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=a[n(t).data(u)];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.load(function(){return n[m]("refresh")})})}).call(this);
;/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
(function(){"use strict";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;var i=function(t,i){return t["offset"+i]?t["offset"+i]:document.defaultView.getComputedStyle(t).getPropertyValue(i)},e=this.width=i(t.canvas,"Width"),n=this.height=i(t.canvas,"Height");t.canvas.width=e,t.canvas.height=n;var e=this.width=t.canvas.width,n=this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(".")[1].length:0}),S=s.radians=function(t){return t*(Math.PI/180)},x=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),y=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),C=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=y(c),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),S=Math.round(f/v);(S>a||a>2*S)&&!h;)if(S>a)v*=2,S=Math.round(f/v),S%1!==0&&(h=!0);else if(n&&u>=0){if(v/2%1!==0)break;v/=2,S=Math.round(f/v)}else v/=2,S=Math.round(f/v);return h&&(S=o,v=f/S),{steps:S,stepValue:v,min:p,max:p+S*v}},s.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),w=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=C(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-w.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*w.easeInBounce(2*t):.5*w.easeOutBounce(2*t-1)+.5}}),b=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),L=(s.animationLoop=function(t,i,e,s,n,o){var a=0,h=w[e]||w.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=b(l):n.apply(o)};b(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),k=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},F=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},L(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){k(t.chart.canvas,e,i)})}),R=s.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},T=s.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},A=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},W=s.fontString=function(t,i,e){return i+" "+t+"px "+e},z=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},B=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return P(this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=R(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:T(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,A(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),F(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&t[h].hasValue()&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width/2?n:i,y:(o+e)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=this.caretPadding=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}B(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+s/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=W(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=z(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{B(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?z(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=z(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),l&&(t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+x(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+x(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==e||a||(a=!0),a&&t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*S(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(C(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,h=a/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?"center":i===a?"center":a>i?"left":"right",t.textBaseline=r?"middle":l?"bottom":"top",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.bars.push(new this.BarClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))
},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Doughnut",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(Math.abs(t)/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=Math.abs(t.value)},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"Line",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:"PolarArea",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);
;!function($){$.fn.vcRoundChart=function(){var waypoint="undefined"!=typeof $.fn.waypoint;return this.each(function(){function addchart(){$this.data("animated")||(chart="doughnut"===$this.data("vcType")?new Chart(ctx).Doughnut(data,options):new Chart(ctx).Pie(data,options),$this.data("vcChartId",chart.id),$this.data("chart",chart),$this.data("animated",!0))}var data,gradient,chart,i,j,$this=$(this),ctx=$this.find("canvas")[0].getContext("2d"),stroke_width=$this.data("vcStrokeWidth")?parseInt($this.data("vcStrokeWidth"),10):0,options={showTooltips:$this.data("vcTooltips"),animationEasing:$this.data("vcAnimation"),segmentStrokeColor:$this.data("vcStrokeColor"),segmentShowStroke:0!==stroke_width,segmentStrokeWidth:stroke_width,responsive:!0},color_keys=["color","highlight"];for($this.data("chart")&&($this.data("chart").destroy(),$this.removeData("animated")),data=$this.data("vcValues"),ctx.canvas.width=$this.width(),ctx.canvas.height=$this.width(),i=data.length-1;i>=0;i--)for(j=color_keys.length-1;j>=0;j--)"object"==typeof data[i][color_keys[j]]&&2===data[i][color_keys[j]].length&&(gradient=ctx.createLinearGradient(0,0,0,ctx.canvas.height),gradient.addColorStop(0,data[i][color_keys[j]][0]),gradient.addColorStop(1,data[i][color_keys[j]][1]),data[i][color_keys[j]]=gradient);waypoint?$this.waypoint($.proxy(addchart,$this),{offset:"85%"}):addchart()}),this},"function"!=typeof window.vc_round_charts&&(window.vc_round_charts=function(model_id){var selector=".vc_round-chart";"undefined"!=typeof model_id&&(selector='[data-model-id="'+model_id+'"] '+selector),$(selector).vcRoundChart()}),$(document).ready(function(){!window.vc_iframe&&vc_round_charts()})}(jQuery);
;function TS_VCSC_IsTouchDevice(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)}function TS_VCSC_SimulateTouchEvents(t,e){var a=jQuery;return a(t)[0]?(window.__touchTypes||(window.__touchTypes={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},window.__touchInputs={INPUT:1,TEXTAREA:1,SELECT:1,OPTION:1,input:1,textarea:1,select:1,option:1}),a(t).bind("touchstart touchmove touchend",function(t){var i=t.target===this;if(!e||i){var r=!i&&t.target.__ajqmeclk,s=t.originalEvent;if(r!==!0&&s.touches&&!(s.touches.length>1)&&window.__touchTypes[s.type]){var n=i||"boolean"==typeof r?!1:a(t.target).data("events");if(r=i?!1:t.target.__ajqmeclk=n?n.click||n.mousedown||n.mouseup||n.mousemove:!1,!r&&!window.__touchInputs[t.target.tagName]){var o=s.changedTouches[0],l=document.createEvent("MouseEvent");l.initMouseEvent(window.__touchTypes[s.type],!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(l),s.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault()}}}}),!0):!1}function TS_VCSC_GetClosestEvenNumber(t){return t%2==0?t:t+1}function TS_VCSC_MultiKeyReplace(t,e,a){return a.replace(new RegExp("("+("string"==typeof t?t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&"):t.map(function(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}).join("|"))+")","g"),"string"==typeof e?e:"string"==typeof t?e[0]:function(a){return e[t.indexOf(a)]})}function TS_VCSC_isPortrait(){return window.innerHeight>window.innerWidth}function TS_VCSC_isLandscape(){return 90===window.orientation||-90===window.orientation||270===window.orientation}function TS_VCSC_UpdateVariablesOffsets(){TS_VCSC_OffsetScrollTop=window.pageYOffset,TS_VCSC_OffsetScrollLeft=window.pageXOffset}function TS_VCSC_UpdateVariablesWindow(){TS_VCSC_WindowHeight=window.innerHeight,TS_VCSC_WindowWidth=window.innerWidth}function TS_VCSC_StyleSupport(t){var e,a,i=t.charAt(0).toUpperCase()+t.slice(1),r=["Moz","Webkit","O","ms"],s=document.createElement("div");if(t in s.style)a=t;else for(var n=0;n<r.length;n++)if(e=r[n]+i,e in s.style){a=e;break}return s=null,jQuery.support[t]=a,a}function TS_VCSC_DocumentVisibility(){TS_VCSC_WindowAPI_Visible=document[TS_VCSC_WindowAPI_Hidden]?!1:!0}function TS_VCSC_GetBasicRoman(t){for(var e="",a=0,i=0;i<roman.length&&0!=t;i++)for(;t>=decimal[i];)t-=decimal[i],e+=roman[i],"M"==roman[i]&&a++;return{numThousands:a,romanNumeral:e}}function TS_VCSC_DecimalToRoman(t){if(0>=t||t>3888888)return t;var e=TS_VCSC_GetBasicRoman(t);if(e.numThousands>4){for(var a="",i=0;i<e.numThousands;i++)a+="M";var r=TS_VCSC_GetBasicRoman(e.numThousands),s="<span style='border-top:1px solid #000'>"+r.romanNumeral+"</span>";romanNumeral=e.romanNumeral.replace(a,s)}else romanNumeral=e.romanNumeral;return romanNumeral}function TS_VCSC_CodeToCharacter(t){for(var e="";t>=0;)e=String.fromCharCode(t%26+97)+e,t=Math.floor(t/26)-1;return e}function TS_VCSC_ParallaxImages(){TS_VCSC_UpdateVariablesOffsets();for(var t=0;t<TS_VCSC_ScrollParallaxImages.length;t++)TS_VCSC_ScrollParallaxImages[t].executeParallax()}function TS_VCSC_ParallaxTouchDevices(){TS_VCSC_UpdateVariablesOffsets();for(var t=0;t<TS_VCSC_ScrollParallaxImages.length;t++)TS_VCSC_ScrollParallaxImages[t].executeParallax();window.requestAnimationFrame(TS_VCSC_ParallaxTouchDevices)}"ontouchstart"in document.documentElement||(document.documentElement.className+=" no-touch"),jQuery.exists=function(t){return jQuery(t).length>0},jQuery.fn.reverse=[].reverse;var TS_VCSC_ActiveBrowserTab=!0,TS_VCSC_MobileDevice=!1,TS_VCSC_DeviceDesktop=!0,TS_VCSC_DeviceTablet=!1,TS_VCSC_DevicePhone=!1,TS_VCSC_DeviceOrientation="landscape",TS_VCSC_Amaran_Overlay="",TS_VCSC_AdminBarOffset=0,TS_VCSC_ScrollParallaxImages=[],TS_VCSC_OffsetScrollTop=0,TS_VCSC_OffsetScrollLeft=0,TS_VCSC_WindowHeight=0,TS_VCSC_WindowWidth=0,TS_VCSC_Supports3D=function(){if(document.body&&void 0!==document.body.style.perspective)return!0;var t=document.createElement("div"),e=t.style,a=["Webkit","Moz","O","Ms","ms"],i=a.length;if(void 0!==t.style.perspective)return!0;for(;--i>-1;)if(void 0!==e[a[i]+"Perspective"])return!0;return!1}(),TS_VCSC_WindowAPI_Visible=!0,TS_VCSC_WindowAPI_Hidden,TS_VCSC_WindowAPI_State,TS_VCSC_WindowAPI_Change;"undefined"!=typeof document.hidden?(TS_VCSC_WindowAPI_Hidden="hidden",TS_VCSC_WindowAPI_Change="visibilitychange",TS_VCSC_WindowAPI_State="visibilityState"):"undefined"!=typeof document.mozHidden?(TS_VCSC_WindowAPI_Hidden="mozHidden",TS_VCSC_WindowAPI_Change="mozvisibilitychange",TS_VCSC_WindowAPI_State="mozVisibilityState"):"undefined"!=typeof document.msHidden?(TS_VCSC_WindowAPI_Hidden="msHidden",TS_VCSC_WindowAPI_Change="msvisibilitychange",TS_VCSC_WindowAPI_State="msVisibilityState"):"undefined"!=typeof document.webkitHidden?(TS_VCSC_WindowAPI_Hidden="webkitHidden",TS_VCSC_WindowAPI_Change="webkitvisibilitychange",TS_VCSC_WindowAPI_State="webkitVisibilityState"):(TS_VCSC_WindowAPI_Hidden="hidden",TS_VCSC_WindowAPI_Change="visibilitychange",TS_VCSC_WindowAPI_State="visibilityState"),function(t){var e=/iPhone/i,a=/iPod/i,i=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,s=/Android/i,n=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,o=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,d=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,c=/BB10/i,h=/Opera Mini/i,f=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),g=function(t,e){return t.test(e)},y=function(t){var y=t||navigator.userAgent,v=y.split("[FBAN");return"undefined"!=typeof v[1]&&(y=v[0]),v=y.split("Twitter"),"undefined"!=typeof v[1]&&(y=v[0]),this.apple={phone:g(e,y),ipod:g(a,y),tablet:!g(e,y)&&g(i,y),device:g(e,y)||g(a,y)||g(i,y)},this.amazon={phone:g(n,y),tablet:!g(n,y)&&g(o,y),device:g(n,y)||g(o,y)},this.android={phone:g(n,y)||g(r,y),tablet:!g(n,y)&&!g(r,y)&&(g(o,y)||g(s,y)),device:g(n,y)||g(o,y)||g(r,y)||g(s,y)},this.windows={phone:g(l,y),tablet:g(d,y),device:g(l,y)||g(d,y)},this.other={blackberry:g(u,y),blackberry10:g(c,y),opera:g(h,y),firefox:g(p,y),chrome:g(f,y),device:g(u,y)||g(c,y)||g(h,y)||g(p,y)||g(f,y)},this.seven_inch=g(m,y),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},v=function(){var t=new y;return t.Class=y,t};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=y:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=v():"function"==typeof define&&define.amd?define("TS_VCSC_isMobile",[],t.TS_VCSC_isMobile=v()):t.TS_VCSC_isMobile=v(),TS_VCSC_isMobile.apple.phone||TS_VCSC_isMobile.apple.ipod||TS_VCSC_isMobile.android.phone||TS_VCSC_isMobile.windows.phone?(TS_VCSC_MobileDevice=!0,TS_VCSC_DeviceDesktop=!1,TS_VCSC_DeviceTablet=!1,TS_VCSC_DevicePhone=!0):TS_VCSC_isMobile.apple.tablet||TS_VCSC_isMobile.android.tablet||TS_VCSC_isMobile.windows.tablet||TS_VCSC_isMobile.seven_inch?(TS_VCSC_MobileDevice=!0,TS_VCSC_DeviceDesktop=!1,TS_VCSC_DeviceTablet=!0,TS_VCSC_DevicePhone=!1):(TS_VCSC_MobileDevice=!1,TS_VCSC_DeviceDesktop=!0,TS_VCSC_DeviceTablet=!1,TS_VCSC_DevicePhone=!1)}(this),function(t){t.fn.TS_VCSC_SortSelectBox=function(e,a){var i=this;"text"===e?"asc"===a?t(i).html(t(i).children("option").sort(function(e,a){return t(e).text().toLowerCase()<t(a).text().toLowerCase()?-1:1})):"desc"===a&&t(i).html(t(i).children("option").sort(function(e,a){return t(a).text().toLowerCase()<t(e).text().toLowerCase()?-1:1})):"asc"===a?t(i).html(t(i).children("option").sort(function(a,i){return t(a).attr(e).toLowerCase()<t(i).attr(e).toLowerCase()?-1:1})):"desc"===a&&t(i).html(t(i).children("option").sort(function(a,i){return t(i).attr(e).toLowerCase()<t(a).attr(e).toLowerCase()?-1:1}))},t.fn.TS_VCSC_GetWidthInPercent=function(){var e=parseFloat(t(this).css("width"))/parseFloat(t(this).parent().css("width"));return Math.round(100*e)},t.fn.alterClass=function(e,a){var i=this;if(-1===e.indexOf("*"))return i.removeClass(e),a?i.addClass(a):i;var r=new RegExp("\\s"+e.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return i.each(function(e,a){for(var i=" "+a.className+" ";r.test(i);)i=i.replace(r," ");a.className=t.trim(i)}),a?i.addClass(a):i},t.fn.moveTo=function(e){return this.each(function(){var a=t(this).clone();t(a).appendTo(e),t(this).remove()})},t.fn.unwrapUntil=function(){var e=arguments[0],a=typeof arguments[0];return"number"===a?t.each(this,function(){for(var a=t(this),i=0;e>i;i++)a.unwrap()}):"string"===a?t.each(this,function(){var a=t(this);if(a.closest(e).length>0)for(;0===a.parent(e).length;)a.unwrap()}):"object"===a&&t.each(this,function(){var a=t(this);if(a.closest(e).length>0)for(;a.parent()[0]!==e[0];)a.unwrap()}),this},t.fn.hasDataSet=function(e){return"undefined"!=typeof t(this).data(e)};var e=0;t.fn.translate3d=function(a,i,r,s){var n=t.speed(i,r,s);return n.easing=n.easing||"ease",a=t.extend({x:0,y:0,z:0},a),this.each(function(){var i=t(this);i.css({transitionDuration:n.duration+"ms",transitionTimingFunction:n.easing,transform:"translate3d("+a.x+"px, "+a.y+"px, "+a.z+"px)"}),setTimeout(function(){i.css({transitionDuration:"0s",transitionTimingFunction:"ease"}),n.complete()},n.duration+(e||0))})}}(jQuery),function(t){"$:nomunge";t.fn.cond=function(){for(var e,a,i,r,s=arguments,n=0;!a&&n<s.length;)a=s[n++],i=s[n++],a=t.isFunction(a)?a.call(this):a,r=i?a?i.call(this,a):e:a;return r!==e?r:this}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.fn.addBack=t.fn.addBack||t.fn.andSelf,t.fn.extend({actual:function(e,a){if(!this[e])throw'$.actual => The jQuery method "'+e+'" you called does not exist';var i,r,s={absolute:!1,clone:!1,includeMargin:!1},n=t.extend(s,a),o=this.eq(0);if(n.clone===!0)i=function(){var t="position: absolute !important; top: -1000 !important; ";o=o.clone().attr("style",t).appendTo("body")},r=function(){o.remove()};else{var l,d=[],u="";i=function(){l=o.parents().addBack().filter(":hidden"),u+="visibility: hidden !important; display: block !important; ",n.absolute===!0&&(u+="position: absolute !important; "),l.each(function(){var e=t(this),a=e.attr("style");d.push(a),e.attr("style",a?a+";"+u:u)})},r=function(){l.each(function(e){var a=t(this),i=d[e];void 0===i?a.removeAttr("style"):a.attr("style",i)})}}i();var c=/(outer)/.test(e)?o[e](n.includeMargin):o[e]();return r(),c}})});var TS_VCSC_Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e="";if(""==t||void 0==t)return e;var a,i,r,s,n,o,l,d=0;for(t=TS_VCSC_Base64._utf8_encode(t);d<t.length;)a=t.charCodeAt(d++),i=t.charCodeAt(d++),r=t.charCodeAt(d++),s=a>>2,n=(3&a)<<4|i>>4,o=(15&i)<<2|r>>6,l=63&r,isNaN(i)?o=l=64:isNaN(r)&&(l=64),e=e+this._keyStr.charAt(s)+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(l);return e},decode:function(t){var e="";if(""==t||void 0==t)return e;var a,i,r,s,n,o,l,d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)s=this._keyStr.indexOf(t.charAt(d++)),n=this._keyStr.indexOf(t.charAt(d++)),o=this._keyStr.indexOf(t.charAt(d++)),l=this._keyStr.indexOf(t.charAt(d++)),a=s<<2|n>>4,i=(15&n)<<4|o>>2,r=(3&o)<<6|l,e+=String.fromCharCode(a),64!=o&&(e+=String.fromCharCode(i)),64!=l&&(e+=String.fromCharCode(r));return e=TS_VCSC_Base64._utf8_decode(e)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",a=0;a<t.length;a++){var i=t.charCodeAt(a);128>i?e+=String.fromCharCode(i):i>127&&2048>i?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",a=0,i=c1=c2=0;a<t.length;)i=t.charCodeAt(a),128>i?(e+=String.fromCharCode(i),a++):i>191&&224>i?(c2=t.charCodeAt(a+1),e+=String.fromCharCode((31&i)<<6|63&c2),a+=2):(c2=t.charCodeAt(a+1),c3=t.charCodeAt(a+2),e+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),a+=3);return e}};!function(t){t.fn.picstrips=function(e){var a=t.extend({splits:8,hgutter:"10px",vgutter:"60px",bgcolor:"#fff"},e);return this.each(function(){function e(){var e=i(r,null);t(r).show(),e=i(r,e)}function i(e,i){var r=t(e).height(),s=t(e).width(),n=parseInt(a.hgutter,10),o=(s-n*a.splits)/a.splits,l="position: relative; float:left; margin-right: "+a.hgutter+"; background-image: url("+e.src+"); width: "+o+"px; height: "+r+"px; background-size: auto "+r+"px; ",d="position: absolute; left: 0px; width: "+o+"px; height: "+a.vgutter+"; background-color: "+a.bgcolor+"; top: ",u="position: relative; float:left; background-image: url("+e.src+"); width: "+o+"px; height: "+r+"px; background-size: auto "+r+"px; ";i&&i.remove();var c=t("[id^=molbars_]").length+1;i=t('<div id="molbars_'+c+'" class="molbars"></div>'),i.insertAfter(t(e));for(var h=0,f=0;f<a.splits;f++){var p=f%2!==0?"0px":r-parseInt(a.vgutter,10)+"px";l+=" background-position: -"+h+"px 100%;",u+=" background-position: -"+h+"px 100%;",f===a.splits-1?t('<div style="'+u+'"><span style="'+d+p+'"></span></div>').appendTo(i):t('<div style="'+l+'"><span style="'+d+p+'"></span></div>').appendTo(i),h+=o+n}return t(e).hide(),i}var r=this;if(this.complete&&this.width+this.height!==0)e();else{var s=new Image;s.src=this.src,t(s).load(function(){e()})}})}}(jQuery);var roman=new Array;roman=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"];var decimal=new Array;decimal=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],function(t){t.fn.drags=function(e){e=t.extend({handle:"",cursor:"move",draggableClass:"draggable",activeHandleClass:"active-handle"},e);var a=null,i=""===e.handle?this:this.find(e.handle);return i.css("cursor",e.cursor).on("mousedown",function(i){""===e.handle?(a=t(this),a.addClass(e.draggableClass)):(a=t(this).parent(),a.addClass(e.draggableClass).find(e.handle).addClass(e.activeHandleClass));var r=a.outerHeight(),s=a.outerWidth(),n=a.offset().top+r-i.pageY,o=a.offset().left+s-i.pageX;t(document).on("mousemove",function(t){a.offset({top:t.pageY+n-r,left:t.pageX+o-s})}).on("mouseup",function(){t(this).off("mousemove"),null!==a&&(a.removeClass(e.draggableClass),a=null)}),i.preventDefault()}).on("mouseup",function(){""===e.handle?a.removeClass(e.draggableClass):a.removeClass(e.draggableClass).find(e.handle).removeClass(e.activeHandleClass),a=null}),this}}(jQuery),function(t){t.fn.hasHorizontalScrollBar=function(){return this.get(0)?this.get(0).scrollWidth>this.innerWidth():!1},t.fn.hasVerticalScrollBar=function(){return this.get(0)?this.get(0).scrollHeight>this.innerHeight():!1}}(jQuery),function(t){function e(){jQuery(".ts-video-container").each(function(){{var t=jQuery(this),e=t.find("iframe");t.width()}e.attr("width","100%").css({width:"100%"})})}function r(){jQuery(".ts-background").each(function(){if("false"==jQuery(this).attr("data-inline")){var e=jQuery(this),a="true"==jQuery(this).attr("data-vc-full-width")?!0:!1,i=0,r=(jQuery(window).width(),"true"==jQuery(this).attr("data-svgshape")?!0:!1,parseInt(jQuery(this).attr("data-random")),jQuery(this).attr("data-type")),s=jQuery(this).attr("data-height"),n=jQuery(this).attr("data-screen"),o=parseInt(jQuery(this).attr("data-offset")),l=jQuery(this).hasClass("ts-background-blur");if(l)var d=parseInt(jQuery(this).attr("data-blur"));else var d=0;if("undefined"==typeof jQuery(this).attr("data-break-parents")||1==a)return;var u=parseInt(jQuery(this).attr("data-break-parents"));if(isNaN(u)||0==u&&"video"!=r&&"parallax"!=r)return;"movement"==r?($horizontalAdjust=parseInt(jQuery(this).attr("data-movex")),$verticalAdjust=parseInt(jQuery(this).attr("data-movey"))):($horizontalAdjust=0,$verticalAdjust=0);var c=jQuery(this).parent(),h=c.find(".ts-rowcenter-container-enabled");s>0&&h.css("min-height","0px");for(var f=h.outerHeight(!0),p=c,m=0;u>m&&!p.is("html");m++)p=p.parent(),"none"!=p.css("max-width")&&(i=parseInt(p.css("max-width").replace("px","").replace("%","").replace("em","")));var g=(p.width()+parseInt(p.css("paddingLeft"))+parseInt(p.css("paddingRight"))+parseInt(p.css("marginLeft"))+parseInt(p.css("marginRight")),c.offset().left-p.offset().left+0);if(g=-Math.ceil(g),g>0&&(g=0),s>0&&jQuery(this).css("min-height","0px"),$heightMin=jQuery(this).parent().outerHeight(),$heightBrowser=t(window).height()-o,$widthMin=p.outerWidth(),$heightMin>parseInt(s));else{parseInt(s)}if("true"==n&&($heightMin=$heightBrowser),jQuery(this).addClass("fullwidth"),jQuery(this).css({position:"absolute",width:$widthMin+d+"px","min-width":$widthMin+d+"px",left:parseInt(g)-d+"px"}),s>0&&jQuery(this).css({"min-height":$heightMin+"px"}),d>0&&jQuery(this).css({clip:"rect("+d+"px, "+($widthMin+d)+"px, "+$heightMin+"px, "+d+"px)"}),s>0&&jQuery(this).attr("data-set-height",$heightMin),jQuery(this).attr("data-set-width",$widthMin+d),jQuery(this).attr("data-set-ratio",($widthMin+d)/$heightMin),"true"==n?(c.addClass("fullwidth"),s>0&&(c.css("min-height",parseInt($heightMin)+"px"),f>$heightMin?h.css("min-height",parseInt(f)+"px"):h.css("min-height",parseInt($heightMin)+"px"))):(c.addClass("fullwidth"),s>0&&(c.css("min-height",parseInt(s)+"px"),f>$heightMin?h.css("min-height",parseInt(f)+"px"):h.css("min-height",parseInt($heightMin)+"px"))),"video"==r){var y=$widthMin+d,v=$heightMin;jQuery(this).find(".ts-background-video-holder").width(y),jQuery(this).find(".ts-background-video-holder").height(v),jQuery(this).find(".ts-background-video-holder").find(".wallpaper-container").width(y).height(v),jQuery(this).find(".ts-background-video-holder").find("video").width(y)}if("movement"==r){var w=jQuery(this).width(),j=jQuery(this).height(),Q=w/j,C=$widthMin+2*$horizontalAdjust*Q,b=-1*parseInt(jQuery(this).css("left"));jQuery(this).width(C).css("left","-"+(b+$horizontalAdjust)+"px").css("max-width",C+"px")}"parallax"==r&&"false"==e.attr("data-completed")&&e.attr("data-completed","true")}})}function s(){jQuery(".ts-image-full-frame").each(function(){if("false"==jQuery(this).attr("data-inline")){var t=0,e=(jQuery(window).width(),0),a="true"==jQuery(this).attr("data-svgshape")?!0:!1,i=parseInt(jQuery(this).attr("data-random")),r=jQuery(this).hasClass("ts-background-blur");if(r)var s=parseInt(jQuery(this).attr("data-blur")),n=1;else var s=0,n=0;if("undefined"==typeof jQuery(this).attr("data-break-parents"))return;var o=parseInt(jQuery(this).attr("data-break-parents"));if(isNaN(o)||0==o)return;jQuery(this).hasClass("ts-image-full-movement")?($horizontalAdjust=parseInt(jQuery(this).attr("data-movex")),$verticalAdjust=parseInt(jQuery(this).attr("data-movey")),jQuery(this).find("img.ts-imagefull").width("100%")):($horizontalAdjust=0,$verticalAdjust=0);for(var l=jQuery(this).parent(),d=l,u=0;o>u&&!d.is("html");u++)d=d.parent(),"none"!=d.css("max-width")&&(t=parseInt(d.css("max-width").replace("px","").replace("%","").replace("em","")));var c=(d.width()+parseInt(d.css("paddingLeft"))+parseInt(d.css("paddingRight"))+parseInt(d.css("marginLeft"))+parseInt(d.css("marginRight")),l.offset().left-d.offset().left+0-parseInt(l.css("marginLeft"))-parseInt(l.css("paddingLeft")));if(c=-Math.ceil(c),c>0&&(c=0),$heightMin=jQuery(this).find("img.ts-imagefull").height(),$widthMin=d.outerWidth(),$heightMin>parseInt(e));else{parseInt(e)}if(jQuery(this).addClass("fullwidth"),jQuery(this).css({"min-height":$heightMin+"px",width:$widthMin+s+"px","min-width":$widthMin+s+"px",left:parseInt(c)-s+"px"}),s>0&&jQuery(this).css({clip:"rect("+s+"px, "+($widthMin+s)+"px, "+$heightMin+"px, "+s+"px)"}),jQuery(this).hasClass("ts-image-full-movement")){var h=jQuery(this).find("img.ts-imagefull").width(),f=jQuery(this).find("img.ts-imagefull").height(),p=h/f,m=$widthMin+2*$horizontalAdjust*p;jQuery(this).find("img.ts-imagefull").width(m).css("left","-"+$horizontalAdjust+"px").css("max-width",m+"px"),$horizontalAdjust=jQuery(this).find("img.ts-imagefull").height()-f,jQuery(this).find("img.ts-imagefull").css("top","-"+$horizontalAdjust/2+"px")}a&&(jQuery("#ts-background-separator-top-"+i).css({position:"absolute",width:$widthMin+s+"px","min-width":$widthMin+s+"px",left:parseInt(c)-s+"px","margin-top":-1-s-n+"px"}),jQuery("#ts-background-separator-bottom-"+i).css({position:"absolute",width:$widthMin+s+"px","min-width":$widthMin+s+"px",left:parseInt(c)-s+"px","margin-bottom":-1-s-n+"px"}))}})}function n(){jQuery(".ts-slideshow-full-frame").each(function(){if("false"==jQuery(this).attr("data-inline")){var t=0,e=(jQuery(window).width(),parseInt(jQuery(this).attr("data-height"))),a=("true"==jQuery(this).attr("data-dynamic")?!0:!1,"true"==jQuery(this).attr("data-svgshape")?!0:!1),i=parseInt(jQuery(this).attr("data-random")),r=jQuery(this).hasClass("ts-background-blur");if(r)var s=parseInt(jQuery(this).attr("data-blur")),n=1;else var s=0,n=0;if("undefined"==typeof jQuery(this).attr("data-break-parents"))return;var o=parseInt(jQuery(this).attr("data-break-parents"));if(isNaN(o)||0==o)return;$horizontalAdjust=0,$verticalAdjust=0;for(var l=jQuery(this).parent(),d=l,u=0;o>u&&!d.is("html");u++)d=d.parent(),"none"!=d.css("max-width")&&(t=parseInt(d.css("max-width").replace("px","").replace("%","").replace("em","")));var c=(d.width()+parseInt(d.css("paddingLeft"))+parseInt(d.css("paddingRight"))+parseInt(d.css("marginLeft"))+parseInt(d.css("marginRight")),l.offset().left-d.offset().left+0-parseInt(l.css("marginLeft"))-parseInt(l.css("paddingLeft")));c=-Math.ceil(c),c>0&&(c=0),$widthMin=d.outerWidth(),jQuery(this).addClass("fullwidth"),jQuery(this).css({"max-height":e+"px",width:$widthMin+s+"px","min-width":$widthMin+s+"px",left:parseInt(c)-s+"px"}),s>0&&jQuery(this).css({clip:"rect("+s+"px, "+($widthMin+s)+"px, "+$heightMin+"px, "+s+"px)"}),a&&(jQuery("#ts-background-separator-top-"+i).css({position:"absolute",width:$widthMin+s+"px","min-width":$widthMin+s+"px",left:"0px","margin-top":-1-s-n+"px"}),jQuery("#ts-background-separator-bottom-"+i).css({position:"absolute",width:$widthMin+s+"px","min-width":$widthMin+s+"px",left:"0px","margin-bottom":-1-s-n+"px"}))}})}function o(){jQuery(".ts-iframe-full-frame").each(function(){if("false"==jQuery(this).attr("data-inline")){var t=0,e=(jQuery(window).width(),0),a=2*parseInt(jQuery(this).attr("data-border"));if("undefined"==typeof jQuery(this).attr("data-break-parents"))return;var i=parseInt(jQuery(this).attr("data-break-parents"));if(isNaN(i)||0==i)return;for(var r=jQuery(this).parent(),s=r,n=0;i>n&&!s.is("html");n++)s=s.parent(),"none"!=s.css("max-width")&&(t=parseInt(s.css("max-width").replace("px","").replace("%","").replace("em","")));var o=(s.width()+parseInt(s.css("paddingLeft"))+parseInt(s.css("paddingRight"))+parseInt(s.css("marginLeft"))+parseInt(s.css("marginRight")),r.offset().left-s.offset().left+0-parseInt(r.css("marginLeft"))-parseInt(r.css("paddingLeft")));if(o=-Math.ceil(o),o>0&&(o=0),$heightMin=0,$widthMin=s.outerWidth(),$heightMin>parseInt(e));else{parseInt(e)}jQuery(this).addClass("fullwidth"),jQuery(this).css({"min-height":$heightMin+"px",width:$widthMin-a+"px","min-width":$widthMin-a+"px",left:parseInt(o)+"px"})}})}function l(){jQuery(".ts-other-full-frame").each(function(){if("false"==jQuery(this).attr("data-inline")){var t=0,e=(jQuery(window).width(),0);if("undefined"==typeof jQuery(this).attr("data-break-parents"))return;var a=parseInt(jQuery(this).attr("data-break-parents"));if(isNaN(a)||0==a)return;for(var i=jQuery(this).parent(),r=i,s=0;a>s&&!r.is("html");s++)r=r.parent(),"none"!=r.css("max-width")&&(t=parseInt(r.css("max-width").replace("px","").replace("%","").replace("em","")));var n=(r.width()+parseInt(r.css("paddingLeft"))+parseInt(r.css("paddingRight"))+parseInt(r.css("marginLeft"))+parseInt(r.css("marginRight")),i.offset().left-r.offset().left+0-parseInt(i.css("marginLeft"))-parseInt(i.css("paddingLeft")));if(n=-Math.ceil(n),n>0&&(n=0),$heightMin=0,$widthMin=r.outerWidth(),$heightMin>parseInt(e));else{parseInt(e)}jQuery(this).addClass("fullwidth"),jQuery(this).css({"min-height":$heightMin+"px",width:$widthMin+"px","min-width":$widthMin+"px",left:parseInt(n)+"px"})}})}function d(){jQuery(".ts-lightbox-nacho-full-frame").each(function(){if("false"==jQuery(this).attr("data-inline")){var t=0,e=(jQuery(window).width(),0);if("undefined"==typeof jQuery(this).attr("data-break-parents"))return;var a=parseInt(jQuery(this).attr("data-break-parents"));if(isNaN(a)||0==a)return;for(var i=jQuery(this).parent(),r=i,s=0;a>s&&!r.is("html");s++)r=r.parent(),"none"!=r.css("max-width")&&(t=parseInt(r.css("max-width").replace("px","").replace("%","").replace("em","")));var n=(r.width()+parseInt(r.css("paddingLeft"))+parseInt(r.css("paddingRight"))+parseInt(r.css("marginLeft"))+parseInt(r.css("marginRight")),i.offset().left-r.offset().left+0-parseInt(i.css("marginLeft"))-parseInt(i.css("paddingLeft")));if(n=-Math.ceil(n),n>0&&(n=0),$heightMin=0,$widthMin=r.outerWidth(),$heightMin>parseInt(e));else{parseInt(e)}jQuery(this).addClass("fullwidth"),jQuery(this).css({"min-height":$heightMin+"px",width:$widthMin+"px","min-width":$widthMin+"px",left:parseInt(n)+"px"})}})}function u(t){var e={37:1,38:1,39:1,40:1};return f(t.target)&&e[t.keyCode]?(t.preventDefault(),$TS_VCSC_Lightbox_Showing&&jQuery("html, body").scrollTop($TS_VCSC_Lightbox_LastScroll),!1):void 0}function c(t){return f(t.target)&&2==t.which?(t.preventDefault(),!1):void 0}function h(t){return f(t.target)?(t.preventDefault(),$TS_VCSC_Lightbox_Showing&&jQuery("html, body").scrollTop($TS_VCSC_Lightbox_LastScroll),!1):void jQuery(t.target).is(document)}function f(t){var e=jQuery(t).closest(".nch-lb-media-space"),a=jQuery(t).closest(".nch-lb-zoom-container"),i=jQuery(t).closest(".nch-lb-media-html"),r=jQuery(t).closest(".nch-lb-media-iframe"),s=jQuery(t).closest(".nch-lb-thumbs-bar");return e.length>0&&0==i.length&&0==r.length&&0==a.length&&0==s.length?!0:i.length>0||a.length>0?i.hasVerticalScrollBar()||a.hasVerticalScrollBar()?!1:!0:s.length>0&&(s.hasClass("nch-lb-thumbs-left")||s.hasClass("nch-lb-thumbs-right"))?!1:!0}t(document).ready(function(){function t(t){t?(window.matchMedia("(orientation: portrait)").matches&&(TS_VCSC_DeviceOrientation="portrait"),window.matchMedia("(orientation: landscape)").matches&&(TS_VCSC_DeviceOrientation="landscape")):TS_VCSC_DeviceOrientation="landscape"}function e(t){var e=(t.attr("data-scroll-target"),parseInt(t.attr("data-scroll-distance")),parseInt(t.attr("data-scroll-speed")),t.attr("data-scroll-effect"),t.attr("data-scroll-totopin")),a=t.attr("data-scroll-totopout"),i="true"==t.attr("data-scroll-visible")?!0:!1;i||(t.show(),t.attr("data-scroll-visible","true"),t.removeClass(a),""!=e&&(t.addClass(e),setTimeout(function(){t.removeClass(e)},2e3)))}function a(t){var e=(t.attr("data-scroll-target"),parseInt(t.attr("data-scroll-distance")),parseInt(t.attr("data-scroll-speed")),t.attr("data-scroll-effect"),t.attr("data-scroll-totopin")),a=t.attr("data-scroll-totopout"),i="true"==t.attr("data-scroll-visible")?!0:!1;i&&(t.removeClass(e),""!=a?(t.addClass(a),setTimeout(function(){t.removeClass(a),t.hide(),t.attr("data-scroll-visible","false")},2e3)):(t.hide(),t.attr("data-scroll-visible","false")))}jQuery("body").attr("data-multibackground-mousewheeloverridespeed","true"),document.addEventListener(TS_VCSC_WindowAPI_Change,TS_VCSC_DocumentVisibility,!1),jQuery(window).on("debouncedresize",function(){t(TS_VCSC_MobileDevice)}),TS_VCSC_AdminBarOffset=void 0!=jQuery("html").css("boxSizing")&&"border-box"==jQuery("html").css("boxSizing")&&jQuery("#wpadminbar").length>0?parseInt(jQuery("html").css("marginTop").replace("px","")):0,window.onfocus=function(){TS_VCSC_ActiveBrowserTab=!0},window.onblur=function(){TS_VCSC_ActiveBrowserTab=!1},r(),jQuery(".ts-button-page-navigator").each(function(){var t=jQuery(this).attr("data-scroll-target"),e=parseInt(jQuery(this).attr("data-scroll-speed"));if(0==TS_VCSC_MobileDevice)var a=parseInt(jQuery(this).attr("data-scroll-offsetdesktop"));else if(TS_VCSC_DeviceTablet)var a=parseInt(jQuery(this).attr("data-scroll-offsettablet"));else if(TS_VCSC_DevicePhone)var a=parseInt(jQuery(this).attr("data-scroll-offsetmobile"));else var a=0;var i=jQuery(this).attr("data-scroll-effect"),r="true"==jQuery(this).attr("data-scroll-hashtag")?!0:!1;jQuery(this).on("click",function(s){s.preventDefault();var n=jQuery(this).hasClass("ts-figure-navigation-button");n?($scroll_parent=jQuery(this).parent().parent(),$scroll_trigger=$scroll_parent.attr("data-trigger"),"hover"==$scroll_trigger?($scroll_parent.trigger("mouseleave touchend"),$scroll_adjust=$scroll_parent.height()-140):$scroll_adjust=0):($scroll_trigger="",$scroll_adjust=0),jQuery("html, body").stop().animate({scrollTop:jQuery("#"+t).offset().top-a-TS_VCSC_AdminBarOffset-$scroll_adjust},e,i,function(){r&&(window.location.hash=t)})})}),jQuery(".ts-gototop-page-navigator").each(function(){jQuery(this).prependTo(document.body);{var t=jQuery(this),a=(t.attr("data-scroll-target"),parseInt(t.attr("data-scroll-distance"))),i=parseInt(t.attr("data-scroll-speed")),r=t.attr("data-scroll-effect"),s=t.attr("data-scroll-totopin");t.attr("data-scroll-totopout"),"true"==t.attr("data-scroll-visible")?!0:!1}a>0?jQuery(document).scrollTop()>a&&e(t):(t.show(),t.attr("data-scroll-visible","true"),""!=s&&(t.removeClass(s).addClass(s),setTimeout(function(){t.removeClass(s)},2e3))),t.on("click",function(e){if(e.preventDefault(),e.stopPropagation(),"true"==t.attr("data-tooltipset"))try{t.tooltipstercustom("destroy").attr("data-tooltipset","false")}catch(a){}jQuery("html, body").stop().animate({scrollTop:0},i,r,function(){})}),t.find("a").on("click",function(t){t.preventDefault()})}),jQuery(".ts-gototop-page-navigator.ts-gototop-page-distance").length>0&&jQuery(document).on("scroll",function(){clearTimeout(jQuery.data(this,"scrollCheck")),jQuery.data(this,"scrollCheck",setTimeout(function(){jQuery(".ts-gototop-page-navigator.ts-gototop-page-distance").each(function(){var t=parseInt(jQuery(this).attr("data-scroll-distance"));jQuery(document).scrollTop()>t?e(jQuery(this)):a(jQuery(this))})},350))})}),t(document).ready(function(){function i(){jQuery(".ts-spacer-advanced").each(function(){var t=jQuery(this),e=t.attr("data-implement"),a=parseInt(t.attr("data-height-always")),i="true"==t.attr("data-screen-check")?!0:!1,r=parseInt(t.attr("data-screen-width"));"devices"==e?TS_VCSC_MobileDevice?TS_VCSC_DeviceTablet&&"portrait"==TS_VCSC_DeviceOrientation?a=parseInt(t.attr("data-tablet-portrait")):TS_VCSC_DeviceTablet&&"landscape"==TS_VCSC_DeviceOrientation?a=parseInt(t.attr("data-tablet-landscape")):TS_VCSC_DevicePhone&&"portrait"==TS_VCSC_DeviceOrientation?a=parseInt(t.attr("data-mobile-portrait")):TS_VCSC_DevicePhone&&"landscape"==TS_VCSC_DeviceOrientation&&(a=parseInt(t.attr("data-mobile-landscape"))):a=parseInt(t.attr("data-desktop")):"always"==e&&(a=a),t.css({height:a+"px","min-height":a+"px","line-height":a+"px"}),"always"==e&&i&&(jQuery(window).width()>=r?t.show():t.hide())})}function f(){jQuery(".ts-flex-button").each(function(){var t=jQuery(this);if(t.hasClass("ts-flex-button-icon-left")||t.hasClass("ts-flex-button-icon-right")){var e=("true"==t.attr("data-iconhover")?!0:!1,t.width()),a=t.find(".ts-flex-button-icon"),i=t.find(".ts-flex-button-title"),r=i.css("marginLeft").replace("px","").replace("%","").replace("em",""),s=i.css("marginRight").replace("px","").replace("%","").replace("em",""),n=e-a.outerWidth(!0)-r-s;i.width(n+"px")}})}function p(){jQuery(".ts-divider-lines, .ts-divider-icons, .ts-divider-images").each(function(){var t=jQuery(this),e=t.parent(),a=parseInt(e.attr("data-margin-top")),i=parseInt(e.attr("data-margin-bottom")),r=(parseInt(e.attr("data-border-width")),a+i),s=t.find(".ts-divider-text").outerHeight(!0),n=(r+s)/2;e.css({"margin-top":n+"px","margin-bottom":n+"px"})})}function m(){jQuery(".ts-skillset-raphael-container").each(function(){var t=jQuery(this).find("svg");0!=t.length&&(t.children().off().unbind(),t.off().remove());
var e=jQuery(this).find(".ts-skillset-raphael-chart"),i=e.attr("data-raphael"),r=e.parent().width(),s=r/2,n="true"==e.attr("data-randomstart")?!0:!1,o="true"==e.attr("data-circlecustom")?!0:!1;if(o)var l=e.attr("data-circlecolor");else var l="none";var d=e.attr("data-textcolor"),u=e.attr("data-textdefault"),c=parseInt(e.attr("data-textsize")),h=parseInt(e.attr("data-maxstroke")),f=parseInt(e.attr("data-spacestroke")),p=u,m=140,g=250,v=20,w=Raphael(i,r,r);w.customAttributes.arc=function(t,e,i){var r=3.6*t,o=360==r?359.99:r;if(n)var l=240,d=91;else var l=0,d=0;return random=Math.floor(Math.random()*(l-d+1)+d),a=(random-o)*Math.PI/180,b=random*Math.PI/180,sx=s+i*Math.cos(b),sy=s-i*Math.sin(b),x=s+i*Math.cos(a),y=s-i*Math.sin(a),path=[["M",sx,sy],["A",i,i,0,+(o>180),1,x,y]],{path:path,stroke:e}};var j=(w.circle(s,s,m/2).attr({stroke:"none",fill:l}),w.text(s,s,p).attr({font:c+"px Verdana",fill:d}).toFront()),Q=jQuery(this).find(".ts-skillset-raphael-arch").length;if(f>0)var C=(Q+1)*f+v/2;else var C=Q+5;var _=Math.floor((r-m)/2),S=Math.floor((_-C)/Q);S>h&&(S=h);var I=S+f,T=m/2-S/2;jQuery(this).find(".ts-skillset-raphael-arch").each(function(){var t=jQuery(this),e=t.find(".color").val(),a=t.find(".percent").val(),i=t.find(".name").val(),r={"stroke-width":S};T+=I;var s=w.path().attr(r).attr({arc:[a,e,T]});s.mouseover(function(){this.animate({"stroke-width":S+v,opacity:.9},800,"elastic"),"VML"!=Raphael.type&&this.toFront(),j.stop().animate({opacity:0},g,">",function(){this.attr({text:i+"\n"+a+"%"}).animate({opacity:1},g,"<")})}).mouseout(function(){this.stop().animate({"stroke-width":S,opacity:1},4*g,"elastic"),j.stop().animate({opacity:0},g,">",function(){j.attr({text:p}).animate({opacity:1},g,"<")})})})})}function g(){jQuery(".ts-figure-navigation-container").each(function(){var t=jQuery(this),e="true"==jQuery(this).attr("data-frontend")?!0:!1,a=jQuery(this).width(),i=parseInt(jQuery(this).attr("data-minwidth")),r="true"==jQuery(this).attr("data-widthfull")?!0:!1,s=jQuery(this).find(".ts-figure-navigation-item").length,n=i*s,o=jQuery(this).attr("data-pagecontent"),l="true"==jQuery(this).attr("data-nofigure")?!0:!1,d=0,u=0,c=(jQuery(this).find(".ts-figure-navigation-item").length,0),h=0,f=100,p={},m=0,g=0,y=0,v=0,w=0;if(0==e)if(n>a&&r===!1){for(var j=0;s>j;j++)if(a>=(s-j)*i){f=100/(s-j),jQuery(this).find(".ts-figure-navigation-item").css("width",f+"%").attr("data-width",f);break}}else i>a||r===!0?(f=100,jQuery(this).find(".ts-figure-navigation-item").css("width","100%").attr("data-width","100")):(f=100/s,jQuery(this).find(".ts-figure-navigation-item").css("width",f+"%").attr("data-width",f));else f=100,jQuery(this).find(".ts-figure-navigation-item").css("width","100%").attr("data-width","100");if(jQuery(this).find(".ts-figure-navigation-item").each(function(){var t=jQuery(this);if(jQuery(this).hasClass("ts-figure-navigation-hover")){var e=(t.attr("data-frontend"),t.attr("data-group"),t.find(".ts-figure-navigation-title")),a=t.find(".ts-figure-navigation-image"),i=t.find(".ts-figure-navigation-handle"),r=t.find(".ts-figure-navigation-content"),s=t.find(".ts-figure-navigation-button");l?t.css("height","80px"):t.css("height","110px"),r.css("height","100%");var n=e.outerHeight(!0)+a.outerHeight(!0)+i.outerHeight(!0)+r.outerHeight(!0)+s.outerHeight(!0);t.css("height",n+"px");var p=t.find(".ts-figure-navigation-image").height();r.css("height",r.height()+"px"),t.find(".ts-figure-navigation-figure").css({height:p+"px"}),t.find(".ts-figure-navigation-content").stop(!0).animate({opacity:1},500)}"cover"==o&&(c*f>=100&&(c=0,h++,h>u&&(u=h)),c>d&&(d=c),t.css({left:c*f+"%",top:h*t.height()+h*t.find(".ts-figure-navigation-handle").height()+"px"}).attr("data-absolute-height",t.height()+t.find(".ts-figure-navigation-handle").height()).attr("data-absolute-row",h).attr("data-absolute-column",c).attr("data-absolute-movetip","-"+t.find(".ts-figure-navigation-handle").height()),c++)}),"cover"==o){for(var j=0,Q=h+1;Q>j;j++)p["row"+j]=0;jQuery(this).find(".ts-figure-navigation-item").each(function(){g=parseInt(jQuery(this).attr("data-absolute-height")),y=parseInt(jQuery(this).attr("data-absolute-row")),v=parseInt(jQuery(this).attr("data-absolute-column")),g>p["row"+y]&&(p["row"+y]=g),jQuery(this).hasClass("ts-has-tooltipster-tooltip")&&(jQuery(this).attr("data-tooltipster-offsety",jQuery(this).attr("data-tooltipster-movetip")),w=parseInt(jQuery(this).attr("data-tooltipster-movetip"))+parseInt(jQuery(this).attr("data-absolute-movetip")),h>0&&0==d&&jQuery(this).attr("data-tooltipster-offsety",w))});for(var j=0,Q=h+1;Q>j;j++)m+=p["row"+j];t.height(m+"px")}})}function v(){jQuery(".ts-horizontal-steps").each(function(){var t=jQuery(this),e="true"==t.attr("data-frontend")?!0:!1,a=("true"==t.attr("data-layoutrtl")?!0:!1,t.width()),i=parseInt(t.attr("data-lastwidth")),r=0,s=0,n=parseInt(t.attr("data-stepinner")),o=parseInt(t.attr("data-minwidth")),l=parseInt(t.attr("data-maxwidth")),d=parseInt(t.attr("data-iconsize")),u="true"==t.attr("data-iconlimit")?!0:!1,c=parseInt(t.attr("data-iconmax")),h=t.find(".ts-horizontal-steps-item").length,f=o*h,p=t.find(".ts-horizontal-steps-item"),m=t.find(".ts-horizontal-step-icon"),g=0,y=0,v=0,w=0,j=[],Q=[],C=!1;if(1==e);else if(a!=i){if(t.attr("data-lastwidth",a),p.css("height","auto"),f>a){for(var b=0;h>b;b++)if(a>=(h-b)*o){r=100/(h-b),g=Math.floor(a/100*r),g>l&&(g=l),s=g/100*n,$height_icon=s*d/100>c&&u?c:s*d/100,$margin_image=(s-$height_icon)/2,t.find(".ts-horizontal-steps-item").css("width",g+"px").attr("data-width",g),t.find(".ts-horizontal-steps-item").find(".ts-horizontal-step-icon").css("width",s+"px").css("height",s+"px"),t.find(".ts-horizontal-steps-item").find(".ts-horizontal-step-icon i").css("line-height",s+"px").css("font-size",$height_icon+"px"),t.find(".ts-horizontal-steps-item").find(".ts-horizontal-step-icon img").css("height",$height_icon+"px").css("width",$height_icon+"px").css("margin-top",$margin_image+"px");break}}else o>a?(g=a,s=a/100*n,$height_icon=s*d/100>c&&u?c:s*d/100,$margin_image=(s-$height_icon)/2,p.css("width","100%").attr("data-width","100"),m.css("width",s+"px").css("height",s+"px"),m.find("i").css("line-height",s+"px").css("font-size",$height_icon+"px"),m.find("img").css("height",$height_icon+"px").css("width",$height_icon+"px").css("margin-top",$margin_image+"px")):(r=100/h,g=Math.floor(a/100*r),g>l&&(g=l),s=g/100*n,$height_icon=g>c&&u?c:s*d/100,$margin_image=(s-$height_icon)/2,p.css("width",g+"px").attr("data-width",g),m.css("width",s+"px").css("height",s+"px"),m.find("i").css("line-height",s+"px").css("font-size",$height_icon+"px"),m.find("img").css("height",$height_icon+"px").css("width",$height_icon+"px").css("margin-top",$margin_image+"px"));setTimeout(function(){p.each(function(t){y+=jQuery(this).width(),y>a?(j.push(t),y=jQuery(this).width()):Q.push(t)}),p.first().addClass("ts-horizontal-steps-first"),jQuery.each(j,function(t,e){p.eq(e-1).addClass("ts-horizontal-steps-break").addClass("ts-horizontal-steps-arrow")}),jQuery.each(Q,function(t,e){p.eq(e-1).removeClass("ts-horizontal-steps-break").removeClass("ts-horizontal-steps-arrow")}),p.last().addClass("ts-horizontal-steps-break").addClass("ts-horizontal-steps-last"),t.find(".ts-horizontal-steps-break").length==h?(C=!0,p.css("height","auto").addClass("ts-horizontal-steps-full")):(C=!1,p.removeClass("ts-horizontal-steps-full"),jQuery.each(j,function(t,e){v=0,p.slice(w,e).each(function(){jQuery(this).height()>v&&(v=jQuery(this).height())}),p.slice(w,e).css("height",v+"px"),w=e}))},500)}})}function w(){jQuery(".ts-horizontal-steps-viewport").each(function(){var t=jQuery(this),e=("true"==t.attr("data-layoutrtl")?!0:!1,t.attr("data-animation")),a=parseInt(t.attr("data-delay")),i=parseInt(t.attr("data-break")),r=("true"==t.attr("data-frontend")?!0:!1,"true"==t.attr("data-mobile")?!0:!1),s=t.height(),n=jQuery(window).height(),o=0;if(o=n/2>s?"bottom-in-view":n>=s?100-s/n+"%":"25%",0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&1==r)if("undefined"!=typeof jQuery.fn.waypoint){var l=0,d=t.find("li").length,u=a+d*i-i+2e3,c=null;t.find("li").css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});{t.waypoint({handler:function(){var r=jQuery(this);t.find("li").addClass("ts-horizontal-steps-animating"),setTimeout(function(){t.find("li").each(function(){var t=jQuery(this);setTimeout(function(){t.addClass(e).css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1}),null!=c&&c.removeClass("ts-horizontal-steps-animating"),c=t},l),l+=i}).promise().done(function(){try{r.waypoint("destroy")}catch(t){}try{$this.destroy()}catch(t){}})},a),setTimeout(function(){c=null,t.find("li").removeClass(e).removeClass("ts-horizontal-steps-animating"),t.addClass("ts-horizontal-steps-instant").removeClass("ts-horizontal-steps-viewport")},u)},offset:o,triggerOnce:!0})}}else t.addClass("ts-horizontal-steps-instant").removeClass("ts-horizontal-steps-viewport");else t.addClass("ts-horizontal-steps-instant").removeClass("ts-horizontal-steps-viewport")})}function j(){jQuery(".ts-process-line-container").each(function(){var t=jQuery(this),e=t.attr("data-style"),a=t.attr("data-alignment"),i=t.width(),r=parseInt(t.attr("data-switchat")),s=t.attr("data-switchto");if("alternate"==a){if("style3"==e)var n=t.find("ul.ts-timeline-3");else if("style4"==e)var n=t.find(".ts-timeline-4");else var n=null;r>=i?"style3"==e?n.removeClass("ts-timeline-3-align-alternate").addClass("ts-timeline-3-align-"+s):"style4"==e&&n.removeClass("ts-timeline-4-align-alternate").addClass("ts-timeline-4-align-"+s):"style3"==e?n.removeClass("ts-timeline-3-align-"+s).addClass("ts-timeline-3-align-alternate"):"style4"==e&&n.removeClass("ts-timeline-4-align-"+s).addClass("ts-timeline-4-align-alternate")}})}function Q(){jQuery(".ts-process-line-viewport").each(function(){var t=jQuery(this),e=t.attr("data-animation-trigger"),a=t.attr("data-animation-type1"),i=t.attr("data-animation-type2"),r=t.attr("data-animation-type3"),s=t.attr("data-animation-type4"),n=parseInt(t.attr("data-animation-delay")),o=parseInt(t.attr("data-animation-wait")),l=t.attr("data-animation-offset"),d=("true"==t.attr("data-animation-frontend")?!0:!1,"true"==t.attr("data-animation-mobile")?!0:!1),u=t.attr("data-style"),c=t.attr("data-alignment");if("style1"==u)var h=t.find(".ts-timeline-1-item"),f=null;else if("style2"==u)var h=t.find(".ts-timeline-2-item"),f=t.find("ul.ts-timeline-2");else if("style3"==u)var h=t.find(".ts-timeline-3-item"),f=t.find(".ts-timeline-3");else if("style4"==u)var h=t.find(".ts-timeline-4-item"),f=t.find(".ts-timeline-4");else var h=null,f=null;if(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&1==d)if("undefined"!=typeof jQuery.fn.waypoint){if(h.css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0}),null!=f&&f.css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0}),"item-in-view"==e){var p=h.length;h.each(function(e,n){{var o=jQuery(this);jQuery(n).waypoint({handler:function(){var n=e+1,l=!1,d="";o.addClass("ts-process-line-item-animating"),null!=f&&1==n&&f.css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1}),l=n%2==0?!0:!1,"style1"==u||"style2"==u?d=a:("style3"==u||"style4"==u)&&("left"==c||"right"==c?d=i:"alternate"==c&&(d=l?s:r)),o.addClass(d).css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1}),setTimeout(function(){o.removeClass("ts-process-line-item-animating"),o.removeClass(a).removeClass(i).removeClass(r).removeClass(s).removeClass("ts-process-line-item-animating"),p--,0==p&&t.addClass("ts-process-line-instant").removeClass("ts-process-line-viewport")},2e3);try{o.waypoint("destroy")}catch(h){}try{$this.destroy()}catch(h){}},offset:l,triggerOnce:!0})}})}else if("container-in-view"==e){var m=0,g=h.length,y=n+g*o-o+2e3,v=null;t.waypoint({handler:function(){var e=jQuery(this);h.addClass("ts-process-line-item-animating"),null!=f&&f.css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1}),setTimeout(function(){h.each(function(t){var e=t+1,n=jQuery(this),l=!1,d="";l=e%2==0?!0:!1,"style1"==u||"style2"==u?d=a:("style3"==u||"style4"==u)&&("left"==c||"right"==c?d=i:"alternate"==c&&(d=l?s:r)),setTimeout(function(){n.addClass(d).css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1}),null!=v&&v.removeClass("ts-process-line-item-animating"),v=n},m),m+=o}).promise().done(function(){try{e.waypoint("destroy")}catch(t){}try{$this.destroy()}catch(t){}})},n),setTimeout(function(){v=null,h.removeClass(a).removeClass(i).removeClass(r).removeClass(s).removeClass("ts-process-line-item-animating"),t.addClass("ts-process-line-instant").removeClass("ts-process-line-viewport")},y)},offset:l,triggerOnce:!0})}}else t.addClass("ts-process-line-instant").removeClass("ts-process-line-viewport");else t.addClass("ts-process-line-instant").removeClass("ts-process-line-viewport")})}function C(){jQuery(".ts-creativelink-wrapper").each(function(){var t=jQuery(this),e=t.attr("data-effect"),a=t.width();if("effect-19"==e){var i=t.find("nav").find("a"),r=i.find("span");i.width("auto");var s=i.outerWidth(!0);if(s>a)var n=a;else var n=s;n%2!=0&&(n+=1),i.css({width:n+"px"}),r.css({"-webkit-transform-origin":"50% 50% -"+n/2+"px","-moz-transform-origin":"50% 50% -"+n/2+"px","transform-origin":"50% 50% -"+n/2+"px"})}})}function _(){jQuery(".ts-hover-effects-container").each(function(){var t=jQuery(this),e=t.find(".ts-hover-effects-grid"),a=t.find("figure");e.css("height","auto");var i=t.find("img");i.css("height","auto"),i.css("width","100%");var r=i.height(),s=i.width();e.height(r),a.hasClass("ts-hover-effect-lily")?i.width(s+50):a.hasClass("ts-hover-effect-layla")?i.height(r+40):a.hasClass("ts-hover-effect-roxy")||a.hasClass("ts-hover-effect-milo")?i.width(s+60):a.hasClass("ts-hover-effect-sarah")?i.width(s+20):a.hasClass("ts-hover-effect-lexi")&&i.width(s+15)})}function S(){[].slice.call(document.querySelectorAll(".ts-image-svg-main > .ts-image-svg-wrapper")).forEach(function(t){function e(){r.animate({path:l.to},s,o)}function a(){r.animate({path:l.from},s,o)}t.style.display="none";{var i=Snap(t.querySelector("svg")),r=i.select("path"),s=parseInt(t.getAttribute("data-speed")),n=t.getAttribute("data-easing");t.clientWidth,t.clientHeight}if("easeinout"==n)var o=mina.easeinout;else var o=mina.backout;var l={from:r.attr("d"),to:t.getAttribute("data-path-hover")};t.addEventListener("mouseenter",e,!1),t.addEventListener("touchstart",e,!1),t.addEventListener("touchenter",e,!1),t.addEventListener("mouseleave",a,!1),t.addEventListener("touchend",a,!1),t.addEventListener("touchleave",a,!1),t.style.display="block"})}function I(t,e,a,i){var r=e.split(","),s=(r.length,0),n=r[0],o=r[1],l=r[2],d=r[3];"undefined"!=n&&"undefined"!=o&&n>a&&a>o?t.alterClass("ts-countdown-size-*","ts-countdown-size-large"):"undefined"!=o&&"undefined"!=l&&o>a&&a>l?t.alterClass("ts-countdown-size-*","ts-countdown-size-medium"):"undefined"!=l&&"undefined"!=d&&l>a&&a>d?t.alterClass("ts-countdown-size-*","ts-countdown-size-small"):"undefined"!=d&&d>a?t.alterClass("ts-countdown-size-*","ts-countdown-size-tiny"):t.alterClass("ts-countdown-size-*","ts-countdown-size-full"),i&&(t.find(".unit-wrap").show(),t.find(".unit-wrap").each(function(t){0==t&&(s=jQuery(this).offset().top),jQuery(this).offset().top==s?jQuery(this).show():jQuery(this).hide()}))}function T(t,e,a,i,r,s){var n=e.attr("data-lazy-src");""!=n&&void 0!=n&&"undefined"!=n&&(s=n,e.removeAttr("data-lazy-src")),r?e.attr("src",s.replace("autoplay=0","autoplay=1")):e.attr("src",s),t.css({opacity:0,visibility:"hidden"}),e.css({width:"100%",visibility:"visible",opacity:1}),setTimeout(function(){i.remove(),t.off().remove(),a.removeClass("ts-video-overlay-true")},1e3)}function k(t,e,a,i,r,s,n,o,l,d,u,c){try{if(null!=jQuery("#"+a).contents().find("body")){var h=jQuery(document).scrollTop(),f=(jQuery("#"+a).contents().find("body"),t.outerHeight(!0)),p=Math.max(document.getElementById(a).contentWindow.document.body.offsetHeight,document.getElementById(a).contentWindow.document.documentElement.offsetHeight,l)+o;if(p!=f){t.attr("data-height-last",f).attr("data-height-scroll",h).css("height","auto"),e.css("height","100%").attr("height","100%"),p=Math.max(/clientHeight/i.test(r)?document.getElementById(a).contentWindow.document.body.clientHeight:0,/scrollHeight/i.test(r)?document.getElementById(a).contentWindow.document.body.scrollHeight:0,/offsetHeight/i.test(r)?document.getElementById(a).contentWindow.document.body.offsetHeight:0,/clientHeight/i.test(r)?document.getElementById(a).contentWindow.document.documentElement.clientHeight:0,/scrollHeight/i.test(r)?document.getElementById(a).contentWindow.document.documentElement.scrollHeight:0,/offsetHeight/i.test(r)?document.getElementById(a).contentWindow.document.documentElement.offsetHeight:0,l)+o,t.css("height",p+"px").attr("data-height-current",p),e.css("height",p+"px").attr("height",p);var m=f-p}"watcher"==s?$(t,e,a,i,r,s,n,o,l,d,u,c):c&&jQuery(document).scrollTop(h-m)}else setTimeout(function(){k(t,e,a,i,r,s,n,o,l,d,u,c)},250)}catch(g){console&&console.log&&(console.log("The iFrame auto-height routine can only be used for pages that come from the same domain as the main page. The following error has been encountered:"),console.log(g))}}function $(t,e,a,i,r,s,n,o,l,d,u,c){d=setInterval(function(){clearInterval(d),d=null,k(t,e,a,i,r,s,n,o,l,d,u,c)},n)}function M(){jQuery("body").on("click",".nch-lightbox-trigger",function(t){t.preventDefault();var e=jQuery(this).attr("data-group");""!=e&&jQuery("#"+e+"-0").click()}),"undefined"!=typeof jQuery.fn.nchlightbox&&(jQuery.fn.nchlightbox("addEvent","open",function(t,e){if(jQuery("#wpadminbar").hide(),$TS_VCSC_Lightbox_Showing=!0,$TS_VCSC_Lightbox_LastScroll=jQuery(document).scrollTop(),"css"==$TS_VCSC_Lightbox_ScrollBlock?jQuery("body, html").addClass("ts-composer-extensions-noscroll"):"js"==$TS_VCSC_Lightbox_ScrollBlock&&(jQuery(document).bind("keydown",u),jQuery(document).bind("mousedown",c),jQuery(document).bind("mousewheel DOMMouseScroll wheel",h),jQuery(window).bind("scroll",h)),jQuery(".ts_html5_media_frame_insert").each(function(){if(jQuery(this).contents().find(".projekktor").hasClass("ppstateplaying")){var t=jQuery(this).contents().find(".projekktor");t.find(".pppause").click(),t.find(".ppcontrols").removeClass("active").addClass("inactive")}}),"undefined"!=typeof jQuery.fn.tooltipstercustom&&jQuery(".tooltipstered").tooltipstercustom("hide"),jQuery(".ts-element-focus-overlay").remove(),jQuery(".ts-element-focus-container").removeClass("ts-element-focus-active").attr("data-spotlight-active","false"),currentOverlay=null,!e.numbered){var a,i=e.set,r=i.length;if(1!=i.length){for(var s=0;r>s;s++)i[s].opts.title=((a=i[s].opts.title)?a:"")+" ("+(s+1)+" / "+r+")";e.numbered=!0}}}),jQuery.fn.nchlightbox("addEvent","close",function(){"css"==$TS_VCSC_Lightbox_ScrollBlock?(jQuery("body, html").removeClass("ts-composer-extensions-noscroll"),jQuery("body, html").scrollTop($TS_VCSC_Lightbox_LastScroll)):"js"==$TS_VCSC_Lightbox_ScrollBlock&&(jQuery(document).unbind("keydown",u),jQuery(document).unbind("mousedown",c),jQuery(document).unbind("mousewheel DOMMouseScroll wheel",h),jQuery(window).unbind("scroll",h),jQuery("body, html").scrollTop($TS_VCSC_Lightbox_LastScroll)),jQuery("#wpadminbar").show(),$TS_VCSC_Lightbox_Showing=!1}),jQuery.fn.nchlightbox("addEvent","next",function(t,e,a){!e.playing||"youtube"!=a.opts.type&&"vimeo"!=a.opts.type&&"dailymotion"!=a.opts.type||jQuery.fn.nchlightbox("stop")}),jQuery(".nch-lightbox-media").nchlightbox(),jQuery(".nch-lightbox-modal").nchlightbox({thumbs:0,share:0,zoom:0,fxspeed:$TS_VCSC_Lightbox_FXSpeed,keyboard:!1,bgclose:!0,notouch:!1,backlight:$TS_VCSC_Lightbox_Backlight,usecolor:$TS_VCSC_Lightbox_UseColor}),jQuery(".nch-lightbox-html5").nchlightbox({share:0,zoom:0,fxspeed:$TS_VCSC_Lightbox_FXSpeed,keyboard:$TS_VCSC_Lightbox_Keyboard,bgclose:!0,notouch:!1,backlight:$TS_VCSC_Lightbox_Backlight,usecolor:$TS_VCSC_Lightbox_UseColor,fullscreen:!1}),jQuery(".ts-image-link-grid").each(function(){var t=jQuery(this),e=t.find("img"),a=t.attr("data-grid").split(","),i=parseInt(t.attr("data-margin")),r=parseInt(t.attr("data-random")),s="true"==t.attr("data-gridfilter")?!0:!1,n="true"==t.attr("data-order")?!0:!1,o="true"==t.attr("data-always")?!0:!1,l="true"==t.attr("data-lightbox-init")?!0:!1,d=t.attr("data-gridavailable"),u=t.attr("data-gridselected"),c=t.attr("data-gridnogroups"),h=t.attr("data-gridtoggle"),f=t.attr("data-gridtogglestyle"),p=t.attr("data-gridshowall"),m=t.attr("data-gridshowallstyle");0==l&&e.nchgrid({margin:i,grid:a,order:n,captions:!0,linkGrid:!0,target:!1,random:r,filter:s,titles:o,selector:"nch-lb-filter-"+r,toggle:"nch-lb-toggle-"+r,showall:"nch-lb-showall-"+r,textAvailable:d,textSelected:u,textNoGroups:c,textToggle:h,textToggleStyle:f,textShowAll:p,textShowAllStyle:m}).promise().done(function(){t.attr("data-lightbox-init","true")})}))}jQuery(window).on("debouncedresize",function(){i(),f(),p("all"),m(),g(),v(),j(),C(),_(),S()});var D=0;jQuery(document).on("mouseenter touchstart",".ts-figure-navigation-item-hover",function(){{var t=jQuery(this),e=t.attr("data-frontend"),a=t.attr("data-group"),i=t.find(".ts-figure-navigation-title"),r=t.find(".ts-figure-navigation-image"),s=t.find(".ts-figure-navigation-handle"),n=t.find(".ts-figure-navigation-content"),o=t.find(".ts-figure-navigation-button"),l="true"==t.parent().attr("data-multiple")?!0:!1,d="true"==t.parent().attr("data-global")?!0:!1;"true"==t.parent().attr("data-nofigure")?!0:!1}if("false"==e){0==l&&0==d?jQuery(".ts-figure-navigation-hover.ts-figure-navigation-group"+a).trigger("mouseleave"):0==l&&1==d&&jQuery(".ts-figure-navigation-hover").trigger("mouseleave").trigger("click");var u=i.outerHeight(!0)+r.outerHeight(!0)+s.outerHeight(!0)+n.outerHeight(!0)+o.outerHeight(!0);t.css("height",u+"px");var c=t.find(".ts-figure-navigation-image").height();n.css("height",n.height()+"px"),t.find(".ts-figure-navigation-figure").css({height:c+"px"}),t.addClass("ts-figure-navigation-hover"),n.css({opacity:1,display:"block"})}}),jQuery(document).on("mouseleave touchend",".ts-figure-navigation-item-hover",function(){var t=jQuery(this),e=t.attr("data-frontend"),a=(t.attr("data-group"),"true"==jQuery(this).parent().attr("data-nofigure")?!0:!1);"false"==e&&(t.removeClass("ts-figure-navigation-hover"),t.find(".ts-figure-navigation-content").css({opacity:0}),t.find(".ts-figure-navigation-figure").css({height:"0px"}),a?t.css("height","80px"):t.css("height","110px"),t.find(".ts-figure-navigation-content").css({height:"auto",display:"none"}))}),jQuery(document).on("click",".ts-figure-navigation-item-click",function(t){if(jQuery(t.target).hasClass("ts-figure-navigation-button"))return!0;t.preventDefault();var e=jQuery(this),a=(e.attr("data-frontend"),e.attr("data-group")),i=e.find(".ts-figure-navigation-title"),r=e.find(".ts-figure-navigation-image"),s=e.find(".ts-figure-navigation-handle"),n=e.find(".ts-figure-navigation-content"),o=e.find(".ts-figure-navigation-button"),l="true"==e.parent().attr("data-multiple")?!0:!1,d="true"==e.parent().attr("data-global")?!0:!1,u="true"==e.parent().attr("data-nofigure")?!0:!1;if(e.hasClass("ts-figure-navigation-hover")&&!jQuery(t.target).hasClass("ts-figure-navigation-button"))e.removeClass("ts-figure-navigation-hover"),n.css({opacity:0}),e.find(".ts-figure-navigation-figure").css({height:"0px"}),u?e.css("height","80px"):e.css("height","110px"),n.css({height:"auto",display:"none"});else{0==l&&0==d?jQuery(".ts-figure-navigation-hover.ts-figure-navigation-group"+a).trigger("click"):0==l&&1==d&&jQuery(".ts-figure-navigation-hover").trigger("mouseleave").trigger("click");var c=i.outerHeight(!0)+r.outerHeight(!0)+s.outerHeight(!0)+n.outerHeight(!0)+o.outerHeight(!0);e.css("height",c+"px");var h=e.find(".ts-figure-navigation-image").height();n.css("height",n.height()+"px"),e.find(".ts-figure-navigation-figure").css({height:h+"px"}),e.addClass("ts-figure-navigation-hover"),n.css({opacity:1,display:"block"})}}),jQuery(".ts-figure-navigation-container").each(function(){D++;{var t=(jQuery(this).find(".ts-figure-navigation-item").length,jQuery(this).attr("data-numbering")),e=parseInt(jQuery(this).attr("data-start")),a=jQuery(this).attr("data-trigger"),i=parseInt(jQuery(this).attr("data-spacing")),r="true"==jQuery(this).attr("data-multiple")?!0:!1,s="true"==jQuery(this).attr("data-global")?!0:!1,n="true"==jQuery(this).attr("data-nofigure")?!0:!1,o=0+e-1;jQuery(this).find(".ts-figure-navigation-item").length-1}jQuery(this).find(".ts-figure-navigation-item").each(function(){jQuery(this).addClass("ts-figure-navigation-group"+D).addClass("ts-figure-navigation-item-"+a).attr("data-group",D).attr("data-multiple",r).attr("data-global",s),jQuery(this).find(".ts-figure-navigation-inner").css({"margin-left":i/2+"px","margin-right":i/2+"px"}),jQuery(this).find(".ts-figure-navigation-handle-text").length>0&&(o++,"number"==t?$running=o:"roman"==t?$running=TS_VCSC_DecimalToRoman(o):"letter"==t&&($running=TS_VCSC_CodeToCharacter(o-1).toUpperCase()),jQuery(this).find(".ts-figure-navigation-handle-text").empty().html($running)),n?jQuery(this).css("height","80px"):jQuery(this).css("height","110px")})}),g(),v(),w(),j(),Q(),jQuery("a.ts-hover-image-link").on("touchstart",function(e){"use strict";var a=jQuery(this),i=a.hasClass("ts-hover-image-link-permanent"),r=a.find("figure");return i?!0:a.hasClass("hover")?(t("a.ts-hover-image-link").removeClass("hover"),i||r.removeClass("ts-hover-effect-permanent"),!0):(e.preventDefault(),e.stopPropagation(),t("a.ts-hover-image-link").removeClass("hover"),t("a.ts-hover-image-link:not(.ts-hover-image-link-permanent)").find("figure").removeClass("ts-hover-effect-permanent"),a.addClass("hover"),r.addClass("ts-hover-effect-permanent"),!1)}),jQuery(document).on("touchstart",function(e){jQuery("a.ts-hover-image-link").is(e.target)||0!==jQuery("a.ts-hover-image-link").has(e.target).length||(jQuery("a.ts-hover-image-link").removeClass("hover"),t("a.ts-hover-image-link:not(.ts-hover-image-link-permanent)").find("figure").removeClass("ts-hover-effect-permanent"))}),jQuery(".ts-icon-info-box-viewport").each(function(){var t=jQuery(this),e="true"==t.attr("data-viewport-frontend")?!0:!1,a=t.attr("data-viewport-class"),i=t.attr("data-viewport-offset"),r=parseInt(t.attr("data-viewport-delay")),s=parseInt(t.attr("data-viewport-opacity")),n=parseInt(t.attr("data-viewport-limit")),o=jQuery(document).width();if("undefined"!=typeof jQuery.fn.waypoint&&o>n&&!e){t.css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});{t.waypoint({handler:function(){var t=jQuery(this);setTimeout(function(){t.css({opacity:s,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*s+')"',filter:"alpha(opacity="+100*s+")","-moz-opacity":s,"-khtml-opacity":s}),t.addClass(a),setTimeout(function(){t.removeAttr("data-viewport-class"),t.removeClass(a),t.removeClass("ts-icon-info-box-viewport");try{t.waypoint("destroy")}catch(e){}try{$this.destroy()}catch(e){}},2e3)},r)},offset:i,triggerOnce:!0})}}else t.css({opacity:s,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*s+')"',filter:"alpha(opacity="+100*s+")","-moz-opacity":s,"-khtml-opacity":s})}),jQuery(".ts-advanced-textblock-viewport").each(function(){var t=jQuery(this),e=t.attr("data-viewport-class"),a=t.attr("data-viewport-offset"),i=parseInt(t.attr("data-viewport-delay")),r=parseInt(t.attr("data-viewport-opacity")),s="true"==t.attr("data-viewport-mobile")?!0:!1,n="true"==t.attr("data-shadow-active")?!0:!1,o=t.attr("data-shadow-class");if("undefined"!=typeof jQuery.fn.waypoint){if(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&1==s){t.css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});{t.waypoint({handler:function(){var t=jQuery(this);setTimeout(function(){t.css({opacity:r,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r+')"',filter:"alpha(opacity="+100*r+")","-moz-opacity":r,"-khtml-opacity":r}),n&&t.removeClass(o),t.addClass(e),setTimeout(function(){t.removeAttr("data-viewport-class"),t.removeClass(e),t.removeClass("ts-advanced-textblock-viewport"),n&&t.addClass(o);try{t.waypoint("destroy")}catch(a){}try{$this.destroy()}catch(a){}},2e3)},i)},offset:a,triggerOnce:!0})}}}else t.css({opacity:r,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r+')"',filter:"alpha(opacity="+100*r+")","-moz-opacity":r,"-khtml-opacity":r})}),"undefined"!=typeof jQuery.fn.waypoint?0==TS_VCSC_MobileDevice&&jQuery(".ts-textillate").each(function(){{var t=jQuery(this);t.waypoint({handler:function(){var e=t.attr("data-in-effect"),a=t.attr("data-in-sync"),i=t.attr("data-in-shuffle"),r=t.attr("data-in-reverse"),s=t.attr("data-out-effect"),n=t.attr("data-out-sync"),o=t.attr("data-out-shuffle"),l=t.attr("data-in-reverse"),d=t.attr("data-loop"),u=t.attr("data-pause"),c=parseInt(t.attr("data-delay"));t.textillate({selector:".texts",loop:"true"==d?!0:!1,minDisplayTime:u,initialDelay:c,autoStart:!0,inEffects:[e],outEffects:[s],"in":{effect:e,delayScale:1.5,delay:50,sync:"true"==a?!0:!1,shuffle:"true"==i?!0:!1,reverse:"true"==r?!0:!1,callback:function(){}},out:{effect:s,delayScale:1.5,delay:50,sync:"true"==n?!0:!1,shuffle:"true"==o?!0:!1,reverse:"true"==l?!0:!1,callback:function(){}},callback:function(){}});try{$this.destroy()}catch(h){}},offset:"bottom-in-view",triggerOnce:!0})}}):0==TS_VCSC_MobileDevice&&jQuery(".ts-textillate").each(function(){var t=jQuery(this).attr("data-in-effect"),e=jQuery(this).attr("data-in-sync"),a=jQuery(this).attr("data-in-shuffle"),i=jQuery(this).attr("data-in-reverse"),r=jQuery(this).attr("data-out-effect"),s=jQuery(this).attr("data-out-sync"),n=jQuery(this).attr("data-out-shuffle"),o=jQuery(this).attr("data-in-reverse"),l=jQuery(this).attr("data-loop"),d=parseInt(jQuery(this).attr("data-delay"));jQuery(this).textillate({selector:".texts",loop:"true"==l?!0:!1,minDisplayTime:3e3,initialDelay:d,autoStart:!0,inEffects:[t],outEffects:[r],"in":{effect:t,delayScale:1.5,delay:50,sync:"true"==e?!0:!1,shuffle:"true"==a?!0:!1,reverse:"true"==i?!0:!1,callback:function(){}},out:{effect:r,delayScale:1.5,delay:50,sync:"true"==s?!0:!1,shuffle:"true"==n?!0:!1,reverse:"true"==o?!0:!1,callback:function(){}},callback:function(){}})}),jQuery(".ts-title-typed-container").each(function(){var t=jQuery(this),e="true"==t.attr("data-viewport")?!0:!1,a="true"==t.attr("data-frontend")?!0:!1,i="true"==t.attr("data-mobile")?!0:!1,r=t.find(".ts-title-typed-mobile"),s=t.find(".ts-title-typed-holder"),n=t.find(".ts-title-typed-string"),o=t.attr("data-pretext"),l=t.attr("data-posttext"),d="true"==t.attr("data-usehtml")?!0:!1,u=t.attr("data-strings");u=u.replace(/&/g,"&amp;");t.attr("data-title");if(d){var c=u.split("|");u=u.replace("|",", ")}else{var c=u.split(",");u=u.replace(",",", ")}var h=[],f=["|comma|","{comma}","/comma/"],p=[",",",",","];jQuery.each(c,function(t,e){h.push(TS_VCSC_MultiKeyReplace(f,p,e))}),u=TS_VCSC_MultiKeyReplace(f,p,u);var m=parseInt(t.attr("data-startdelay")),g=parseInt(t.attr("data-typespeed")),y=parseInt(t.attr("data-backdelay")),v=parseInt(t.attr("data-backspeed")),w="true"==t.attr("data-loop")?!0:!1;if(w)var j="false"==t.attr("data-loopcount")?!1:parseInt(t.attr("data-loopcount"));else var j=0;var Q=0,C="true"==t.attr("data-showcursor")?!0:!1,b=parseInt(t.attr("data-showdelay")),_=t.attr("data-cursorcolor"),S="true"==t.attr("data-removecursor")?!0:!1,x="true"==t.attr("data-showall")?!0:!1;
if(1==a)n.text(o+u+l);else if(1==TS_VCSC_MobileDevice&&0==i)s.remove(),r.show();else if(1==e){t.waypoint({handler:function(){n.TS_VCSC_Typed({strings:h,contentType:"html",typeSpeed:g,backSpeed:v,startDelay:m,backDelay:y,loop:w,loopCount:j,showCursor:C,cursorColor:_,cursorChar:"|",attr:null,callback:function(){Q++,w?w&&0!=j&&(S&&Q==j&&t.find(".typed-cursor").remove(),x&&Q==j&&setTimeout(function(){n.fadeOut(500,function(){n.empty().html(u).fadeIn(500)})},b)):(S&&t.find(".typed-cursor").remove(),x&&setTimeout(function(){n.fadeOut(500,function(){n.empty().html(u).fadeIn(500)})},b))},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}});try{$this.destroy()}catch(e){}},offset:"bottom-in-view",triggerOnce:!0})}else n.TS_VCSC_Typed({strings:h,contentType:"html",typeSpeed:g,backSpeed:v,startDelay:m,backDelay:y,loop:w,loopCount:j,showCursor:C,cursorColor:_,attr:null,callback:function(){Q++,w?w&&0!=j&&(S&&Q==j&&t.find(".typed-cursor").remove(),x&&Q==j&&setTimeout(function(){n.fadeOut(500,function(){n.empty().html(u).fadeIn(500)})},b)):(S&&t.find(".typed-cursor").remove(),x&&setTimeout(function(){n.fadeOut(500,function(){n.empty().html(u).fadeIn(500)})},b))},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}})}),jQuery(".ts-title-ticker-container").each(function(){var t=jQuery(this),e=t.find(".ts-title-ticker-holder"),a=t.find(".ts-title-ticker-animated"),i=(t.find(".ts-title-ticker-pretext"),t.find(".ts-title-ticker-posttext"),t.find(".ts-title-ticker-list").find("li")),r=t.find(".ts-title-ticker-mobile"),s=i.length,n=t.attr("data-direction"),o="true"==t.attr("data-mobile-allow")?!0:!1,l="true"==t.attr("data-controls")?!0:!1,d="true"==t.attr("data-reverse")?!0:!1,u="true"==t.attr("data-viewport")?!0:!1,c=("true"==t.attr("data-frontend")?!0:!1,"true"==t.attr("data-showall")?!0:!1),h=parseInt(t.attr("data-items")),f=parseInt(t.attr("data-delay")),p=parseInt(t.attr("data-speed")),m=parseInt(t.attr("data-break")),g=t.attr("data-alignment"),y="true"==t.attr("data-pretext")?!0:!1,v="true"==t.attr("data-posttext")?!0:!1,w="true"==t.attr("data-hover")?!0:!1,j=t.find(".ts-title-ticker-controls"),Q=t.attr("data-position");if("left"==Q||"right"==Q)var C="inline-block";else var C="block";var b=t.find(".ts-title-ticker-prev"),_=t.find(".ts-title-ticker-next"),S=t.find(".ts-title-ticker-pause"),x=t.find(".ts-title-ticker-play");if(1==TS_VCSC_MobileDevice&&0==o)e.hide(),r.show();else{if(1==u){t.waypoint({handler:function(){var t=jQuery(this);setTimeout(function(){a.TS_VCSC_vTicker({speed:p,pause:m,showItems:c?s:h,mousePause:w,height:0,animate:!0,margin:0,padding:0,startPaused:!1,controls:l,controlsPosition:Q,preText:y,postText:v,direction:n,alignment:g,reverseList:d}),j&&j.css("display",C)},f);try{t.waypoint("destroy")}catch(e){}try{$this.destroy()}catch(e){}},offset:"bottom-in-view",triggerOnce:!0})}else setTimeout(function(){a.TS_VCSC_vTicker({speed:p,pause:m,showItems:c?s:h,mousePause:w,height:0,animate:!0,margin:0,padding:0,startPaused:!1,controls:l,controlsPosition:Q,preText:y,postText:v,direction:n,alignment:g,reverseList:d}),j&&j.css("display",C)},f);j&&(_.on("mousedown touchstart",function(){event.preventDefault(),a.TS_VCSC_vTicker("next",{speed:250,animate:!0})}).on("mouseenter touchstart",function(){a.TS_VCSC_vTicker("pause",!0)}).on("mouseleave touchend",function(){"false"==S.attr("data-active")&&a.TS_VCSC_vTicker("pause",!1)}),b.on("mousedown touchstart",function(){event.preventDefault(),a.TS_VCSC_vTicker("prev",{speed:250,animate:!0})}).on("mouseenter touchstart",function(){a.TS_VCSC_vTicker("pause",!0)}).on("mouseleave touchend",function(){"false"==S.attr("data-active")&&a.TS_VCSC_vTicker("pause",!1)}),S.on("mousedown touchstart",function(){event.preventDefault(),a.TS_VCSC_vTicker("pause",!0),S.css("display","none").attr("data-active","true"),x.css("display","inline-block").attr("data-active","false")}),x.on("mousedown touchstart",function(){event.preventDefault(),a.TS_VCSC_vTicker("pause",!1),x.css("display","none").attr("data-active","true"),S.css("display","inline-block").attr("data-active","false")}))}}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-title-ticker-container").each(function(){var t=jQuery(this),e="true"==t.attr("data-mobile-allow")?!0:!1,a=t.find(".ts-title-ticker-controls"),i=t.find(".ts-title-ticker-animated"),r="true"==i.attr("data-ticker-initialized")?!0:!1,s="true"==t.attr("data-controls")?!0:!1,n=t.attr("data-position"),o=parseInt(t.attr("data-switchmedium")),l=parseInt(t.attr("data-switchsmall")),d=t.width();(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&0==e)&&(t.removeClass("ts-title-ticker-medium").removeClass("ts-title-ticker-small"),a.removeClass("ts-title-ticker-controls-"+n),r&&i.TS_VCSC_vTicker("pause",!0),d>=l&&o>d?(t.addClass("ts-title-ticker-medium"),s&&a.addClass("ts-title-ticker-controls-bottom")):l>d?(t.addClass("ts-title-ticker-small"),s&&a.addClass("ts-title-ticker-controls-bottom")):(t.removeClass("ts-title-ticker-medium").removeClass("ts-title-ticker-small"),s&&a.addClass("ts-title-ticker-controls-"+n)),r&&i.TS_VCSC_vTicker("pause",!1))})}),jQuery(".ts-title-morphed-container").each(function(){var t=jQuery(this),e=t.attr("data-routine"),a="true"==t.attr("data-viewport")?!0:!1,i="true"==t.attr("data-effect")?!0:!1,r=t.attr("data-animation-1"),s=t.attr("data-animation-2"),n=parseInt(t.attr("data-wait")),o=parseInt(t.attr("data-speed")),l=parseInt(t.attr("data-loops")),d=parseInt(t.attr("data-switch-trigger")),u=t.attr("data-switch-title"),c=t.find(".ts-title-morphed-string");c.TS_VCSC_Morphist({viewport:a,wait:n,animateDual:"morphext"==e?!1:!0,animateIn:r,animateOut:s,speed:o,loops:l,widthEffect:i,switchTrigger:d,switchTitle:u,complete:function(){}})}),jQuery(".ts-splitflap-wrapper").each(function(){var t=jQuery(this),e="true"==t.attr("data-frontend")?!0:!1,a="true"==t.attr("data-mobile")?!0:!1,i="true"==t.attr("data-restart")?!0:!1,r=t.attr("data-chars"),s=t.attr("data-text"),n=t.attr("data-start"),o="true"==t.attr("data-equalize")?!0:!1,l="true"==t.attr("data-dotted")?!0:!1,d=parseInt(t.attr("data-speed")),u=(t.attr("data-size"),t.attr("data-image")),c=t.attr("data-wrapper"),h=parseInt(t.attr("data-height")),f=parseInt(t.attr("data-width")),p="true"==t.attr("data-viewport")?!0:!1,m=parseInt(t.attr("data-delay"));if(0==e)if(1==TS_VCSC_MobileDevice&&0==a)t.wrapInner("<"+c+' class="ts-splitflap-mobile"></'+c+">");else if(1==p){t.waypoint({handler:function(){t.TS_VCSC_SplitFlap({autoplay:!0,text:s,textInit:n,textFill:" ",textEqual:o,textDots:l,delay:m,restart:i,image:u,charWidth:f,charHeight:h,charsMap:r,padDir:"left",padChar:" ",speed:d,speedVariation:2});try{$this.destroy()}catch(e){}},offset:"bottom-in-view",triggerOnce:!0})}else t.TS_VCSC_SplitFlap({autoplay:!0,text:s,textInit:n,textFill:" ",textEqual:o,textDots:l,delay:m,restart:i,image:u,charWidth:f,charHeight:h,charsMap:r,padDir:"left",padChar:" ",speed:d,speedVariation:2})}),"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".ts-list-item-viewport").each(function(){jQuery(this).css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});jQuery(this).waypoint({handler:function(){var t=jQuery(this),e=t.attr("data-viewport"),a=parseInt(t.attr("data-delay"));setTimeout(function(){t.css({opacity:t.attr("data-opacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*t.attr("data-opacity")+')"',filter:"alpha(opacity="+100*t.attr("data-opacity")+")","-moz-opacity":t.attr("data-opacity"),"-khtml-opacity":t.attr("data-opacity")}),t.addClass(e),setTimeout(function(){t.removeAttr("data-viewport"),t.removeClass(e),t.removeClass("ts-list-item-viewport");try{t.waypoint("destroy")}catch(a){}try{$this.destroy()}catch(a){}},2e3)},a)},offset:"bottom-in-view",triggerOnce:!0})}),jQuery(document).on("mouseover mouseenter touchstart",".ts-list-item",function(){var t=jQuery(this),e=t.find("i"),a=t.attr("data-animation");""==a||e.hasClass(a)||e.addClass("ts-hover-css-triggered").addClass(a)}),jQuery(document).on("mouseout mouseleave touchend",".ts-list-item",function(){var t=jQuery(this),e=t.find("i"),a=t.attr("data-animation");""!=a&&e.removeClass("ts-hover-css-triggered").removeClass(a)}),jQuery(".ts-image-full-frame").each(function(){$image=jQuery(this),$image.hasClass("ts-image-full-movement")&&($allowX="true"==$image.attr("data-allowx")?!0:!1,$allowY="true"==$image.attr("data-allowy")?!0:!1,$moveX=parseInt($image.attr("data-movex")),$moveY=parseInt($image.attr("data-movey")),jQuery(this).find("img").attr("data-parallaxify-range-x",$moveX),jQuery(this).find("img").attr("data-parallaxify-range-y",$moveY),$image.parallaxify({horizontalParallax:$allowX,verticalParallax:$allowY,parallaxBackgrounds:!1,parallaxElements:!0,positionProperty:"transform",responsive:!1,useMouseMove:!0,useGyroscope:!0,alphaFilter:.9,motionType:"natural",mouseMotionType:"gaussian",inputPriority:"mouse",motionAngleX:80,motionAngleY:80,adjustBasePosition:!0,alphaPosition:.05}))}),0==TS_VCSC_MobileDevice&&jQuery(".ts-image-full-frame").each(function(){var t=jQuery(this).attr("data-marginleft"),e=jQuery(this).attr("data-marginright"),a=jQuery(this).attr("data-index");jQuery(this).css({"margin-left":parseInt(t)+"px","margin-right":parseInt(e)+"px","z-index":parseInt(a)})}),jQuery(".ts-slideshow-full-frame").each(function(){var t=jQuery(this),e=jQuery(this).find(".ts-background-slideshow-holder"),a=jQuery(this).find(".ts-background-slideshow-wrapper"),i=jQuery(this).attr("data-mobile"),r=jQuery(this).attr("data-halign"),s=jQuery(this).attr("data-valign"),n=parseInt(jQuery(this).attr("data-height")),o=[];e.each(function(){var t={};t.src=jQuery(this).attr("data-image"),t.width=parseInt(jQuery(this).attr("data-width")),t.height=parseInt(jQuery(this).attr("data-height")),t.ratio=jQuery(this).attr("data-ratio"),t.cover=!0,t.align=r,t.valign=s,jQuery(this).remove(),o.push(t)});var l="true"==jQuery(this).attr("data-inline")?!0:!1,d="true"==jQuery(this).attr("data-dynamic")?!0:!1,u="true"==jQuery(this).attr("data-autoplay")?!0:!1,c="true"==jQuery(this).attr("data-controls")?!0:!1;1==TS_VCSC_MobileDevice&&"show"==i&&(d=!0,u=!1);var h=jQuery(this).attr("data-transition"),f=jQuery(this).attr("data-animation"),p=parseInt(jQuery(this).attr("data-delay")),m=parseInt(jQuery(this).attr("data-switch")),g="true"==jQuery(this).attr("data-shuffle")?!0:!1,y=t.width();if(c)var v=jQuery(this).find(".nav-arrow-prev"),w=jQuery(this).find(".nav-arrow-next");else t.find(".nav-arrows").remove();if(u)var j=jQuery(this).find(".nav-auto-play"),Q=jQuery(this).find(".nav-auto-pause");else t.find(".nav-auto").remove();0==TS_VCSC_MobileDevice&&0==l&&!jQuery("body").hasClass("ts-body-background-image")||1==TS_VCSC_MobileDevice&&"show"==i?a.vegas({slides:o,preload:!1,preloadImage:!0,preloadVideo:!1,timer:!0,overlay:!1,autoplay:u,delay:p,shuffle:g,cover:!0,color:null,align:r,valign:s,transition:h,transitionDuration:m,animation:"null"==f?null:f,animationDuration:"auto",init:function(){c&&(v.on("click",function(){a.vegas("previous")}),w.on("click",function(){a.vegas("next")})),u&&(j.on("click",function(){a.vegas("play"),t.attr("data-playing","true"),j.hide(),Q.show()}),Q.on("click",function(){a.vegas("pause"),t.attr("data-playing","false"),Q.hide(),j.show()})),t.attr("data-initialized","true"),d?(y=t.width(),n=y/parseFloat(a.vegas("options","slides")[0].ratio),t.css({height:n+"px","max-height":n+"px"}).attr("data-height",n)):t.css({height:n+"px","max-height":n+"px"}).attr("data-height",n)},play:function(){},walk:function(e,a){d&&(y=t.width(),n=y/a.ratio,t.css({height:n+"px","max-height":n+"px"}).attr("data-height",n))}}):1!=TS_VCSC_MobileDevice||"first"!=i&&"random"!=i?(1==TS_VCSC_MobileDevice&&"none"==i||0==l)&&t.remove():(a.remove(),t.find(".nav-arrows").remove(),t.find(".nav-auto").remove(),t.addClass("ts-image-full-frame").removeClass("ts-slideshow-full-frame").find("img.ts-imagefull").show(),t.parent().addClass("ts-image-full-container").removeClass("ts-slideshow-full-container"))}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-slideshow-full-frame").each(function(){var t=jQuery(this),e=jQuery(this).find(".ts-background-slideshow-wrapper"),a="true"==jQuery(this).attr("data-dynamic")?!0:!1,i="true"==jQuery(this).attr("data-inline")?!0:!1,r=jQuery(this).attr("data-mobile");if((0==TS_VCSC_MobileDevice&&0==i&&!jQuery("body").hasClass("ts-body-background-image")||1==TS_VCSC_MobileDevice&&"show"==r)&&"true"==t.attr("data-initialized")&&a){var s=t.width(),n=s/parseFloat(e.vegas("options","slides")[0].ratio);t.css({height:n+"px","max-height":n+"px"}).attr("data-height",n)}}),n()}),s(),n(),"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".ts-icon-counter").each(function(){var t=jQuery(this).find(".ts-counter-value"),e="true"==t.attr("data-viewport")?!0:!1,a=parseInt(t.attr("data-start")),i=parseInt(t.attr("data-end")),r=parseInt(t.attr("data-speed")),s=t.attr("data-before"),n=t.attr("data-after"),o=t.attr("data-format"),l=t.attr("data-plus"),d=t.attr("data-seperator"),u=t.attr("data-animation"),c=jQuery(this).find(".ts-font-icon");if(0==e)t.countTo({from:a,to:i,speed:r,refreshInterval:50,decimals:0,formatter:function(t,e){return s+t.toFixed(e.decimals)+n},onUpdate:function(){},onComplete:function(){jQuery(this).empty().html("true"==o?"true"==l&&""!=d?s+jQuery.number(i,0,"",d)+"+"+n:"true"==l?s+i+"+"+n:""!=d?s+jQuery.number(i,0,"",d)+n:s+i+n:i),c.addClass(u),setTimeout(function(){c.removeClass(u)},2e3)}});else{jQuery(this).waypoint({handler:function(){t.countTo({from:a,to:i,speed:r,refreshInterval:50,decimals:0,formatter:function(t,e){return s+t.toFixed(e.decimals)+n},onUpdate:function(){},onComplete:function(){jQuery(this).empty().html("true"==o?"true"==l&&""!=d?s+jQuery.number(i,0,"",d)+"+"+n:"true"==l?s+i+"+"+n:""!=d?s+jQuery.number(i,0,"",d)+n:s+i+n:i),c.addClass(u),setTimeout(function(){c.removeClass(u)},2e3)}});try{$this.destroy()}catch(e){}},offset:"bottom-in-view",triggerOnce:!0})}}),"undefined"!=typeof jQuery.fn.waypoint&&"undefined"!=typeof jQuery.fn.TS_VCSC_Circliful&&jQuery(".ts-circliful-counter").each(function(){jQuery(this).bind("inview",function(t,e,a,i){if(e){var r=jQuery(this);"top"==i||"bottom"==i||r.addClass("ts-circliful-visible")}else{var r=jQuery(this);r.removeClass("ts-circliful-visible")}})}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-circliful-counter").each(function(){if("true"==jQuery(this).attr("data-responsive")){var t=jQuery(this),e=parseInt(jQuery(this).parent().width()),a=parseInt(jQuery(this).attr("data-size"));e!=a&&(t.empty(),t.TS_VCSC_Circliful())}})}),jQuery(".ts-countdown-parent").each(function(){function t(_){var S=new Date,x=Date.UTC(S.getFullYear(),S.getMonth(),S.getDate()),I=S.getTimezoneOffset()/-60;if(0==d&&(d=I),1==r&&0==o){S.setHours(S.getHours()+parseInt(j)),S.setMinutes(S.getMinutes()+parseInt(Q)),S.setSeconds(S.getSeconds()+parseInt(C)),x=Date.UTC(S.getFullYear(),S.getMonth(),S.getDate()),$countdown_target_day=S.getDate(),$countdown_target_month=S.getMonth()+1,$countdown_target_year=S.getFullYear(),$countdown_target_hour=S.getHours(),$countdown_target_minute=S.getMinutes(),$countdown_target_second=S.getSeconds();{var T=new Date($countdown_target_year,S.getMonth(),$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0);Date.UTC($countdown_target_year,S.getMonth(),$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0)}}else if(1==o){$countdown_target_day=S.getDate(),$countdown_target_month=S.getMonth()+1,$countdown_target_year=S.getFullYear(),$countdown_target_hour=S.getHours(),$countdown_target_minute=S.getMinutes(),$countdown_target_second=S.getSeconds();{var T=new Date($countdown_target_year,S.getMonth(),$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0);Date.UTC($countdown_target_year,S.getMonth(),$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0)}}else if(1==s){S.getHours()>=parseInt(y)&&S.getMinutes()>=parseInt(v)&&S.getSeconds()>=parseInt(w)&&S.setDate(S.getDate()+1),$countdown_target_day=S.getDate(),$countdown_target_month=S.getMonth()+1,$countdown_target_year=S.getFullYear(),$countdown_target_hour=parseInt(y),$countdown_target_minute=parseInt(v),$countdown_target_second=parseInt(w);{var T=new Date($countdown_target_year,S.getMonth(),$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0);Date.UTC($countdown_target_year,S.getMonth(),$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0)}}else{$countdown_target_day=parseInt(p),$countdown_target_month=parseInt(m),$countdown_target_year=parseInt(g),$countdown_target_hour=parseInt(y),$countdown_target_minute=parseInt(v),$countdown_target_second=parseInt(w);{var T=new Date($countdown_target_year,$countdown_target_month-1,$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0);Date.UTC($countdown_target_year,$countdown_target_month-1,$countdown_target_day,$countdown_target_hour,$countdown_target_minute,$countdown_target_second,0)}}n=0==s&&(S>T&&1==n||1==o)?!0:!1,e.countEverest({day:$countdown_target_day,month:$countdown_target_month,year:$countdown_target_year,hour:$countdown_target_hour,minute:$countdown_target_minute,second:$countdown_target_second,countUp:n,leftHandZeros:l,timeZone:d,wrapDigits:"horizontal"==i?!1:!0,daysLabel:$TS_VCSC_Countdown_DaysLabel,dayLabel:$TS_VCSC_Countdown_DayLabel,daysWrapper:"horizontal"==i?".ce-days .ce-flip-back":".ce-days",hoursLabel:$TS_VCSC_Countdown_HoursLabel,hourLabel:$TS_VCSC_Countdown_HourLabel,hoursWrapper:"horizontal"==i?".ce-hours .ce-flip-back":".ce-hours",minutesLabel:$TS_VCSC_Countdown_MinutesLabel,minuteLabel:$TS_VCSC_Countdown_MinuteLabel,minutesWrapper:"horizontal"==i?".ce-minutes .ce-flip-back":".ce-minutes",secondsLabel:$TS_VCSC_Countdown_SecondsLabel,secondLabel:$TS_VCSC_Countdown_SecondLabel,secondsWrapper:"horizontal"==i?".ce-seconds .ce-flip-back":".ce-seconds",onInit:function(){},beforeCalculation:function(){},afterCalculation:function(){if("flipboard"==i){var t=this,a={days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds},r={hours:"23",minutes:"59",seconds:"59"},s="active",o="before";1==B&&1==_?(B=!1,e.find(".unit-wrap div").each(function(){for(var t=jQuery(this),e=t.attr("class"),i=a[e],r="",s="",n=0;10>n;n++)r+=['<div class="digits-inner">','<div class="flip-wrap">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+n+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+n+"</div>","</div>","</div>","</div>"].join("");for(var o=0;o<i.length;o++)s+='<div class="digits">'+r+"</div>";t.append(s)})):1==B&&0==_&&(B=!1),jQuery.each(a,function(a){for(var i,l=e.find("."+a+" .digits").length,d=r[a],u=t.strPad(this,l,"0"),c=u.length-1;c>=0;c--){var h=e.find("."+a+" .digits:eq("+c+")"),f=h.find("div.digits-inner");i=d?n?9==d[c]?0:d[c]:0==d[c]?9:d[c]:n?0:9;var p=parseInt(u[c]);if(n)var m=p==i?9:p-1;else var m=p==i?0:p+1;f.eq(m).hasClass(s)&&f.parent().addClass("play"),f.removeClass(s).removeClass(o),f.eq(p).addClass(s),f.eq(m).addClass(o)}})}},onChange:function(){if("bars"==i&&("true"==u&&TS_VCSC_Countdown_SetBar(D,this.days,365),"true"==c&&TS_VCSC_Countdown_SetBar(V,this.hours,24),"true"==h&&TS_VCSC_Countdown_SetBar(z,this.minutes,60),"true"==f&&TS_VCSC_Countdown_SetBar(A,this.seconds,60)),"columns"==i&&"true"==$){var t=0;e.find(".col").each(function(){jQuery(this).width()>t&&(t=jQuery(this).width())}),e.find(".col").each(function(){jQuery(this).width(t)})}"clock2"==i&&TS_VCSC_Countdown_Animate(e.find(".number")),"circles"==i&&("true"==u&&TS_VCSC_Countdown_DrawCircle(document.getElementById("days_"+a),this.days,365,L,O,W),"true"==c&&TS_VCSC_Countdown_DrawCircle(document.getElementById("hours_"+a),this.hours,24,L,F,W),"true"==h&&TS_VCSC_Countdown_DrawCircle(document.getElementById("minutes_"+a),this.minutes,60,L,P,W),"true"==f&&TS_VCSC_Countdown_DrawCircle(document.getElementById("seconds_"+a),this.seconds,60,L,E,W)),"horizontal"==i&&TS_VCSC_Countdown_Animate3D(e.find(".col").find("div:first-child"),this)},onComplete:function(){1==r&&(e.countEverest("destroy"),jQuery("#ts-vcsc-countdown-"+a+"_link").click(),"true"==b&&t(!1)),1==s&&(e.countEverest("destroy"),t(!0))}})}var e=jQuery(this).find(".ts-countdown"),a=jQuery(this).attr("data-id"),i=jQuery(this).attr("data-type"),r="true"==jQuery(this).attr("data-reset")?!0:!1,s="true"==jQuery(this).attr("data-repeat")?!0:!1,n="true"==jQuery(this).attr("data-countup")?!0:!1,o="true"==jQuery(this).attr("data-pageload")?!0:!1,l="true"==jQuery(this).attr("data-zeros")?!0:!1,d=jQuery(this).attr("data-zone");d="false"!=d?parseInt(d):!1;var u=jQuery(this).attr("data-show-days"),c=jQuery(this).attr("data-show-hours"),h=jQuery(this).attr("data-show-minutes"),f=jQuery(this).attr("data-show-seconds"),p=jQuery(this).attr("data-day"),m=jQuery(this).attr("data-month"),g=jQuery(this).attr("data-year"),y=jQuery(this).attr("data-hour"),v=jQuery(this).attr("data-minute"),w=jQuery(this).attr("data-second"),j=jQuery(this).attr("data-resethours"),Q=jQuery(this).attr("data-resetminutes"),C=jQuery(this).attr("data-resetseconds"),b=jQuery(this).attr("data-resetrestart"),_=jQuery(this).attr("data-resetlink"),S=(jQuery(this).attr("data-resettarget"),jQuery(this).width()),x=jQuery(this).attr("data-breakpoints"),T="true"==jQuery(this).attr("data-singleline")?!0:!1,k=0;if("true"==u&&k++,"true"==c&&k++,"true"==h&&k++,"true"==f&&k++,jQuery(this).attr("data-width",S).attr("data-segments",k),""!=_&&jQuery("#ts-vcsc-countdown-"+a+"_link").click(function(t){t.preventDefault();var e=jQuery(this),a=e.attr("target");jQuery.trim(a).length>0?window.open(e.attr("href"),a):window.location=e.attr("href")}),"columns"==i)var $=jQuery(this).attr("data-equalize");if("bars"==i){var M=jQuery(this),D=(M.find("#ce-days_"+a),M.find("#ce-hours_"+a),M.find("#ce-minutes_"+a),M.find("#ce-seconds_"+a),jQuery("#bar-days_"+a).find(".fill")),V=jQuery("#bar-hours_"+a).find(".fill"),z=jQuery("#bar-minutes_"+a).find(".fill"),A=jQuery("#bar-seconds_"+a).find(".fill"),H=new Date;new Date(H.getTime()+12096e5)}if("circles"==i)var L=jQuery(this).attr("data-color-back"),O=jQuery(this).attr("data-color-days"),F=jQuery(this).attr("data-color-hours"),P=jQuery(this).attr("data-color-minutes"),E=jQuery(this).attr("data-color-seconds"),W=jQuery(this).attr("data-color-width");if("horizontal"==i&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)&&jQuery("html").addClass("internet-explorer"),"flipboard"==i){var B=!0;I(jQuery(this),x,S,T)}t(!0)}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-countdown-parent").each(function(){var t=jQuery(this),e=t.attr("data-type"),a=t.attr("data-breakpoints"),i="true"==jQuery(this).attr("data-singleline")?!0:!1,r=t.width();t.attr("data-width",r),"flipboard"==e&&setTimeout(function(){I(t,a,r,i)},250)})}),jQuery(".ts-video-overlay-wrapper").each(function(){var t=jQuery(this),e="true"==t.attr("data-autoplay")?!0:!1,a=t.find(".ts-video-overlay"),i=t.find("iframe"),r=i.attr("src"),s=t.attr("data-trigger"),n=t.find(".ts-video-overlay-handle"),o=i.attr("data-lazy-src");""!=o&&void 0!=o&&"undefined"!=o&&(r=o,i.attr("src",o),i.removeAttr("data-lazy-src")),"click"==s?a.on("click",function(){T(a,i,t,n,e,r)}):"hover"==s&&a.on("mouseenter touchstart",function(){T(a,i,t,n,e,r)})});var V=function(t,e){t.preventDefault();var a=e,i=(parseInt(a.attr("data-start")),a.attr("data-trigger"),a.attr("data-direction")),r=a.find(".ts-imageswitch-overlay"),s=a.find(".ts-imageswitch-before-string"),n=a.find(".ts-imageswitch-after-string"),o="true"==r.attr("data-remove")?!0:!1,l=a.offset();if("ts-switch-direction-horizontal"==i){var d=a.width(),u=t.originalEvent.touches&&t.originalEvent.touches[0]&&t.originalEvent.touches[0].pageX,c=Math.round((u||t.pageX)-l.left),h=10>c/d*100?!0:!1,f=c/d*100>90?!0:!1;h?s.removeClass("active"):s.addClass("active"),f?n.removeClass("active"):n.addClass("active"),jQuery(".ts-imageswitch__after, .ts-imageswitch__handle",a).css("left",c+"px"),jQuery(".ts-imageswitch__after img",a).css("right",c+"px")}else if("ts-switch-direction-vertical"==i){var p=a.height(),m=t.originalEvent.touches&&t.originalEvent.touches[0]&&t.originalEvent.touches[0].pageY,g=Math.round((m||t.pageY)-l.top),h=10>g/p*100?!0:!1,f=g/p*100>90?!0:!1;h?s.removeClass("active"):s.addClass("active"),f?n.removeClass("active"):n.addClass("active"),jQuery(".ts-imageswitch__after, .ts-imageswitch__handle",a).css("top",g+"px"),jQuery(".ts-imageswitch__after img",a).css("bottom",g+"px")}o&&r.removeClass("active")},z=function(t,e){t.preventDefault();var a=e,i=parseInt(a.attr("data-start")),r=(a.attr("data-trigger"),a.attr("data-direction")),s=a.find(".ts-imageswitch-overlay"),n=(a.find(".ts-imageswitch__after img"),a.find(".ts-imageswitch__after img")),o=a.find(".ts-imageswitch-before-string"),l=a.find(".ts-imageswitch-after-string"),d="true"==s.attr("data-remove")?!0:!1,u=a.width()/100*i,c="true"==jQuery(".ts-imageswitch__handle",a).attr("data-center")?!0:!1,h=100,f=200;c&&(n.addClass("animated"),"ts-switch-direction-horizontal"==r?(jQuery(".ts-imageswitch__after, .ts-imageswitch__handle",a).delay(h).animate({left:u},f),jQuery(".ts-imageswitch__after img",a).delay(h).animate({right:u},f)):"ts-switch-direction-vertical"==r&&(jQuery(".ts-imageswitch__after, .ts-imageswitch__handle",a).delay(h).animate({top:u},f),jQuery(".ts-imageswitch__after img",a).delay(h).animate({bottom:u},f)),o.addClass("active"),l.addClass("active"),setTimeout(function(){n.removeClass("animated")},500)),d&&s.addClass("active")};if(jQuery(".ts-imageswitch-slide > .ts-switch-wrapper > div").each(function(){{var t=jQuery(this),e=(parseInt(t.attr("data-start")),t.attr("data-trigger"));t.attr("data-direction"),"true"==jQuery(".ts-imageswitch__handle",t).attr("data-center")?!0:!1}if("ts-trigger-hover"==e)t.on("mousemove touchmove",function(e){V(e,t)}),t.on("mouseleave touchend",function(e){z(e,t)});else if("ts-trigger-drag"==e){var a=!1;t.on("mousedown",function(){a=!0}),t.on("mousemove",function(e){a&&V(e,t)}),t.on("mouseup",function(e){a=!1,z(e,t)}),t.on("touchmove",function(e){a=!0,V(e,t)}),t.on("touchend",function(e){a=!1,z(e,t)})}}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-imageswitch-slide > .ts-switch-wrapper > div").each(function(){var t=jQuery(this),e=(t.attr("data-trigger"),parseInt(t.attr("data-start"))),a=t.attr("data-direction"),i=100,r=200;if("ts-switch-direction-horizontal"==a){var s=t.width()/100*e;jQuery(".ts-imageswitch__after, .ts-imageswitch__handle",t).delay(i).animate({left:s},r),jQuery(".ts-imageswitch__after img",jQuery(this)).delay(i).animate({right:s},r)}else if("ts-switch-direction-vertical"==a){var s=t.height()/100*e;jQuery(".ts-imageswitch__after, .ts-imageswitch__handle",t).delay(i).animate({top:s},r),jQuery(".ts-imageswitch__after img",jQuery(this)).delay(i).animate({bottom:s},r)}})}),jQuery(".ts-imageswitch.ts-imageswitch-flip.ts-trigger-click").each(function(){jQuery(this).addClass("ts-imageswitch-before")}),jQuery("body").on("click",".ts-imageswitch.ts-imageswitch-flip.ts-trigger-click",function(){var t=jQuery(this),e=t.find(".ts-imageswitch-overlay"),a=t.find(".ts-imageswitch-before-string"),i=t.find(".ts-imageswitch-after-string"),r="true"==e.attr("data-remove")?!0:!1;a.removeClass("active"),i.removeClass("active"),t.addClass("ts-imageswitch-activated"),t.toggleClass("ts-imageswitch-before ts-imageswitch-after"),r&&(t.hasClass("ts-imageswitch-before")?e.addClass("active"):e.removeClass("active")),t.hasClass("ts-imageswitch-before")?a.addClass("active"):t.hasClass("ts-imageswitch-after")&&i.addClass("active")}),jQuery(".ts-imageswitch.ts-imageswitch-flip.ts-trigger-hover").each(function(){var e=t(this);e.addClass("ts-imageswitch-before")}),jQuery(document).on("mouseenter touchstart",".ts-imageswitch.ts-imageswitch-flip.ts-trigger-hover",function(){var t=jQuery(this),e=t.find(".ts-imageswitch-overlay"),a=t.find(".ts-imageswitch-before-string"),i=t.find(".ts-imageswitch-after-string"),r="true"==e.attr("data-remove")?!0:!1;t.addClass("ts-imageswitch-activated"),a.removeClass("active"),i.addClass("active"),t.toggleClass("ts-imageswitch-before ts-imageswitch-after"),r&&(t.hasClass("ts-imageswitch-before")?e.addClass("active"):e.removeClass("active"))}),jQuery(document).on("mouseleave touchend",".ts-imageswitch.ts-imageswitch-flip.ts-trigger-hover",function(){var t=jQuery(this),e=t.find(".ts-imageswitch-overlay"),a=t.find(".ts-imageswitch-before-string"),i=t.find(".ts-imageswitch-after-string"),r="true"==e.attr("data-remove")?!0:!1;t.addClass("ts-imageswitch-activated"),i.removeClass("active"),a.addClass("active"),t.toggleClass("ts-imageswitch-before ts-imageswitch-after"),r&&(t.hasClass("ts-imageswitch-before")?e.addClass("active"):e.removeClass("active"))}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-imageswitch-fade").find(".ts-imageswitch-items").find("li").each(function(){var t=jQuery(this),e=t.find("img").height(),a=t.hasClass("active");t.css("height",e+"px").attr("data-height",e),a&&t.parent().css("height",e+"px")})}),jQuery(document).on("mouseenter touchstart",".ts-imageswitch.ts-imageswitch-fade.ts-trigger-hover, .ts-imageswitch.ts-imageswitch-none.ts-trigger-hover",function(){var t=jQuery(this),e=t.find(".ts-imageswitch__before"),a=t.find(".ts-imageswitch__after"),i=t.find(".ts-imageswitch-overlay"),r=t.find(".ts-imageswitch-before-string"),s=t.find(".ts-imageswitch-after-string"),n="true"==i.attr("data-remove")?!0:!1;t.toggleClass("ts-imageswitch-before ts-imageswitch-after"),a.toggleClass("active"),e.toggleClass("active"),e.hasClass("active")?e.parent().css("height",e.find("img").height()+"px"):a.hasClass("active")&&a.parent().css("height",a.find("img").height()+"px"),r.removeClass("active"),s.addClass("active"),n&&(t.hasClass("ts-imageswitch-before")?i.addClass("active"):i.removeClass("active"))}),jQuery(document).on("mouseleave touchend",".ts-imageswitch.ts-imageswitch-fade.ts-trigger-hover, .ts-imageswitch.ts-imageswitch-none.ts-trigger-hover",function(){var t=jQuery(this),e=t.find(".ts-imageswitch__before"),a=t.find(".ts-imageswitch__after"),i=t.find(".ts-imageswitch-overlay"),r=t.find(".ts-imageswitch-before-string"),s=t.find(".ts-imageswitch-after-string"),n="true"==i.attr("data-remove")?!0:!1;t.toggleClass("ts-imageswitch-before ts-imageswitch-after"),a.toggleClass("active"),e.toggleClass("active"),e.hasClass("active")?e.parent().css("height",e.find("img").height()+"px"):a.hasClass("active")&&a.parent().css("height",a.find("img").height()+"px"),s.removeClass("active"),r.addClass("active"),n&&(t.hasClass("ts-imageswitch-before")?i.addClass("active"):i.removeClass("active"))}),jQuery(document).on("click",".ts-imageswitch.ts-imageswitch-fade.ts-trigger-click, .ts-imageswitch.ts-imageswitch-none.ts-trigger-click",function(){var t=jQuery(this),e=t.find(".ts-imageswitch__before"),a=t.find(".ts-imageswitch__after"),i=t.find(".ts-imageswitch-overlay"),r=t.find(".ts-imageswitch-before-string"),s=t.find(".ts-imageswitch-after-string"),n="true"==i.attr("data-remove")?!0:!1;t.toggleClass("ts-imageswitch-before ts-imageswitch-after"),a.toggleClass("active"),e.toggleClass("active"),r.removeClass("active"),s.removeClass("active"),e.hasClass("active")?e.parent().css("height",e.find("img").height()+"px"):a.hasClass("active")&&a.parent().css("height",a.find("img").height()+"px"),n&&(t.hasClass("ts-imageswitch-before")?i.addClass("active"):i.removeClass("active")),t.hasClass("ts-imageswitch-before")?r.addClass("active"):t.hasClass("ts-imageswitch-after")&&s.addClass("active")}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-imageswitch-overlay").each(function(){var t=jQuery(this),e=t.siblings(".ts-imageswitch-items"),a=e.height(),i=(e.width(),t.find(".ts-imageswitch-overlay-image")),r=i.height()/2,s=i.width()/2;
t.css({height:a+"px","line-height":a+"px"}),i.css({"margin-left":"-"+s+"px","margin-top":"-"+r+"px"})})}),"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".ts-image-hotspot-viewport").each(function(){jQuery(this).css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});jQuery(this).waypoint({handler:function(){var t=jQuery(this),e=(t.attr("data-type"),t.attr("data-animation")),a=parseInt(t.attr("data-delay"));setTimeout(function(){t.css({opacity:t.attr("data-opacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*t.attr("data-opacity")+')"',filter:"alpha(opacity="+100*t.attr("data-opacity")+")","-moz-opacity":t.attr("data-opacity"),"-khtml-opacity":t.attr("data-opacity")}),t.addClass(e),setTimeout(function(){t.removeClass(e),t.removeClass("ts-image-hotspot-viewport").addClass("ts-image-hotspot-standard");try{t.waypoint("destroy")}catch(a){}try{$this.destroy()}catch(a){}},2e3)},a)},offset:"bottom-in-view",triggerOnce:!0})}),jQuery(".ts-image-hotspot-container").each(function(){var t=jQuery(this),e=t.find(".ts-image-hotspot-holder"),a=(t.find(".ts-image-hotspot-casing"),t.find(".ts-image-hotspot-contents")),i=a.find(".ts-image-hotspot-placeholder"),r=t.attr("data-info-placement"),s=t.attr("data-info-heighttype"),n=parseInt(t.attr("data-info-heightvalue"));"cover"==r?a.addClass("ts-image-hotspot-coverme"):"minimum"==s?a.css("min-height",n+"px"):"maximum"==s&&a.css("max-height",n+"px"),e.find(".ts-image-hotspot-single-container").each(function(){var t=jQuery(this).find(".ts-image-hotspot-showinfo"),e=jQuery(this).find(".ts-image-hotspot-information");e.appendTo(a),t.on("click",function(){if(a.show(),i.hide(),"undefined"!=typeof jQuery.fn.tooltipstercustom&&"cover"==r)try{jQuery(this).find(".ts-image-hotspot-trigger-dot").tooltipstercustom("destroy").attr("data-tooltipset","false")}catch(t){}var e=jQuery(this).attr("data-information");a.find(".ts-image-hotspot-information").each(function(){jQuery(this).attr("id")!=e&&jQuery(this).fadeOut(10).removeClass("ts-image-hotspot-active")}),jQuery("#"+e).hasClass("ts-image-hotspot-active")?(jQuery("#"+e).fadeOut().removeClass("ts-image-hotspot-active"),"left"==r||"right"==r?i.fadeIn():a.hide()):jQuery("#"+e).fadeIn().addClass("ts-image-hotspot-active")})}),a.find(".ts-image-hotspot-closer").on("click",function(){jQuery("#"+jQuery(this).attr("data-information")).fadeOut().removeClass("ts-image-hotspot-active"),"left"==r||"right"==r?i.fadeIn():a.hide()})}),jQuery(".ts-image-hotspot-switch").each(function(){var t=jQuery(this),e="true"==jQuery(this).attr("data-toggle")?!0:!1,a=t.find(".ts-image-hotspot-trigger-dot"),i=t.parents().parents().siblings(".ts-image-hotspot-image"),r=i.attr("src"),s=t.attr("data-image");t.attr("data-original",r),a.on("mousedown touchend",function(a){a.preventDefault();var n=i.attr("src");s!=r&&n!=s?(i.fadeOut(250,function(){i.attr("src",s),t.attr("data-switch","true")}),i.fadeIn(250)):e&&n!=r&&(i.fadeOut(250,function(){i.attr("src",r),t.attr("data-switch","false")}),i.fadeIn(250))})}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-image-hotspot-container").each(function(){var t=jQuery(this),e=t.find(".ts-image-hotspot-casing"),a=t.find(".ts-image-hotspot-contents"),i=t.find(".ts-image-hotspot-single-container");e.height("100%");{var r=t.width(),s=t.attr("data-info-placement"),n=parseInt(t.attr("data-info-switcheroo")),o=t.attr("data-info-heighttype");parseInt(t.attr("data-info-heightvalue"))}"cover"!=s&&(r>n?"left"==s?(e.addClass("ts-image-hotspot-splitleft"),a.addClass("ts-image-hotspot-splitleft")):"right"==s&&(e.addClass("ts-image-hotspot-splitright"),a.addClass("ts-image-hotspot-splitright")):(e.removeClass("ts-image-hotspot-splitleft").removeClass("ts-image-hotspot-splitright"),a.removeClass("ts-image-hotspot-splitleft").removeClass("ts-image-hotspot-splitright"))),("image"==o||"cover"==s||"left"==s||"right"==s)&&(a.css("height",e.find(".ts-image-hotspot-image").outerHeight(!0)+"px"),"cover"==s&&a.find(".ts-image-hotspot-information").css("height",e.find(".ts-image-hotspot-image").outerHeight(!0)+"px")),e.css("height",e.find(".ts-image-hotspot-image").outerHeight(!0)+"px");var l=null,d="",u=0,c=0,h=!0;i.each(function(){l=jQuery(this),d=l.attr("data-width-rule"),u=parseInt(l.attr("data-width-min")),c=parseInt(l.attr("data-width-max")),"widthmin"==d?u>r&&(h=!1):"widthmax"==d?r>c&&(h=!1):"widthcorridor"==d&&(u>r||r>c)&&(h=!1),h?l.show(10,function(){l.show().removeClass("ts-image-hotspot-single-hidden").addClass("ts-image-hotspot-single-visible")}):l.removeClass("ts-image-hotspot-single-visible").addClass("ts-image-hotspot-single-hidden").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){l.hide()})});var f="true"==jQuery(this).attr("data-responsive")?!0:!1,p=(t.attr("data-size"),parseInt(t.attr("data-large"))),m=parseInt(t.attr("data-medium"));f&&(r>=p?t.alterClass("ts-image-hotspot-container-size-*","ts-image-hotspot-container-size-large"):r>=m&&p>r?t.alterClass("ts-image-hotspot-container-size-*","ts-image-hotspot-container-size-medium"):t.alterClass("ts-image-hotspot-container-size-*","ts-image-hotspot-container-size-small"))})}),jQuery(".ts-qrcode-parent").each(function(){var t=jQuery(this).attr("data-render"),e=jQuery(this).attr("data-responsive"),a=jQuery(this).attr("data-size"),i=jQuery(this).attr("data-min"),r=jQuery(this).attr("data-max"),s=jQuery(this).attr("data-qrcode"),n=jQuery(this).attr("data-color");if("true"==e){var o=jQuery(this).width()*a/100;a=i>o?i:o>r?r:o}else a=a;jQuery(this).qrcode({render:t,size:a,width:a,height:a,fill:n,fontcolor:n,text:s})}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-qrcode-parent.responsive").each(function(){jQuery(this).empty();var t=jQuery(this).attr("data-render"),e=jQuery(this).attr("data-responsive"),a=jQuery(this).attr("data-size"),i=jQuery(this).attr("data-min"),r=jQuery(this).attr("data-max"),s=jQuery(this).attr("data-qrcode"),n=jQuery(this).attr("data-color");if("true"==e){var o=jQuery(this).width()*a/100;a=i>o?i:o>r?r:o}else a=a;jQuery(this).qrcode({render:t,size:a,width:a,height:a,fill:n,fontcolor:n,text:s})})}),jQuery(document).on("click","a.ts-to-top",function(){return t("html, body").animate({scrollTop:0},500),!1}),jQuery(".ts-teampage-member-skills").find(".ts-skillbars-style1-value").css("width","0%").css("opacity","0"),jQuery(".ts-teampage-member-skills").find(".ts-skillbars-style1-tooltip").css("opacity","0"),jQuery(".ts-teampage-member-skills").each(function(){jQuery(this).bind("inview",function(t,e,a,i){if(e){{jQuery(this)}"top"==i||"bottom"==i||jQuery(this).find(".ts-skillbars-style1-value").each(function(){var t=0,e=jQuery(this),a=e.attr("data-level"),i=e.width();if(e.css("opacity","1"),e.find(".ts-skillbars-style1-tooltip").css("opacity","1"),0==i){a=a.substring(0,a.length-1);var r=function(){return t>=a||t>=100?(jQuery(this).unbind("inview"),!1):(t+=1,t>a?t=a:t>100&&(t=100),e.css("width",t+"%"),setTimeout(r,2),void 0)};r()}else jQuery(this).unbind("inview")})}else{jQuery(this)}})}),jQuery(".ts-teammate-member-skills").find(".ts-skillbars-style1-value").css("width","0%").css("opacity","0"),jQuery(".ts-teammate-member-skills").find(".ts-skillbars-style1-tooltip").css("opacity","0"),jQuery(".ts-teammate-member-skills").each(function(){jQuery(this).bind("inview",function(t,e,a,i){if(e){{jQuery(this)}"top"==i||"bottom"==i||jQuery(this).find(".ts-skillbars-style1-value").each(function(){var t=0,e=jQuery(this),a=e.attr("data-level"),i=e.width();if(e.css("opacity","1"),e.find(".ts-skillbars-style1-tooltip").css("opacity","1"),0==i){a=a.substring(0,a.length-1);var r=function(){return t>=a||t>=100?(jQuery(this).unbind("inview"),!1):(t+=1,t>a?t=a:t>100&&(t=100),e.css("width",t+"%"),setTimeout(r,2),void 0)};r()}else jQuery(this).unbind("inview")})}else{jQuery(this)}})}),jQuery(".ts-post-skills").find(".ts-skillbars-style1-value").css("width","0%").css("opacity","0"),jQuery(".ts-post-skills").find(".ts-skillbars-style2-skillbar").css("width","0%").css("opacity","0"),jQuery(".ts-post-skills").find(".ts-skillbars-style3-countbar").css("width","0%").css("opacity","0"),jQuery(".ts-post-skills").find(".ts-skillbars-style1-tooltip").css("opacity","0"),jQuery(".ts-post-skills").find(".ts-skillbars-style2-tooltip").css("opacity","0"),jQuery(".ts-post-skills").find(".ts-skillbars-style3-tooltip").css("opacity","0"),jQuery(".ts-skillbars-style2-wrapper").each(function(){$full_width=jQuery(this).width(),$title_width=jQuery(this).find(".ts-skillbars-style2-title").width(),jQuery(this).find(".ts-skillbars-style2-area").css("margin-left",$title_width+"px").width($full_width-$title_width)}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-skillbars-style2-wrapper").each(function(){$full_width=jQuery(this).width(),$title_width=jQuery(this).find(".ts-skillbars-style2-title").width(),jQuery(this).find(".ts-skillbars-style2-area").css("margin-left",$title_width+"px").width($full_width-$title_width)})}),jQuery(".ts-post-skills").each(function(){jQuery(this).bind("inview",function(t,e,a,i){if(e){{jQuery(this)}"top"==i||"bottom"==i||(jQuery(this).find(".ts-skillbars-style1-value").each(function(){var t=0,e=jQuery(this),a=parseInt(e.attr("data-level")),i=e.width();if(e.css("opacity","1"),e.find(".ts-skillbars-style1-tooltip").css("opacity","1"),0==i){var r=function(){return t>=a||t>=100?(jQuery(this).unbind("inview"),!1):(t+=1,t>a?t=a:t>100&&(t=100),e.css("width",t+"%"),setTimeout(r,2),void 0)};r()}else jQuery(this).unbind("inview")}),jQuery(this).find(".ts-skillbars-style2-skillbar").each(function(){var t=0,e=jQuery(this),a=parseInt(e.attr("data-level")),i=e.width();if(e.css("opacity","1"),e.find(".ts-skillbars-style2-tooltip").css("opacity","1"),0==i){var r=function(){return t>=a||t>=100?(jQuery(this).unbind("inview"),!1):(t+=1,t>a?t=a:t>100&&(t=100),e.css("width",t+"%"),setTimeout(r,2),void 0)};r()}else jQuery(this).unbind("inview")}),jQuery(this).find(".ts-skillbars-style3-countbar").each(function(){var t=0,e=jQuery(this),a=parseInt(e.attr("data-level")),i=e.width();if(e.css("opacity","0.75"),e.find(".ts-skillbars-style3-tooltip").css("opacity","1"),0==i){var r=function(){return t>=a||t>=100?(jQuery(this).unbind("inview"),!1):(t+=1,t>a?t=a:t>100&&(t=100),e.css("width",t+"%"),setTimeout(r,2),void 0)};r()}else jQuery(this).unbind("inview")}))}else{jQuery(this)}})}),jQuery(".ts-animation-container-enabled").each(function(){jQuery(this).css(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&"true"==jQuery(this).attr("data-mobile")?{opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0}:{opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1})}),"undefined"!=typeof jQuery.fn.waypoint?jQuery(".ts-animation-container-viewport").each(function(){{var t=jQuery(this).attr("data-offset");jQuery(this).waypoint({handler:function(){if(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&"true"==jQuery(this).attr("data-mobile")){var t=jQuery(this),e=t.attr("data-animation"),a=parseInt(t.attr("data-delay")),i=parseInt(t.attr("data-duration")),r=parseInt(t.attr("data-repeat")),s=t.attr("data-infinite"),n=t.attr("data-once");setTimeout(function(){if(t.addClass(e).css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1}),"false"==s)setTimeout(function(){if("true"==n){t.removeAttr("data-viewport"),t.removeClass(e),t.removeClass("ts-animation-frame").removeClass("ts-animation-container-viewport");try{t.waypoint("destroy")}catch(a){}try{$this.destroy()}catch(a){}}else t.removeClass(e)},i*r);else{try{t.waypoint("destroy")}catch(a){}try{$this.destroy()}catch(a){}}},a)}},offset:t,triggerOnce:!1})}}):(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&"true"==jQuery(this).attr("data-mobile"))&&jQuery(".ts-animation-container-viewport").each(function(){jQuery(this).addClass("ts-animation-container-instant").removeClass("ts-animation-container-viewport")}),jQuery(".ts-animation-container-instant").each(function(){if(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&"true"==jQuery(this).attr("data-mobile")){var t=jQuery(this),e=t.attr("data-animation"),a=parseInt(t.attr("data-delay")),i=parseInt(t.attr("data-duration")),r=parseInt(t.attr("data-repeat")),s=t.attr("data-infinite");setTimeout(function(){t.addClass(e).css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1}),"false"==s&&setTimeout(function(){t.removeAttr("data-viewport"),t.removeClass(e),t.removeClass("ts-animation-frame").removeClass("ts-animation-container-viewport")},i*r)},a)}}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-rating-stars-frame").each(function(){var t=jQuery(this).attr("data-auto");if("true"==t){var e=Math.floor(jQuery(this).width());if(0!=jQuery(this).find(".ts-rating-caption").length)var a=jQuery(this).find(".ts-rating-caption").outerWidth(!0),i=jQuery(this).find(".ts-rating-caption").find(".label").outerHeight(!0);else var a=0,i=0;var r=Math.floor(jQuery(this).outerWidth(!0)-a),s=(parseInt(jQuery(this).attr("data-rating")),parseInt(jQuery(this).attr("data-width"))),n=parseInt(jQuery(this).attr("data-size"));if(r>s){if(r-s>25)var o=0;else var o=25;r=s}else var o=25;if(0==a)if(e>s)var l=n;else var l=Math.floor((r-o)/5);else var l=Math.floor((r-o)/5);jQuery(this).find(".ts-star-rating").css({"font-size":l+"px","line-height":(l>i?l+5:i+5)+"px"}).attr("data-width",r).attr("data-caption",a),jQuery(this).find(".ts-star-rating-rtl").css({"font-size":l+"px","line-height":(l>i?l+5:i+5)+"px"}).attr("data-width",r).attr("data-caption",a)}})}),jQuery(".ts-font-icon-generator").css({opacity:jQuery(this).attr("data-opacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*jQuery(this).attr("data-opacity")+')"',filter:"alpha(opacity="+100*jQuery(this).attr("data-opacity")+")","-moz-opacity":jQuery(this).attr("data-opacity"),"-khtml-opacity":jQuery(this).attr("data-opacity")}),jQuery(document).on("mouseenter",".ts-font-icon-generator",function(){"true"==jQuery(this).attr("data-hover")&&jQuery(this).css({color:jQuery(this).attr("data-hovercolor"),background:jQuery(this).attr("data-hoverbackground"),opacity:jQuery(this).attr("data-hoveropacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*jQuery(this).attr("data-hoveropacity")+')"',filter:"alpha(opacity="+100*jQuery(this).attr("data-hoveropacity")+")","-moz-opacity":jQuery(this).attr("data-hoveropacity"),"-khtml-opacity":jQuery(this).attr("data-hoveropacity")})}),jQuery(document).on("mouseleave",".ts-font-icon-generator",function(){"true"==jQuery(this).attr("data-hover")&&jQuery(this).css({color:jQuery(this).attr("data-color"),background:jQuery(this).attr("data-background"),opacity:jQuery(this).attr("data-opacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*jQuery(this).attr("data-opacity")+')"',filter:"alpha(opacity="+100*jQuery(this).attr("data-opacity")+")","-moz-opacity":jQuery(this).attr("data-opacity"),"-khtml-opacity":jQuery(this).attr("data-opacity")})}),jQuery(".ts-font-icon-generator-viewport").each("undefined"!=typeof jQuery.fn.waypoint?function(){jQuery(this).css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});jQuery(this).waypoint({handler:function(){var t=jQuery(this),e=t.attr("data-viewport"),a=parseInt(t.attr("data-delay"));setTimeout(function(){t.addClass(e).css({opacity:t.attr("data-opacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*t.attr("data-opacity")+')"',filter:"alpha(opacity="+100*t.attr("data-opacity")+")","-moz-opacity":t.attr("data-opacity"),"-khtml-opacity":t.attr("data-opacity")}),setTimeout(function(){t.removeAttr("data-viewport"),t.removeClass(e),t.removeClass("ts-font-icon-generator-viewport");try{t.waypoint("destroy")}catch(a){}try{$this.destroy()}catch(a){}},2e3)},a)},offset:"bottom-in-view",triggerOnce:!0})}:function(){jQuery(this).css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=100)"',filter:"alpha(opacity=100)","-moz-opacity":1,"-khtml-opacity":1})}),jQuery(".ts-imagehover").each(function(){var t=jQuery(this),e=t.attr("data-closer"),a=t.attr("data-trigger");"ts-trigger-click"==a&&t.on("click",function(){jQuery(this).hasClass("active")||(jQuery(this).toggleClass("active"),jQuery(this).find(".mask").show(),0!=jQuery(this).find(".badonkatrunc-wrapper").length&&jQuery(this).find(".badonkatrunc-wrapper").parent().badonkatrunc("refresh"))}),0!=e.length&&jQuery("body").on("click","#"+e,function(){jQuery("#"+jQuery(this).attr("data-mask")).toggleClass("active"),t.find(".mask").hide()})}),jQuery(".ts-posts-timeline-view").each(function(){function t(){s.alterClass("ts-timeline-*","ts-timeline-asc"),listItem.alterClass("ts-timeline-order-*","ts-timeline-order-asc").attr("data-order","asc"),setTimeout(function(){r()},100)}function e(){s.alterClass("ts-timeline-*","ts-timeline-desc"),listItem.alterClass("ts-timeline-order-*","ts-timeline-order-desc").attr("data-order","desc"),setTimeout(function(){r()},100)}function a(){show=0,listItem.each(function(){"true"==jQuery(this).attr("data-visible")&&show++}),show=parseInt(show)+parseInt(loadmore),listCount>=parseInt(show)?(visible=0,listItem=s.find("li.ts-timeline-list-item"),listItem.each(function(){visible++,visible<=parseInt(show)&&jQuery(this).attr("data-visible","true").addClass("ts-timeline-visible").fadeIn()}),s.find('li[data-visible*="false"]').removeClass("ts-timeline-visible").hide()):(listItem.fadeIn().addClass("ts-timeline-visible").attr("data-visible","true"),moreButton.hide()),setTimeout(function(){listHolder.isotope("reloadItems"),r(),listHolder.isotope("reLayout")},750)}function i(t){("spineTimeline"==layoutSelect||"straightDown"==layoutSelect)&&"postDate"==sortCriteria?(breakItem.addClass("ts-timeline-visible"),s.find('li[data-visible*="false"]').removeClass("ts-timeline-visible").hide()):breakItem.removeClass("ts-timeline-visible").hide(),listHolder.isotope({itemSelector:".ts-timeline-list-item.ts-timeline-visible",animationEngine:"best-available",itemPositionDataEnabled:!1,transformsEnabled:!0,resizesContainer:!0,sortAscending:t,getSortData:{postDate:function(t){return parseInt(t.attr("data-date"))},postModified:function(t){return parseInt(t.attr("data-modified"))},postName:function(t){return t.attr("data-title")},postAuthor:function(t){return t.attr("data-author")},postComments:function(t){return parseInt(t.attr("data-comments"))},postID:function(t){return parseInt(t.attr("data-id"))},postPrice:function(t){return parseInt(t.attr("data-price"))},postRatings:function(t){return parseInt(t.attr("data-rating"))}},sortBy:sortCriteria,layoutMode:layoutMode,filter:listFilter,spineTimeline:{gutterWidth:20,columnPadding:50,spineHolder:spineHolder},onLayout:function(){}},function(){setTimeout(function(){"spineTimeline"==layoutSelect?jQuery("#"+spineHolder).height(listHolder.height()):jQuery("span",jQuery("#"+spineHolder)).remove()},750)})}function r(){s.each(function(){$this=jQuery(this),$this.width(n.width()),listHolder.width(n.width()),"spineTimeline"==layoutSelect?("postDate"==sortCriteria?breakItem.addClass("ts-timeline-visible").show():breakItem.removeClass("ts-timeline-visible").hide(),s.removeClass("ts-postsgrid").addClass("ts-timeline"),jQuery("#"+spineHolder).show(),$this.outerWidth()<=mediaQuery?(layoutMode="masonry",layoutSelect="spineTimeline",listItem.each(function(){jQuery(this).width("100%").removeClass("ts-timeline-layout-straightDown").removeClass("colA").removeClass("colB").removeClass("ts-timeline-layout-spine").addClass("ts-timeline-layout-masonry")}),jQuery("span",jQuery("#"+spineHolder)).remove()):(layoutMode="spineTimeline",layoutSelect="spineTimeline",listItem.each(function(){jQuery(this).width("50%").removeClass("ts-timeline-layout-straightDown").removeClass("ts-timeline-layout-masonry").addClass("ts-timeline-layout-spine")}))):("straightDown"==layoutSelect?(s.removeClass("ts-postsgrid").addClass("ts-timeline"),jQuery("#"+spineHolder).hide(),"postDate"==sortCriteria?(breakItem.addClass("ts-timeline-visible").show(),s.find('li[data-visible*="false"]').removeClass("ts-timeline-visible").hide()):breakItem.removeClass("ts-timeline-visible").hide()):(s.removeClass("ts-timeline").addClass("ts-postsgrid"),jQuery("#"+spineHolder).hide(),breakItem.removeClass("ts-timeline-visible").hide()),listItem.each(function(){"straightDown"==layoutSelect?(layoutMode="masonry",layoutSelect="straightDown",jQuery(this).width("100%").addClass("ts-timeline-layout-straightDown").removeClass("colA").removeClass("colB").removeClass("ts-timeline-layout-spine").addClass("ts-timeline-layout-masonry")):jQuery(this).css("width",columnWidth).removeClass("ts-timeline-layout-straightDown")})),listHolder.attr("data-layout",layoutMode),jQuery("#"+spineHolder).alterClass("ts-posts-spine-layout-*","ts-posts-spine-layout-"+layoutMode),setTimeout(function(){listHolder.hasClass("isotope")&&listHolder.isotope("reloadItems"),i(o),listHolder.isotope("reLayout"),"spineTimeline"==layoutSelect&&jQuery("#"+spineHolder).height(listHolder.height())},750)})}var s=jQuery(this),n=s.parent();if(loadLazy=s.attr("data-lazy"),loadPosts=s.attr("data-ajax"),order=s.attr("data-order"),sortCriteria=s.attr("data-sort"),columnWidth=parseInt(s.attr("data-column")),postType=s.attr("data-type"),shown=loadPosts,loadmore=loadPosts,loadMethod=s.attr("data-trigger"),controlBar=s.find(".ts-isotope-posts-grid-controls"),controlsUp=s.find(".ts-timeline-controls-asc"),controlsDown=s.find(".ts-timeline-controls-desc"),listHolder=s.find("ul.ts-timeline-list"),listTarget=s.find("ul.ts-timeline-list").attr("id"),listItem=s.find("li.ts-timeline-list-item"),breakItem=s.find("li.ts-timeline-break"),dateHolder=listItem.find(".ts-timeline-date"),listCount=parseInt(listItem.length),listCounter=0,listFilter="",moreButton=s.find(".ts-timeline-load-more"),mediaQuery=parseInt(s.attr("data-break")),spineHolder=s.find(".ts-timeline-spine").attr("id"),layoutSelect=s.attr("data-layout"),layoutMode=s.attr("data-layout"),"desc"==order)var o=!1;else var o=!0;controlsUp.on("click",function(){jQuery(this).hasClass("active")||(jQuery(this).toggleClass("active"),controlsDown.toggleClass("active"),o=o?!1:!0,breakItem.each(function(){jQuery(this).attr("data-date",jQuery(this).attr("data-start"))}),t())}),controlsDown.on("click",function(){jQuery(this).hasClass("active")||(jQuery(this).toggleClass("active"),controlsUp.toggleClass("active"),o=o?!1:!0,breakItem.each(function(){jQuery(this).attr("data-date",jQuery(this).attr("data-end"))}),e())}),"postDate"==sortCriteria?sortAttribute="data-date":"postModified"==sortCriteria?sortAttribute="data-modified":"postName"==sortCriteria?sortAttribute="data-title":"postAuthor"==sortCriteria?sortAttribute="data-author":"postComments"==sortCriteria?sortAttribute="data-comments":"postID"==sortCriteria?sortAttribute="data-id":"postRating"==sortCriteria?sortAttribute="data-rating":"postPrice"==sortCriteria&&(sortAttribute="data-price"),jQuery("ul#"+listTarget+">li").tsort({order:order,attr:sortAttribute}),listItem.each(function(){listCounter++,jQuery(this).addClass("ts-timeline-order-"+order).attr("data-order",order).attr("data-number",listCounter)}),"true"==loadLazy?(s.find("li.ts-timeline-list-item:lt("+shown+")").addClass("ts-timeline-visible").attr("data-visible","true").fadeIn(),s.find('li[data-visible*="false"]').removeClass("ts-timeline-visible").hide(),moreButton.on("click",a)):listItem.fadeIn().attr("data-visible","true").addClass("ts-timeline-visible"),"true"==loadLazy&&"scroll"==loadMethod&&moreButton.bind("inview",function(t,e,i,r){if(e){var s=jQuery(this);"top"==r||"bottom"==r||(s.addClass("ts-loadmore-visible"),a())}else{var s=jQuery(this);s.removeClass("ts-loadmore-visible")}}),jQuery(window).on("debouncedresize",function(){r()}),jQuery(this).find(".ts-isotope-posts-sort").change(function(){return sortCriteria=jQuery(this).attr("data-sort"),r(o),!1}),jQuery(this).find(".ts-isotope-posts-layout").change(function(){return s.width("100%"),layoutSelect=jQuery(this).attr("data-layout"),layoutMode=jQuery(this).attr("data-layout"),i(o),r(),("spineTimeline"==layoutSelect||"straightDown"==layoutSelect)&&setTimeout(function(){r()},100),!1}),jQuery(this).find(".ts-isotope-posts-filter").change(function(){var t=s.find(".ts-isotope-posts-filter").length-1,e=0,a=jQuery(this).attr("data-type"),i=jQuery(this).attr("data-key"),r=s.find(".ts-isotope-posts-filter-all"),n=[];return"all"==a?(jQuery(".ts-isotope-posts-filter").each(function(){jQuery(this).attr("data-key")==i&&"single"==jQuery(this).attr("data-type")&&jQuery(this).prop("checked",!1)}),n=jQuery(this).attr("data-filter")):(jQuery(".ts-isotope-posts-filter").each(function(){jQuery(this).attr("data-key")==i&&"all"==jQuery(this).attr("data-type")&&jQuery(this).prop("checked",!1),jQuery(this).attr("data-key")==i&&jQuery(this).is(":checked")&&(e++,n.push(jQuery(this).attr("data-filter")))}),0==e?r.prop("checked",!0):e==t&&(r.prop("checked",!0),jQuery(".ts-isotope-posts-filter").each(function(){jQuery(this).attr("data-key")==i&&"single"==jQuery(this).attr("data-type")&&jQuery(this).prop("checked",!1)})),n=n.join(", ")),listFilter=n,listHolder.isotope({filter:listFilter}),!1})}),jQuery(".ts-newsticker-oneliner").each(function(){{var t=jQuery(this).attr("id"),e=jQuery(this).hasClass("ts-newsticker-fixed"),a=jQuery(this).attr("data-parent"),i=jQuery(this).attr("data-header"),r=jQuery(this).attr("data-direction"),s=jQuery(this).attr("data-ticker"),n=parseInt(jQuery(this).attr("data-break")),o=jQuery(this).attr("data-navigation"),l=jQuery(this).attr("data-controls"),d=jQuery(this).attr("data-auto"),u=parseInt(jQuery(this).attr("data-speed")),c=jQuery(this).attr("data-hover"),h=jQuery(this).attr("data-next"),f=jQuery(this).attr("data-prev"),p=jQuery(this).attr("data-stop"),m=jQuery(this).attr("data-play");jQuery(this).find(".newsticker").newsTicker({row_height:44,max_rows:1,speed:500,duration:u,direction:r,autostart:"true"==d?!0:!1,pauseOnHover:"true"==c?!0:!1,nextButton:jQuery("#"+h),prevButton:jQuery("#"+f),stopButton:jQuery("#"+p),startButton:jQuery("#"+m)})}jQuery("#"+p).on("click",function(){jQuery("#"+p).hide(),jQuery("#"+m).show()}),jQuery("#"+m).on("click",function(){jQuery("#"+m).hide(),jQuery("#"+p).show()}),jQuery(window).on("debouncedresize",function(){if("true"==o)var r=jQuery("#"+l).width()+10;else var r=0;1==e?jQuery("#"+t).width()<n?(jQuery("#"+t).addClass("breakline"),jQuery("#"+s).css("width","100%")):(jQuery("#"+t).removeClass("breakline"),setTimeout(function(){var e=jQuery("#"+i).width(),a=jQuery("#"+t).width()-r-e-10;jQuery("#"+s).css("width",a+"px")},500)):jQuery("#"+a).width()<n?(jQuery("#"+t).addClass("breakline"),jQuery("#"+s).css("width","100%")):(jQuery("#"+t).removeClass("breakline"),setTimeout(function(){var t=jQuery("#"+i).width(),e=jQuery("#"+a).width()-r-t-10;jQuery("#"+s).css("width",e+"px")},500))})}),jQuery(".ts_html5_video_hide").each(function(){1==TS_VCSC_MobileDevice&&"true"==jQuery(this).attr("data-show")&&jQuery(this).attr("data-show","false")}),jQuery("body").on("click",".ts_html5_video_remove",function(t){t.preventDefault();var e=jQuery(this).attr("data-player");jQuery("#"+e).remove(),jQuery(this).off().remove()}),jQuery("body").on("click",".ts_html5_video_hide",function(t){t.preventDefault();var e=jQuery(this).attr("data-player"),a=jQuery(this).attr("data-position"),i=jQuery(this).attr("data-width"),r=jQuery(this).hasClass("active");r?(jQuery(this).removeClass("active").addClass("inactive"),"topleft"==a||"bottomleft"==a?(jQuery("#"+e).animate({left:0},250,function(){}),jQuery(this).animate({left:parseInt(i)+2},250,function(){})):("topright"==a||"bottomright"==a)&&(jQuery("#"+e).animate({right:0},250,function(){}),jQuery(this).animate({right:parseInt(i)+2},250,function(){}))):(jQuery(this).removeClass("inactive").addClass("active"),"topleft"==a||"bottomleft"==a?(jQuery("#"+e).animate({left:-(parseInt(i)+2)},250,function(){}),jQuery(this).animate({left:0},250,function(){})):("topright"==a||"bottomright"==a)&&(jQuery("#"+e).animate({right:-(parseInt(i)+2)},250,function(){}),jQuery(this).animate({right:0},250,function(){})),jQuery("#"+e).find("iframe").contents().find(".pppause").click())}),jQuery(".ts_html5_audio_hide").each(function(){1==TS_VCSC_MobileDevice&&"true"==jQuery(this).attr("data-show")&&jQuery(this).attr("data-show","false")}),jQuery("body").on("click",".ts_html5_audio_remove",function(t){t.preventDefault();var e=jQuery(this).attr("data-player"),a=jQuery(this).attr("data-info"),i=jQuery(this).attr("data-controls");jQuery("#"+e).remove(),jQuery("#"+a).off(),jQuery(this).off(),jQuery("#"+i).remove()}),jQuery("body").on("click",".ts_html5_audio_hide",function(t){t.preventDefault();var e=jQuery(this).attr("data-controls"),a=jQuery(this).attr("data-player"),i=jQuery(this).attr("data-position"),r=jQuery(this).attr("data-width"),s=jQuery(this).attr("data-info"),n=jQuery(this).hasClass("active");n?(jQuery(this).removeClass("active").addClass("inactive"),"topleft"==i||"bottomleft"==i?(jQuery("#"+a).animate({left:0},250,function(){}),jQuery("#"+s).show(),jQuery("#"+e).animate({left:parseInt(r)+2},250,function(){})):("topright"==i||"bottomright"==i)&&(jQuery("#"+a).animate({right:0},250,function(){}),jQuery("#"+s).show(),jQuery("#"+e).animate({right:parseInt(r)+2},250,function(){}))):(jQuery(this).removeClass("inactive").addClass("active"),"topleft"==i||"bottomleft"==i?(jQuery("#"+a).animate({left:-(parseInt(r)+2)},250,function(){}),jQuery("#"+s).hide(),jQuery("#"+e).animate({left:0},250,function(){})):("topright"==i||"bottomright"==i)&&(jQuery("#"+a).animate({right:-(parseInt(r)+2)},250,function(){}),jQuery("#"+s).hide(),jQuery("#"+e).animate({right:0},250,function(){})))}),jQuery(".ts-ipresenter-container").each(function(){var t=jQuery(this),e=t.find(".ts-ipresenter-main"),a="true"==t.attr("data-autoheight")?!0:!1,i="true"==t.attr("data-fixedheight")?!0:!1,r="true"==t.attr("data-allow3d")?!0:!1,s=parseInt(t.attr("data-setheight")),n=parseInt(t.attr("data-animationspeed")),o="true"==t.attr("data-randomstart")?!0:!1,l="true"==t.attr("data-zoomeffect")?!0:!1,d="true"==t.attr("data-autoplay")?!0:!1,u="true"==t.attr("data-viewport")?!0:!1,c="true"==t.attr("data-mobile")?!0:!1;1==TS_VCSC_MobileDevice&&0==c&&(d=!1);var h="true"==t.attr("data-replay")?!0:!1,f="true"==t.attr("data-pauseonhover")?!0:!1,p=parseInt(t.attr("data-pausetime")),m=t.attr("data-timer"),g=t.attr("data-timerposition"),y=parseInt(t.attr("data-timerdiameter")),v=t.attr("data-timerbackground"),w=t.attr("data-timercolor"),j=parseInt(t.attr("data-timeropacity"))/100,Q="true"==t.attr("data-directionnav")?!0:!1,C="true"==t.attr("data-controlnav")?!0:!1,b="true"==t.attr("data-controlnavthumbs")?!0:!1,_="true"==t.attr("data-controlnavtooltip")?!0:!1,S="true"==t.attr("data-keyboardnav")?!0:!1,x="true"==t.attr("data-touchnav")?!0:!1;e.TS_VCSC_iPresenter({autoHeight:a,fixedHeight:i,height:s,easing:"ease-in-out",animSpeed:n,itemsOpacity:.4,nextLabel:"Next",previousLabel:"Previous",playLabel:"Play",pauseLabel:"Pause",randomStart:o,startStep:1,allow3D:r,zoomEffect:l,autoPlay:d,playViewport:u,replay:h,pauseOnHover:f,pauseTime:p,timer:m,timerPosition:g,timerDiameter:y,timerBg:v,timerColor:w,timerOpacity:j,timerPadding:4,timerStroke:4,timerBarStroke:1,timerBarStrokeColor:v,timerBarStrokeStyle:"solid",timerBarStrokeRadius:4,directionNav:Q,directionNavHoverOpacity:.6,controlNav:C,controlNavNextPrev:!1,controlNavHoverOpacity:.6,controlNavThumbs:b,controlNavTooltip:_,keyboardNav:S,touchNav:x,onPlay:function(){},onPause:function(){},onAfterLoad:function(){},onBeforeChange:function(){},onAfterChange:function(){},onSlideshowEnd:function(){},onLastStep:function(){}})
}),jQuery(".ts-iframe-container-auto").each(function(){var t=jQuery(this),e=t.attr("data-height-type"),a=t.attr("data-height-adjust"),i=parseInt(t.attr("data-height-interval")),r=parseInt(t.attr("data-height-offset")),s=parseInt(t.attr("data-height-minimum")),n=t.attr("data-height-overflow"),o=t.attr("data-height-measure"),l="true"==t.attr("data-height-position")?!0:!1,d=t.find("iframe"),u=d.attr("id"),c=null;d.on("load",function(){k(t,d,u,e,o,a,i,r,s,c,n,l),"resize"==a&&jQuery(window).on("debouncedresize",t,function(){setTimeout(function(){k(t,d,u,e,o,a,i,r,s,c,n,l)},250)})})}),"undefined"!=typeof jQuery.fn.tooltipstercustom){var A=null,H=!1,L="",O="",F="",P="",E="hover",W="tooltipster-black",B="#000000",N="#000000",R="#ffffff",q="top",X="swing",U=!0,Y=!1,K=0,G=0;jQuery("body").on("mouseenter touchstart",".ts-has-tooltipster-tooltip",function(){if(A=jQuery(this),"true"==A.attr("data-tooltipset"))try{A.tooltipstercustom("destroy").attr("data-tooltipset","false")}catch(t){}H="true"==A.attr("data-tooltipster-html")?!0:!1,L=A.attr("data-tooltipster-title"),O=A.attr("data-tooltipster-text"),H&&void 0!=O&&""!=O&&(O=decodeURIComponent(TS_VCSC_Base64.decode(O))),F=A.attr("data-tooltipster-image"),P="undefined"!=typeof F&&""!=F?'<img class="tooltipster-content-image" src="'+F+'">':"undefined"!=typeof L&&""!=L?'<div class="tooltipster-content-title">'+L+'</div><div class="tooltipster-content-text">'+O+"</div>":'<div class="tooltipster-content-text">'+O+"</div>",E=A.attr("data-tooltipster-trigger"),W=A.attr("data-tooltipster-theme"),B="tooltipster-custom"==W?A.attr("data-tooltipster-background"):"#000000",N="tooltipster-custom"==W?A.attr("data-tooltipster-border"):"#000000",R="tooltipster-custom"==W?A.attr("data-tooltipster-color"):"#ffffff",q=A.attr("data-tooltipster-position"),X=A.attr("data-tooltipster-animation"),U="true"==A.attr("data-tooltipster-arrow")?!0:!1,Y="true"==A.attr("data-tooltipster-touch")?!0:!1,K=parseInt(A.attr("data-tooltipster-offsetx")),G=parseInt(A.attr("data-tooltipster-offsety")),"bottom"==q?G-=TS_VCSC_AdminBarOffset:("top"==q||"left"==q||"right"==q)&&(G+=TS_VCSC_AdminBarOffset),A.tooltipstercustom({multiple:!1,touchDevices:!1,theme:W,customColor:R,customBackground:B,customBorder:N,arrow:U,content:P,contentAsHTML:!0,trigger:E,animation:X,onlyOne:!0,position:q,delay:200,minWidth:75,maxWidth:300,iconDesktop:!1,iconTouch:Y,offsetX:K,offsetY:G,interactive:!0,restoration:"none",functionInit:function(t){t.attr("data-tooltipset","true")},functionBefore:function(t,e){e()},functionReady:function(){},functionAfter:function(){}}),A.tooltipstercustom("show")}),jQuery("body").on("mouseleave touchend",".ts-has-tooltipster-tooltip",function(){if(A=jQuery(this),"true"==A.attr("data-tooltipset"))try{A.tooltipstercustom("destroy").attr("data-tooltipset","false")}catch(t){}})}M(),jQuery(window).on("opennacho",function(t,e){void 0!=e&&"undefined"!=e&&("html"==e.opts.type||"modal"==e.opts.type)&&(setTimeout(function(){window.resizeBy(0,0),jQuery(window).trigger("debouncedresize"),window.dispatchEvent(new Event("resize"))},$TS_VCSC_Lightbox_FXSpeed),setTimeout(function(){window.resizeBy(0,0),jQuery(window).trigger("debouncedresize"),window.dispatchEvent(new Event("resize"))},$TS_VCSC_Lightbox_FXSpeed))}),jQuery(document).ajaxComplete(function(){M()}),r(),s(),n(),o(),d(),l(),jQuery(".ts-video-container").length>0&&setTimeout(function(){e()},2500)}),jQuery(window).load(function(){function a(){"undefined"!=typeof jQuery.fn.picstrips&&jQuery(".ts-image-picstrips").each(function(){var t=parseInt(jQuery(this).attr("data-strips")),e=parseInt(jQuery(this).attr("data-space")),a=parseInt(jQuery(this).attr("data-offset")),i=jQuery(this).attr("data-color");jQuery(this).height("100%");var r=jQuery(this).find("img").height();jQuery(this).find(".molbars").remove(),jQuery(this).find("img").picstrips({splits:t,hgutter:e+"px",vgutter:a+"px",bgcolor:i}),jQuery(this).height(r)})}function f(){jQuery(".ts-image-caman-canvas").each(function(){jQuery("#ts-image-caman-process-"+t).show();var t=jQuery(this).attr("data-number"),e=jQuery("#ts-image-caman-original-"+t).width();jQuery("#ts-image-caman-original-"+t).attr("data-width",e);var a=jQuery("#ts-image-caman-original-"+t).height();jQuery("#ts-image-caman-original-"+t).attr("data-height",a),jQuery(this).attr("data-camanwidth",e).attr("data-camanheight",a),jQuery(this).height(a),jQuery(this).width(e),jQuery("#ts-image-caman-process-"+t).hide(),jQuery("#ts-image-caman-handle-"+t).show()})}function p(){jQuery(".flip-container-frame.auto").each(function(){var t=(jQuery(this).attr("data-trigger"),0);jQuery(this).find(".flip-container-flipper-front > *").each(function(e,a){t+=jQuery(a).outerHeight(!0)});var e=0;jQuery(this).find(".flip-container-flipper-back > *").each(function(t,a){e+=jQuery(a).outerHeight(!0)});var a=t>e?t:e;jQuery(this).css("height",a+"px"),jQuery(this).find(".flip-container-flipper-front").css("height",a+"px"),jQuery(this).find(".flip-container-flipper-back").css("height",a+"px")}),jQuery(".ts-flip-cube.auto").each(function(){var t=(jQuery(this).attr("data-trigger"),20),e=jQuery(this).find(".ts-front").outerHeight()-jQuery(this).find(".ts-front").innerHeight();jQuery(this).find(".ts-front").find(".ts-flip-content > *").each(function(e,a){t+=jQuery(a).outerHeight(!0)});var a=20,i=jQuery(this).find(".ts-back").outerHeight()-jQuery(this).find(".ts-back").innerHeight();jQuery(this).find(".ts-back").find(".ts-flip-content > *").each(function(t,e){a+=jQuery(e).outerHeight(!0)});var r=t>a?t:a,s=e>i?e:i;jQuery(this).css("height",r+s+"px"),jQuery(this).find(".ts-front").find(".ts-flip-content").css("height",r+"px"),jQuery(this).find(".ts-back").find(".ts-flip-content").css("height",r+"px")})}function m(t,e){for(var a=t.length;t[--a]>e;);return++a}function g(t,e){var a=t.width(),i=e.split(",");if(i.length>0){for(var r in i.sort(function(t,e){return t-e}))var s=m(i,a);return 0==s?1:s}return 1}function y(t,e,a){var i=t.width(),r=1,s=e.split(",");if(s.length>0)for(var n in s.sort(function(t,e){return t-e}))r=m(s,i);else r=1;return r>a?0==a?1:a:0==r?1:r}jQuery(window).on("debouncedresize",function(){a(),f()}),"undefined"!=typeof jQuery.fn.nchlightbox&&jQuery(".nch-lightbox-open").each(function(){if("true"==jQuery(this).attr("data-open")){var t=jQuery(this).attr("data-delay");setTimeout(function(){jQuery(".nch-lightbox-open").nchlightbox({thumbs:0,share:0,social:"",zoom:0,bgclose:!0}).nchlightbox("open")},t)}}),jQuery(".ts-projekktor-wrapper").each(function(){function e(){""!=b&&"logocontrol"==C&&(A=a.find(".pplogoimage").width()),320+A>=$?(a.find(".ppprev").hide(),a.find(".ppnext").hide(),a.find(".pptimeleft").hide()):380+A>=$?(a.find(".ppprev").hide(),a.find(".ppnext").hide(),a.find(".pptimeleft").show()):(a.find(".ppprev").hide(),a.find(".ppnext").hide(),a.find(".pptimeleft").show())}var a=jQuery(this),i=a.parent(),r=a.attr("data-videoid"),s=(a.attr("data-videotheme"),a.attr("data-videoholder"),a.attr("data-videoposter")),n=a.attr("data-videoposterfit"),o=a.attr("data-videotitle"),l=a.attr("data-videoobjectfit"),d=a.attr("data-videoshare"),u=a.attr("data-videofallback"),c=a.attr("data-videoautoplay"),h=a.attr("data-videoautostop"),f=a.attr("data-videomobile"),p=a.attr("data-videorepeat"),m=a.attr("data-videofullscreen"),g=a.attr("data-videolightbox"),y=parseInt(a.attr("data-videovolume"))/100,v=(a.attr("data-videoscreensize"),a.attr("data-videomp4")),w=a.attr("data-videowebm"),j=a.attr("data-videoogg");if(""!=v&&""!=w&&""!=j)var Q=[{0:{src:v,type:"video/mp4"},1:{src:j,type:"video/ogg"},2:{src:w,type:"video/webm"}}];else if(""!=v&&""!=w&&""==j)var Q=[{0:{src:v,type:"video/mp4"},1:{src:w,type:"video/webm"}}];else if(""!=v&&""==w&&""!=j)var Q=[{0:{src:v,type:"video/mp4"},1:{src:j,type:"video/ogg"}}];else if(""!=v&&""==w&&""==j)var Q=[{0:{src:v,type:"video/mp4"}}];else var Q=[{}];var C=a.attr("data-logoshow"),b=a.attr("data-logoimage"),_=a.attr("data-logoheight"),S=parseInt(a.attr("data-logoopacity"))/100,x=a.attr("data-logoposition"),I=a.attr("data-logourl"),T=a.attr("data-logotitle"),k=a.attr("data-logotarget"),u=a.attr("data-videofallback"),$=i.width(),M=i.height(),D="false",V=(!(!navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/)),"false"),z=0,A=0,H=y,L=document.referrer,O=[];1==TS_VCSC_MobileDevice&&("false"==f&&(c="false"),y=1),projekktor("#"+r,{id:"'"+r+"'",platforms:["browser","android","ios","native","flash","vlc"],cookieExpiry:1,controls:!0,autoplay:!1,loop:"true"==p?!0:!1,title:o,volume:1,fixedVolume:!1,playerFlashMP4:u,playerFlashMP3:u,width:$,height:M,poster:s,iframe:!0,directEmbed:!0,enableFullscreen:"true"==m?!0:!1,forceFullViewport:!1,thereCanBeOnlyOne:!1,imageScaling:n,videoScaling:l,playlist:Q,playbackQuality:"SD",playbackQualities:[{key:"SD",minHeight:0,minWidth:0},{key:"HQ",minHeight:0,minWidth:0}],ratio:16/9,addplugins:O,plugin_logo:{image:b,logoClick:{callback:"openUrl",value:{url:I,target:k,pause:!0}}},plugin_share:{fadedelay:2e3,embed:{code:"",buttonText:"",headlineText:"",closeText:"",descText:""},links:{twitter:{buttonText:'<div class="Share_Twitter"></div>',text:o,code:"http://twitter.com/share?url="+L+"&text="+o},facebook:{buttonText:'<div class="Share_Facebook"></div>',text:o,code:"http://www.facebook.com/sharer.php?u="+L+"&t="+o},google:{buttonText:'<div class="Share_Google"></div>',text:o,code:"https://plus.google.com/share?url="+L},stumbleupon:{buttonText:'<div class="Share_StumbleUpon"></div>',text:o,code:"http://www.stumbleupon.com/submit?url="+L}}},plugin_postertitle:{html:o,autoHide:5,showOnMouseover:!1,showOnIdle:!0,showOnStarting:!0,showOnPaused:!0},plugin_controlbar:{showCuePoints:!1,logo:{src:b,title:T,callback:function(t){""!=I&&(t.setPause(),window.open(I,k))}}}},function(i){jQuery("#"+r).attr("data-player",i.getId()),jQuery("#"+r).removeClass("ts-projekktor-processing"),i.setVolume(y),1==TS_VCSC_MobileDevice&&(a.find(".ppcontrols").addClass("ppmobile"),a.find(".ppstart").addClass("ppmobile")),b&&(a.find("img.pplogo").addClass(x),"true"==d&&"bottomright"==x&&a.find("img.pplogo").addClass("shareactive"),""!=I&&a.find("img.pplogo").addClass("linked").attr("title",T),a.find("img.pplogo").css("max-height",_+"px"),a.find(".pplogo").css({"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*S+")",filter:"alpha(opacity="+100*S+")",zoom:"1","-khtml-opacity":S,"-moz-opacity":S,opacity:S}),a.find(".pplogo").find("img").addClass("pplogoimage"),""==I&&a.find(".pplogo").find("img").css("cursor","default")),i.addListener("fullscreen",function(e){e?(z=a.offset(),z=z.top,V="true",jQuery("body, html").addClass("ts-composer-extensions-noscroll")):(V="false",0!=jQuery(".nch-lb-main").length&&"none"==jQuery(".nch-lb-main").css("display")?jQuery("body, html").removeClass("ts-composer-extensions-noscroll"):0==t(".nch-lb-main").length&&jQuery("body, html").removeClass("ts-composer-extensions-noscroll"),jQuery("body, html").animate({scrollTop:z-100},250))}),i.addListener("state",function(t){if("PLAYING"==t&&(H=i.getVolume(),i.setVolume(1),i.setVolume(H),1==TS_VCSC_MobileDevice&&a.find(".ppcontrols").removeClass("ppmobile"),"true"==h)){{i.getId()}jQuery(".ts_html5_media_frame_insert").each(function(){if(jQuery(this).contents().find(".projekktor").hasClass("ppstateplaying")){var t=jQuery(this).contents().find(".projekktor");t.attr("data-player")!==r&&(t.find(".pppause").click(),t.find(".ppcontrols").removeClass("active").addClass("inactive"))}})}"COMPLETED"==t&&("true"==p&&i.setPlayPause(),setTimeout(function(){i.setVolume(y)},250))}),i.addListener("displayReady",function(){}),i.addListener("plugin_controlbarShow",function(){e(),H=i.getVolume(),i.setVolume(1),i.setVolume(H)}),jQuery(window).on("debouncedresize",function(){e(),"true"==c&&"false"==D&&("true"==g?"block"==t(".nch-lb-main").css("display")&&(D="true",i.setPlayPause()):(D="true",i.setPlayPause()))})})}),"undefined"!=typeof jQuery.fn.TS_VCSC_Adipoli&&(jQuery("img.ts-imageadipoli").each(function(){var t=jQuery(this).attr("data-start"),e=jQuery(this).attr("data-hover"),a=jQuery(this).attr("data-text"),i=jQuery(this).attr("data-frame"),r=jQuery(this).height(),s=jQuery(this).width();jQuery(this).height(r),jQuery(this).width(s),jQuery("#"+i).width(s),jQuery("#"+i+"-counter").width(s),jQuery(this).TS_VCSC_Adipoli({startEffect:t,hoverEffect:e,overlayText:a})}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-image-adipoli-frame").each(function(){var t=jQuery(this).find("img.ts-imageadipoli"),e=t.attr("data-responsive");if("true"==e){jQuery(this).find(".adipoli-before").remove(),jQuery(this).find(".adipoli-after").remove(),t.show();var a=t.attr("data-frame"),i=t.attr("data-width"),r=t.attr("data-height"),s=t.attr("data-handle"),n=parseInt(jQuery(this).find(".ts-image-adipoli-padding").css("padding-bottom"));jQuery("#"+a).width(i+"%"),jQuery("#"+a+"-counter").width("100%"),t.width("100%"),t.height(r),"true"==s?(t.unwrapUntil(".ts-image-adipoli-padding"),jQuery("#"+a+"-counter").height(t.height()+n+"px")):(t.unwrapUntil("#"+a+"-counter"),jQuery("#"+a+"-counter").height(t.height()+"px"));var o=t.attr("data-start"),l=t.attr("data-hover"),d=t.attr("data-text");r=t.height(),i=t.width(),jQuery("#"+a).width(i),jQuery("#"+a+"-counter").width(i),t.TS_VCSC_Adipoli({startEffect:o,hoverEffect:l,overlayText:d})}else{var a=t.attr("data-frame"),s=t.attr("data-handle"),n=parseInt(jQuery(this).find(".ts-image-adipoli-padding").css("padding-bottom"));jQuery("#"+a+"-counter").height("true"==s?t.height()+n+"px":t.height()+"px")}})})),jQuery(".ts-image-caman-canvas").each(function(){var t=jQuery(this).attr("data-effect"),e=jQuery(this).attr("data-number");Caman(this,function(){"vintage"==t?this.vintage():"lomo"==t?this.lomo():"clarity"==t?this.clarity():"sinCity"==t?this.sinCity():"sunrise"==t?this.sunrise():"crossProcess"==t?this.crossProcess():"orangePeel"==t?this.orangePeel():"love"==t?this.love():"grungy"==t?this.grungy():"jarques"==t?this.jarques():"pinhole"==t?this.pinhole():"oldBoot"==t?this.oldBoot():"glowingSun"==t?this.glowingSun():"hazyDays"==t?this.hazyDays():"herMajesty"==t?this.herMajesty():"nostalgia"==t?this.nostalgia():"hemingway"==t?this.hemingway():"concentrate"==t?this.concentrate():"emboss"==t?this.emboss():"greyscale"==t?this.greyscale():"invert"==t&&this.invert(),this.render(function(){var t=jQuery("#ts-image-caman-original-"+e).width();jQuery("#ts-image-caman-original-"+e).attr("data-width",t);var a=jQuery("#ts-image-caman-original-"+e).height();jQuery("#ts-image-caman-original-"+e).attr("data-height",a),jQuery(this).attr("data-camanwidth",t).attr("data-camanheight",a),jQuery(this).height(a),jQuery(this).width(t),jQuery("#ts-image-caman-process-"+e).hide(),jQuery("#ts-image-caman-handle-"+e).show()})})}),jQuery(".ts-image-magnify-container").each(function(){function t(){var t=s.width()*m,e=s.height()*m,a=s.offset();S.css("background-size",t,e);var i=S.width()/2,r=S.height()/2,n=-z*m+i+a.left*m,o=-A*m+r+a.top*m,l=n+"px "+o+"px";S.css({backgroundPosition:l});var d=(Math.round(100*m)/100).toFixed(1);S.attr("data-zoom",d),x.empty().html(d+"x"),I&&(k.val(d),T.empty().html(d+"x")),m=100*m/100,C&&(jQuery(document).bind("mousedown",c),jQuery(document).bind("mousewheel DOMMouseScroll wheel",h),jQuery(window).bind("scroll",h))}function e(t){clearTimeout(f),D=M.width()/100*n-S.width()/2,V=M.height()/100*o-S.height()/2;{var e=s.offset();s.width(),s.height()}z=e.left+D+S.width()/2,A=e.top+V+S.height()/2;var a=s.width()*m,i=s.height()*m,e=s.offset();S.css("background-size",a,i);var r=S.width()/2,l=S.height()/2,d=-z*m+r+e.left*m,u=-A*m+l+e.top*m,c=d+"px "+u+"px",h=z-r-e.left,p=A-l-e.top;t?S.animate({top:p,left:h},{duration:500,easing:"easeInOutBack",complete:function(){S.css({backgroundPosition:c}),S.attr("data-position",c)}}):(S.css({left:h,top:p,backgroundPosition:c}),S.attr("data-position",c))}function a(){clearTimeout(f),s.height("100%");var t=parseInt(s.attr("data-zoomsize")),a=s.find(".ts-image-magnify-preview"),i=s.find(".ts-image-magnify-glass"),r=0;s.height(a.height()),a.height()/2<i.height()?(r=a.height()/2,r>t&&(r=t),i.css("width",r),i.css("height",r)):a.height()/2<t?(r=a.height()/2,r>t&&(r=t),i.css("width",r),i.css("height",r)):(r=t,r>a.height()/2&&(r=a.height()/2),i.css("width",r),i.css("height",r)),e(!1)}var i=!1,r=!1,s=jQuery(this),n=parseInt(s.attr("data-zoomstartx")),o=parseInt(s.attr("data-zoomstarty")),l="true"==s.attr("data-zoomrestore")?!0:!1,d=parseInt(s.attr("data-zoomtimeout")),f="",p=parseInt(s.attr("data-zoomlevel")),m=(Math.round(100*p)/100).toFixed(1),g=0,y=((Math.round(100*p)/100).toFixed(1),parseInt(s.attr("data-zoomsize")),"true"==s.attr("data-zoomdrag")?!0:!1),v="true"==s.attr("data-zoomcircle")?!0:!1,w="true"==s.attr("data-zoomreflect")?!0:!1,j="true"==s.attr("data-zoomshow")?!0:!1,Q="true"==s.attr("data-zoomoutside")?!0:!1;Q||s.addClass("ts-image-magnify-contained");var C="true"==s.attr("data-zoommouse")?!0:!1,b=parseInt(s.attr("data-zoomwheel"))/100,_="true"==s.attr("data-zoompinch")?!0:!1,S=s.find(".ts-image-magnify-glass"),x=s.find(".ts-image-magnify-level"),I="true"==s.attr("data-zoomrange")?!0:!1,T=s.find(".ts-image-magnify-scale"),k=s.find(".ts-image-magnify-range"),$=s.find(".ts-image-magnify-link");0!=$.length&&"undefined"!=typeof $TS_VCSC_Magnify_Lightbox&&$.attr("title",$TS_VCSC_Magnify_Lightbox);var M=s.find(".ts-image-magnify-preview"),D=0,V=0,z=0,A=0;if(v?(S.addClass("ts-image-magnify-circle"),S.children(".ts-image-magnify-zoomed").addClass("ts-image-magnify-circle")):(S.removeClass("ts-image-magnify-circle"),S.children(".ts-image-magnify-zoomed").removeClass("ts-image-magnify-circle")),w?S.children(".ts-image-magnify-zoomed").addClass("ts-image-magnify-reflected"):S.children(".ts-image-magnify-zoomed").removeClass("ts-image-magnify-reflected"),y?(s.addClass("ts-image-magnify-dragging"),s.on("mousedown touchstart",function(){i=!0,s.trigger("mouseenter"),S.fadeIn(200)}),s.on("mouseup touchend",function(){i=!1,s.trigger("mouseleave"),j||S.fadeOut(200)})):(s.removeClass("ts-image-magnify-dragging"),s.on("touchstart",function(){s.trigger("mouseenter")}),s.on("mouseup touchend",function(){s.trigger("mouseleave")})),I&&(k.on("mousedown touchstart mouseenter",function(){C&&(jQuery(document).bind("mousedown",c),jQuery(document).bind("mousewheel DOMMouseScroll wheel",h),jQuery(window).bind("scroll",h)),r=!0}),k.on("mouseup touchend",function(){m=jQuery(this).val(),t(),r=!1}),k.on("mouseleave",function(){C&&(jQuery(document).bind("mousedown",c),jQuery(document).bind("mousewheel DOMMouseScroll wheel",h),jQuery(window).bind("scroll",h))}),"undefined"!=typeof $TS_VCSC_Magnify_ChangeLevel&&T.attr("title",$TS_VCSC_Magnify_ChangeLevel),T.on("click",function(){C&&(jQuery(document).bind("mousedown",c),jQuery(document).bind("mousewheel DOMMouseScroll wheel",h),jQuery(window).bind("scroll",h)),r=!0,k.slideToggle(),r=!1})),s.bind("mousemove "+S,function(t){if(t.preventDefault(),s.trigger("hover"),!r){var e=s.offset(),a=s.width(),n=s.height();if(t.pageX<a+e.left&&t.pageY<n+e.top&&t.pageX>0+e.left&&t.pageY>0+e.top?S.fadeIn(200):j||S.fadeOut(200),!y||i&&y){z=t.pageX,A=t.pageY;var o=s.width()*m,l=s.height()*m,e=s.offset();S.css("background-size",o,l);var d=S.width()/2,u=S.height()/2,c=-t.pageX*m+d+e.left*m,h=-t.pageY*m+u+e.top*m,f=c+"px "+h+"px",p=t.pageX-d-e.left,g=t.pageY-u-e.top;S.css({left:p,top:g,backgroundPosition:f}),S.attr("data-position",f)}}}),s.on("mouseleave touchend",function(){l&&(clearTimeout(f),f=setTimeout(function(){e(!0)},d),clearTimeout(f))}),TS_VCSC_SimulateTouchEvents(S,!1),_&&TS_VCSC_IsTouchDevice)if(1==$TS_VCSC_Hammer_ReleaseNew){var H=document.getElementById(s.attr("id")),L=new Hammer.Manager(H,{prevent_default:!0}),O=new Hammer.Pinch;L.add([O]),L.on("pinchin",function(t){return t.preventDefault(),r=!0,scale=t.scale,g=-Math.round(100*scale).toFixed(0)/100,!1}).on("pinchout",function(t){return t.preventDefault(),r=!0,scale=t.scale,g=(Math.round(150*scale)/4).toFixed(0)/100,g>10&&(g=10),!1}).on("pinchend",function(e){return e.preventDefault(),r&&(m=parseInt(S.attr("data-zoom"))+g,1>m?m=1:m>10&&(m=10),t(),r=!1),!1})}else{Hammer(s).on("pinchin",function(t){return t.preventDefault(),r=!0,scale=t.gesture.scale,g=-Math.round(100*scale).toFixed(0)/100,!1}).on("pinchout",function(t){return t.preventDefault(),r=!0,scale=t.gesture.scale,g=(Math.round(400*scale)/4).toFixed(0)/100,g>10&&(g=10),!1}).on("release",function(e){return e.preventDefault(),r&&(m=parseInt(S.attr("data-zoom"))+g,1>m?m=1:m>10&&(m=10),t(),r=!1),!1})}C&&!TS_VCSC_MobileDevice&&(s.on("mouseenter",function(){jQuery(document).bind("keydown",u),jQuery(document).bind("mousedown",c),jQuery(document).bind("mousewheel DOMMouseScroll wheel",h),jQuery(window).bind("scroll",h)}),s.on("mouseleave",function(){r||$TS_VCSC_Lightbox_Showing||(jQuery(document).unbind("keydown",u),jQuery(document).unbind("mousedown",c),jQuery(document).unbind("mousewheel DOMMouseScroll wheel",h),jQuery(window).unbind("scroll",h))}),s.bind("mousewheel",function(e,a){a>0?m+=b:m>1&&(m-=b),1>m?m=1:m>10&&(m=10),t()})),j&&S.fadeIn(200),S.attr("data-zoom",m),x.empty().html(m+"x"),m=parseInt(m),I&&(k.val(m),T.empty().html(m+"x")),jQuery(window).on("debouncedresize",function(){a()})}),jQuery(".ts-image-zoomer-container").each(function(){function e(){"tall"==n?(i.height("100%"),i.width("100%"),h=a.width(),f=h/o/2,i.css("width",h+"px"),i.css("height",f+"px")):(i.height("100%"),i.width("100%"),h=r.width(),f=r.height(),i.css("width",h+"px"),i.css("height",f+"px")),i.TS_VCSC_ImageZoomer("resize"),i.TS_VCSC_ImageZoomer("pan",50,50)}var a=jQuery(this),i=a.find(".ts-image-zoomer-viewer"),r=(a.find(".ts-image-zoomer-preview"),a.find(".ts-image-zoomer-holder")),s=a.attr("data-position"),n=a.attr("data-aspect"),o=a.attr("data-ratio"),l=(parseInt(a.attr("data-width")),parseInt(a.attr("data-height")),"true"==a.attr("data-scale")?!0:!1),d="true"==a.attr("data-reset")?!0:!1,u="true"==a.attr("data-rotate")?!0:!1,c="true"==a.attr("data-lightbox")?!0:!1,h=(a.width(),r.width()),f=r.height();r.show(),"tall"==n?(i.height("100%"),i.width("100%"),h=a.width(),f=h/o/2,i.css("width",h+"px"),i.css("height",f+"px")):(i.height("100%"),i.width("100%"),h=r.width(),f=r.height(),i.css("width",h+"px"),i.css("height",f+"px")),i.TS_VCSC_ImageZoomer({callback:t.noop,controls:{position:s,zoomIn:null,zoomOut:null,zoomLevel:null,next:null,previous:null,reset:null,rotate:null,lightbox:null},text:{zoomIn:$TS_VCSC_Magnify_ZoomIn,zoomOut:$TS_VCSC_Magnify_ZoomOut,zoomLevel:$TS_VCSC_Magnify_ZoomLevel,next:$TS_VCSC_Magnify_Next,previous:$TS_VCSC_Magnify_Previous,reset:$TS_VCSC_Magnify_Reset,rotate:$TS_VCSC_Magnify_Rotate,lightbox:$TS_VCSC_Magnify_Lightbox},customClass:"",enertia:.2,increment:.01,marginMin:0,marginMax:0,zoomLevel:l,reset:d,rotate:u,lightbox:c,retina:!1,source:null}),jQuery(window).on("debouncedresize",function(){e()})}),jQuery(".ts_html5_audio_hide").each(function(){"false"==jQuery(this).attr("data-show")&&jQuery(this).click()}),jQuery(".ts_html5_video_hide").each(function(){"false"==jQuery(this).attr("data-show")&&jQuery(this).click()}),jQuery(".ts-imagehover-truncate").each(function(){var t=jQuery(this),e=t.find(".maskcontent");jQuery(window).on("debouncedresize",function(){e.css("height","auto");var a=t.find(".mask").height(),i=t.find(".ts-image-hover-title").outerHeight(!0),r=t.find(".ts-image-hover-button").outerHeight(!0);if(""!=e)var s=parseInt(e.css("paddingTop").replace("px",""))+parseInt(e.css("paddingBottom").replace("px","")),n=parseInt(e.css("marginTop").replace("px",""))+parseInt(e.css("marginBottom").replace("px",""));else var s=0,n=0;var o=a-i-r-s-n;0!=e.find(".badonkatrunc-wrapper").length&&e.badonkatrunc("destroy"),e.css("height",o+"px"),e.badonkatrunc({automaticSizeTracking:!1,fitDirection:"vertical",minimumFontSize:1,fontSizeSynced:!0,letterSpacingSynced:!0,truncate:!0,truncateOnlyWholeWords:!0}),setTimeout(function(){e.badonkatrunc("refresh"),e.height(e.find(".badonkatrunc-wrapper").outerHeight(!0))},100)})}),jQuery(".ts-logohover-truncate").each(function(){var t=jQuery(this),e=t.find(".logotitle");jQuery(window).on("debouncedresize",function(){if(0!=e.length){e.css("height","auto");var a=t.find(".mask").height(),i=t.find(".maskcontent").outerHeight(!0),r=parseInt(e.css("paddingTop").replace("px",""))+parseInt(e.css("paddingBottom").replace("px","")),s=parseInt(e.css("marginTop").replace("px",""))+parseInt(e.css("marginBottom").replace("px","")),n=a-i-r-s;0!=e.find(".badonkatrunc-wrapper").length&&e.badonkatrunc("destroy"),e.css("height",n+"px"),e.badonkatrunc({automaticSizeTracking:!1,fitDirection:"horizontal",minimumFontSize:.75,maximumFontSize:1.75,fontSizeSynced:!0,letterSpacingSynced:!0,truncate:!0,truncateOnlyWholeWords:!1}),setTimeout(function(){e.badonkatrunc("refresh"),e.height("auto")},100)}})}),jQuery(window).on("debouncedresize",function(){r(),s(),n(),o(),d(),l(),r(),s(),n(),o(),d(),l()}),"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".ts-dual-buttons-container-viewport, .ts-dual-buttons-link-viewport, .ts-dual-buttons-separator-viewport").each(function(){jQuery(this).css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});jQuery(this).waypoint({handler:function(){var t=jQuery(this),e=(t.attr("data-type"),t.attr("data-animation")),a=parseInt(t.attr("data-delay"));setTimeout(function(){t.css({opacity:t.attr("data-opacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*t.attr("data-opacity")+')"',filter:"alpha(opacity="+100*t.attr("data-opacity")+")","-moz-opacity":t.attr("data-opacity"),"-khtml-opacity":t.attr("data-opacity")}),t.addClass(e),setTimeout(function(){t.removeClass(e),t.removeClass("ts-dual-buttons-link-viewport");try{t.waypoint("destroy")}catch(a){}try{$this.destroy()}catch(a){}},2e3)},a)},offset:"bottom-in-view",triggerOnce:!0})}),"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".ts-vcsc-font-icon-viewport").each(function(){jQuery(this).css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"',filter:"alpha(opacity=0)","-moz-opacity":0,"-khtml-opacity":0});jQuery(this).waypoint({handler:function(){var t=jQuery(this),e=t.attr("data-type"),a=t.attr("data-viewport"),i=parseInt(t.attr("data-delay")),r=t.attr("data-animation"),s=t.attr("data-animation");setTimeout(function(){t.css({opacity:t.attr("data-opacity"),"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*t.attr("data-opacity")+')"',filter:"alpha(opacity="+100*t.attr("data-opacity")+")","-moz-opacity":t.attr("data-opacity"),"-khtml-opacity":t.attr("data-opacity")}),"icon"==e?t.find("i").addClass(a).removeClass(r).removeClass(s):"image"==e&&t.find("img").addClass(a).removeClass(r).removeClass(s),setTimeout(function(){t.removeAttr("data-viewport"),"icon"==e?t.find("i").removeClass(a).addClass(s):"image"==e&&t.find("img").removeClass(a).addClass(s),t.removeClass("ts-vcsc-font-icon-viewport");try{t.waypoint("destroy")}catch(i){}try{$this.destroy()}catch(i){}},2e3)},i)},offset:"bottom-in-view",triggerOnce:!0})}),jQuery(document).on("mouseover mouseenter touchstart",".ts-vcsc-font-icon",function(){{var t=jQuery(this),e=t.attr("data-type");t.hasClass("ts-has-tooltipster-tooltip")}if("icon"==e)var a=t.find("i");else if("image"==e)var a=t.find("img");var i=t.attr("data-animation"),r=t.attr("data-active");""==i||a.hasClass(i)||a.addClass("ts-hover-css-triggered").removeClass(r).addClass(i)}),jQuery(document).on("mouseout mouseleave touchend",".ts-vcsc-font-icon",function(){{var t=jQuery(this),e=t.attr("data-type");t.hasClass("ts-has-tooltipster-tooltip")}if("icon"==e)var a=t.find("i");else if("image"==e)var a=t.find("img");var i=t.attr("data-animation"),r=t.attr("data-active");""!=i&&a.removeClass("ts-hover-css-triggered").removeClass(i).addClass(r)}),p(),jQuery(window).on("debouncedresize",function(){jQuery(".flip-container-frame.auto").each(function(){jQuery(this).height("100%"),jQuery(this).find(".flip-container-flipper-front").css("height","100%"),jQuery(this).find(".flip-container-flipper-back").css("height","100%")}),jQuery(".ts-flip-cube.auto").each(function(){jQuery(this).find(".ts-front").find(".ts-flip-content").css("height","100%"),jQuery(this).find(".ts-back").find(".ts-flip-content").css("height","100%"),jQuery(this).height("100%")}),p()}),TS_VCSC_Supports3D?(jQuery(".flip-container-frame").on("click mouseenter mouseleave touchstart touchend tap",function(t){var e=jQuery(this),a=e.attr("data-trigger");TS_VCSC_MobileDevice&&(a="click");var i=e.find(".ts-font-icon"),r=e.find(".ts-font-icon").attr("data-animation"),s=e.find(".flip-container-main").attr("data-speed");if("hover"==a)"mouseenter"===t.type||"touchstart"===t.type?i.removeClass(r):("mouseleave"===t.type||"touchend"===t.type)&&window.setTimeout(function(){i.addClass(r)},parseInt(s));else if("click"==a){if(jQuery(t.target).is("a"))return;("click"===t.type||"tap"===t.type)&&(e.hasClass("flip-container-frame-triggered")?(e.removeClass("flip-container-frame-triggered"),window.setTimeout(function(){i.addClass(r)},parseInt(s))):(i.removeClass(r),e.addClass("flip-container-frame-triggered")))}}),jQuery(".ts-flip-cube").on("click mouseenter mouseleave touchstart touchend tap",function(t){var e=jQuery(this),a=e.attr("data-trigger");if(TS_VCSC_MobileDevice&&(a="click"),"click"==a){if(jQuery(t.target).is("a"))return;("click"===t.type||"tap"===t.type)&&(console.log("Triggered"),e.hasClass("ts-flip-cube-triggered")?e.removeClass("ts-flip-cube-triggered"):e.addClass("ts-flip-cube-triggered"))}})):(jQuery(".flip-container-frame").on("click mouseenter mouseleave touchstart touchend tap",function(t){var e=jQuery(this),a=e.attr("data-trigger");TS_VCSC_MobileDevice&&(a="click");var i=e.find(".ts-font-icon"),r=e.find(".ts-font-icon").attr("data-animation"),s=e.find(".flip-container-main").attr("data-speed"),n=e.find(".flip-container-flipper-front"),o=e.find(".flip-container-flipper-back");if("hover"==a)"mouseenter"===t.type||"touchstart"===t.type?(i.removeClass(r),n.fadeOut(s),o.fadeIn(s)):("mouseleave"===t.type||"touchend"===t.type)&&(window.setTimeout(function(){i.addClass(r)},parseInt(s)),o.fadeOut(s),n.fadeIn(s));else if("click"==a){if(jQuery(t.target).is("a"))return;("click"===t.type||"touchstart"===t.type)&&(e.hasClass("flip-container-frame-triggered")?(e.removeClass("flip-container-frame-triggered"),window.setTimeout(function(){i.addClass(r)},parseInt(s)),o.fadeOut(s),n.fadeIn(s)):(i.removeClass(r),n.fadeOut(s),o.fadeIn(s),e.addClass("flip-container-frame-triggered")))}}),jQuery(".ts-flip-cube").on("click mouseenter mouseleave touchstart touchend tap",function(t){var e=jQuery(this),a=e.attr("data-trigger");if(TS_VCSC_MobileDevice&&(a="click"),"click"==a){if(jQuery(t.target).is("a"))return;("click"===t.type||"tap"===t.type)&&(e.hasClass("ts-flip-cube-triggered")?e.removeClass("ts-flip-cube-triggered"):e.addClass("ts-flip-cube-triggered"))}})),jQuery(".ts-owlslider-parent").each(function(){function t(t){L=t.item.count,$total_pages=t.page.count,$=(new Date).setTime((new Date).getTime()+0),M=(new Date).setTime((new Date).getTime()+1e3*A),D=100,jQuery("#ts-owlslider-progressbar-"+u).detach().prependTo(jQuery("#"+d)),c.length>0&&c.detach().prependTo(jQuery("#"+d)),v?jQuery("#"+d).find(".owl-dots").show():jQuery("#"+d).find(".owl-dots").hide(),window.setTimeout(function(){e(),jQuery(window).trigger("debouncedresize")},250),window.setTimeout(function(){Z.trigger("refresh.owl.carousel"),s()},500)}function e(){if(1==f&&1==p){s(),jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","0%"),k=!1,isRunning=!1;var t=1e3,e=60*t,a=3600*t,i=86400*t;$=(new Date).setTime((new Date).getTime()+0),M=(new Date).setTime((new Date).getTime()+1e3*A);var r=M-$;Y=setInterval(function(){if(k===!1){V>0&&(M+=V,$+=V,r=M-$,V=0);var s=M-new Date,o=new Date-$,l=parseInt(s/i),d=parseInt((s-l*i)/a),c=parseInt((s-l*i-d*a)/e),h=(parseInt((s-l*i-c*e-d*a)/t),o>0?o/r*D:0);jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width",h+"%").attr("data-progress",h)
}h>=100&&(n(),jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","100%"),jQuery("#ts-owlslider-controls-next-"+u).click())},D),G[K]=Y,K++}}function a(){0==H&&(k=!0)}function r(){0==H&&(k=!1,jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","0%"),e())}function s(){if(1==h){var t=jQuery("#"+d).find(".owl-stage").find(".active").length,e=jQuery("#"+d).find(".owl-stage .owl-item.active").first().height();if(1==t)var a=e;else{var i=Math.max.apply(null,jQuery("#"+d).find(".owl-stage").find(".active").map(function(){return jQuery(this).height()}).get());if(i>e)var a=i;else var a=e}jQuery("#"+d).find(".owl-stage-outer").height(a+5)}}function n(){if(null!=Y){for(i=0;i<G.length;i++)void 0!=G[i]&&"undefined"!=G[i]&&clearInterval(G[i]);G=[],Y=null}}if(jQuery(this).hasClass("ts-vcsc-anyslider"))var o=!0;else var o=!1;if(jQuery(this).hasClass("ts-lightbox-gallery-slider"))var l=!0;else var l=!1;var d=jQuery(this).attr("id"),u=jQuery(this).attr("data-id"),c=jQuery("#ts-owlslider-controls-"+u),h="true"==jQuery(this).attr("data-height")?!0:!1,f="true"==jQuery(this).attr("data-play")?!0:!1,p=jQuery(this).attr("data-bar"),m=parseInt(jQuery(this).attr("data-speed"));1==f&&("false"==p?(p=!1,f=!0):(p=!0,f=!0));var g="true"==jQuery(this).attr("data-hover")?!0:!1,y="true"==jQuery(this).attr("data-navigation")?!0:!1,v="true"==jQuery(this).attr("data-dots")?!0:!1,w="true"==jQuery(this).attr("data-hashlinks")?!0:!1;if(w){var j=jQuery(this).attr("data-hashname");""==j?w=!1:jQuery(this).children().each(function(t){jQuery(this).attr("data-hash",j+t)})}var Q="true"==jQuery(this).attr("data-loop")?!0:!1,C="true"==jQuery(this).attr("data-center")?!0:!1,b="true"==jQuery(this).attr("data-rtl")?!0:!1,_="true"==jQuery(this).attr("data-mobile")?!0:!1;if(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&1==_)var S=jQuery(this).attr("data-animationin"),x=jQuery(this).attr("data-animationout");else var S="",x="";var I=(jQuery(this).attr("data-color"),jQuery(this).attr("data-items"));if(o)var T=parseInt(jQuery(this).attr("data-margin"));else if(l)var T=parseInt(jQuery(this).attr("data-margin"));else var T=10;var k,$,M,D,V,z=jQuery(this).parent(),A=parseInt(m)/1e3,H=!1,L=0;$total_pages=0,$isLastItem=!1,$isFirstItem=!0,$isFirstPage=!0,$isLastPage=!1;var O=($current=$before=$after=$change=null,f),F="true"==jQuery(this).attr("data-breakpointscustom")?!0:!1,P=jQuery(this).attr("data-breakpointitems");if(""!=P&&void 0!=P&&1==F?(P=P.split(","),8!=P.length&&(F=!1)):F=!1,F)var E=1==parseInt(I)?1:parseInt(I)>P[0]?P[0]:parseInt(I),W=1==parseInt(I)?1:parseInt(I)>P[1]?P[1]:parseInt(I),B=1==parseInt(I)?1:parseInt(I)>P[2]?P[2]:parseInt(I),N=1==parseInt(I)?1:parseInt(I)>P[3]?P[3]:parseInt(I),R=1==parseInt(I)?1:parseInt(I)>P[4]?P[4]:parseInt(I),q=1==parseInt(I)?1:parseInt(I)>P[5]?P[5]:parseInt(I),X=1==parseInt(I)?1:parseInt(I)>P[6]?P[6]:parseInt(I),U=1==parseInt(I)?1:parseInt(I)>P[7]?P[7]:parseInt(I);else var E=1,W=1==parseInt(I)?1:parseInt(I)>2?2:parseInt(I),B=1==parseInt(I)?1:parseInt(I)>3?3:parseInt(I),N=1==parseInt(I)?1:parseInt(I)>4?4:parseInt(I),R=1==parseInt(I)?1:parseInt(I)>5?5:parseInt(I),q=1==parseInt(I)?1:parseInt(I)>6?6:parseInt(I),X=1==parseInt(I)?1:parseInt(I)>7?7:parseInt(I),U=1==parseInt(I)?1:parseInt(I)>8?8:parseInt(I);"rtl"==jQuery("body").css("direction")&&0==b&&jQuery(this).css("direction","ltr");var Y=null,K=0,G=[],Z=jQuery(this).owlCarousel2({animateOut:x,animateIn:S,margin:T,smartSpeed:450,autoHeight:h,responsive:{0:{items:E},360:{items:W},720:{items:B},960:{items:N},1280:{items:R},1440:{items:q},1600:{items:X},1920:{items:U}},responsiveClass:!0,responsiveBaseElement:z,responsiveRefreshRate:250,items:parseInt(I),loop:Q,center:C,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,stagePadding:0,startPosition:0,URLhashListener:w,rtl:b,nav:!1,navRewind:!0,navText:["<",">"],dots:v,dotsEach:!1,buttons:!1,autoplay:0==p?f:!1,autoplayTimeout:parseInt(m),autoplayHoverPause:g,onInitialized:t,onDrag:a,onDragged:r});1==f&&($play_start=jQuery("#ts-owlslider-controls-play-"+u),$play_start.on("click",function(){if(jQuery(this).hasClass("active")){var t=new Date;k=!0,O=!1,H=!0,V=0,jQuery(this).attr("data-mouseenterTime",t.getTime()),0==p&&Z.trigger("stop.owl.autoplay"),jQuery(this).removeClass("active"),jQuery(this).find("span").alterClass("ts-ecommerce-*","ts-ecommerce-play")}else{var t=new Date;k=!1,O=!0,H=!1,V=t.getTime()-jQuery(this).attr("data-mouseenterTime"),1==p?jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","0%"):Z.trigger("play.owl.autoplay"),jQuery(this).addClass("active"),jQuery(this).find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause");var e=0,a=jQuery("#"+d).find(".owl-stage").children(".owl-item").length;jQuery("#"+d).find(".owl-stage").children(".owl-item").each(function(){e++,e==a&&jQuery(this).hasClass("active")&&($isLastItem=!0,$isFirstItem=!1)}),(1==$isLastItem&&0==Q&&0==p||jQuery("#"+d).find(".owl-stage .owl-item:last-child").hasClass("active")&&0==Q&&0==p)&&Z.trigger("to.owl.carousel",[0,0])}})),(1==y||1==f)&&($play_prev=jQuery("#ts-owlslider-controls-prev-"+u),$play_next=jQuery("#ts-owlslider-controls-next-"+u),$play_refresh=jQuery("#ts-owlslider-controls-refresh-"+u),$play_prev.on("click",function(){1==f&&0==p&&Z.trigger("stop.owl.autoplay"),1==p&&(k=!0,jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","100%"),n()),jQuery("#ts-owlslider-controls-play-"+u).addClass("active").find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause"),1==$isFirstItem&&0==Q?1==C?Z.trigger("to.owl.carousel",[L-1,0]):Z.trigger("to.owl.carousel",[$total_pages-1,0]):Z.trigger("prev.owl.carousel")}),$play_next.on("click",function(){1==f&&0==p&&Z.trigger("stop.owl.autoplay"),1==p&&(k=!0,jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","100%"),n()),jQuery("#ts-owlslider-controls-play-"+u).addClass("active").find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause"),1==$isLastItem&&0==Q?Z.trigger("to.owl.carousel",[0,0]):Z.trigger("next.owl.carousel")}),$play_refresh.on("click",function(){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)})),Z.find(".owl-stage-outer").on("mouseenter mouseleave",function(t){if(1==f&&1==p&&1==g)if(0==H){var e=new Date;"mouseenter"===t.type||"touchstart"===t.type?(k=!0,V=0,jQuery(this).attr("data-mouseenterTime",e.getTime()),O=!1):("mouseleave"===t.type||"touchend"===t.type)&&(k=!1,V=e.getTime()-jQuery(this).attr("data-mouseenterTime"),O=!0)}else k=!0,V=0,O=!1;else 1==f&&0==p&&1==g&&1==H&&(k=!0,V=0,O=!1)}),Z.on("change.owl.carousel",function(t){if(t.namespace&&"position"==t.property.name){var e=t.relatedTarget;$current=t.item.index+1,L=t.item.count,$before=e.relative(e.normalize(e.current(),!1))+1,$after=e.relative(e.normalize(t.property.value,!1))+1,$change=!0,1==f&&1==p&&1==g||1==f&&1==p&&0==g?(1==p&&(jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","100%"),n()),0==O&&1==f&&0==H&&(O=!0),0==O&&1==f&&0==H&&(O=!0)):1==f&&0==p&&1==g&&(0==O&&1==f&&0==H&&(O=!0),0==O&&1==f&&0==H&&(O=!0))}}),Z.on("changed.owl.carousel",function(t){!t.namespace||"position"!=t.property.name}),Z.on("resized.owl.carousel",function(){window.setTimeout(function(){o&&(jQuery(window).trigger("debouncedresize"),s())},500)}),Z.on("translated.owl.carousel",function(t){if(L=t.item.count,$total_pages=t.page.count,0==t.item.index?($isFirstItem=!0,$isFirstPage=!0):($isFirstItem=!1,$isFirstPage=0==t.page.index?!0:!1),0==Q&&1==C||1==Q&&1==C?t.item.index==L-1?($isLastItem=!0,$isLastPage=!0):($isLastItem=!1,$isLastPage=t.page.index==$total_pages-1?!0:!1):(0==Q&&0==C||1==Q&&0==C)&&(t.page.index==t.page.count-1?($isLastItem=!0,$isLastPage=!0):($isLastItem=!1,$isLastPage=t.page.index==$total_pages-1?!0:!1)),1==f&&1==p&&1==g)jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","0%"),V=0,window.setTimeout(function(){e()},0);else if(1==f&&1==p&&0==g)jQuery("#ts-owlslider-progressbar-"+u).children(".ts-owlslider-progressbar").css("width","0%"),V=0,window.setTimeout(function(){e()},0);else if(1==f&&0==p&&1==g){V=0,1==H&&0==p&&Z.trigger("stop.owl.autoplay");{jQuery("#"+d).find(".owl-stage").children(".owl-item").length}1==$isLastItem&&0==Q&&0==H&&1==f&&window.setTimeout(function(){jQuery("#ts-owlslider-controls-next-"+u).click()},parseInt(m))}else if(1==f&&0==p&&0==g){{jQuery("#"+d).find(".owl-stage").children(".owl-item").length}1==$isLastItem&&0==Q&&0==H&&1==f&&window.setTimeout(function(){jQuery("#ts-owlslider-controls-next-"+u).click()},parseInt(m))}s()})}),jQuery(".ts-flexslider-container").each(function(){if(!jQuery(this).hasClass("ts-timeline-css-flexslider-container")){var t=jQuery(this),e=t.attr("data-id"),a="true"==t.attr("data-combo")?!0:!1,i=t.attr("data-main"),r=t.attr("data-thumbs"),s=jQuery("#"+i).attr("data-breaks"),n=jQuery("#"+r).attr("data-breaks"),o="true"==t.attr("data-frontend")?!0:!1,l=t.width(),d=t.attr("data-animation"),u="true"==t.attr("data-navigation")?!0:!1,c="true"==t.attr("data-scrollthumbs")?!0:!1,h="true"==t.attr("data-scrollsingle")?!0:!1,f="",p=0,m=!1,v=!0,w="true"==t.attr("data-rtl")?!0:!1,j="true"==t.attr("data-play")?!0:!1,Q=j,C=parseInt(t.attr("data-speed")),b=600,_="true"==t.attr("data-bar")?!0:!1,S="true"==t.attr("data-hover")?!0:!1,x=!0,I=0,T=parseInt(t.attr("data-margin")),k=parseInt(t.attr("data-images"));if("fade"==d&&0==a&&(k=1),1==k&&0==a&&(T=0),t.hasClass("ts-anyslider-flexslider-container"))var $=".slides > div",M=!0;else var $=".slides > li",M=!1;var D,V,z,A,H,L,O,F,P,E="",W="",B=parseInt(C)/1e3,N=!1;if("rtl"==jQuery("body").css("direction")&&0==$page_rtl&&jQuery(this).css("direction","ltr"),jQuery("#"+i).find(".slides").on("mouseenter mouseleave",function(t){if(1==j&&1==_&&1==S)if(0==N){var e=new Date;"mouseenter"===t.type||"touchstart"===t.type?(A=!0,P=0,jQuery(this).attr("data-mouseenterTime",e.getTime()),Q=!1):("mouseleave"===t.type||"touchend"===t.type)&&(A=!1,P=e.getTime()-jQuery(this).attr("data-mouseenterTime"),Q=!0)}else A=!0,P=0,Q=!1;else 1==j&&0==_&&1==S&&1==N&&(A=!0,P=0,Q=!1)}),1==j){var R=jQuery("#ts-flexslider-controls-play-"+e);R.on("click",function(){if(jQuery(this).hasClass("active")){var t=new Date;A=!0,Q=!1,N=!0,P=0,jQuery(this).attr("data-mouseenterTime",t.getTime()),0==_&&E.stop(),jQuery(this).removeClass("active"),jQuery(this).find("span").alterClass("ts-ecommerce-*","ts-ecommerce-play"),1==j&&1==_&&(jQuery("#ts-flexslider-progressbar-container-"+e).children(".ts-flexslider-progressbar").css("width","0%"),clearInterval(H),q(j,_,e,L,O,B,H,F,A,Q,P,V))}else{var t=new Date;A=!1,Q=!0,N=!1,P=0,1==_?jQuery("#ts-flexslider-progressbar-container-"+e).children(".ts-flexslider-progressbar").css("width","0%"):E.play(),jQuery(this).addClass("active"),jQuery(this).find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause"),1==j&&1==_&&(clearInterval(H),q(j,_,e,L,O,B,H,F,A,Q,P,V))}})}var W;o||1!=a||jQuery("#"+r).TS_VCSC_FlexSlider({animation:"slide",direction:"horizontal",controlNav:u,animationLoop:!0,reverse:!1,smoothHeight:m,slideshow:!1,pauseOnAction:!1,pauseOnHover:!0,itemWidth:l/g(t,n)-T,itemMargin:T,startAt:0,minItems:g(t,n),maxItems:g(t,n),move:0,asNavFor:"#"+i,prevText:"",nextText:"",rtl:w,mousewheel:c,start:function(e){W=e,e.slides.removeClass("current");for(var a=0,i=g(t,n),s=0;i>s;s++)e.slides.eq(s).addClass("current"),1==v&&e.slides.eq(s).height()>a&&(a=e.slides.eq(s).height());1==v&&jQuery("#"+r).stop().animate({height:a},250)},before:function(e){var a=0,s=g(t,n);e.slides.removeClass("current");for(var o=0;s>o;o++)e.slides.eq(o+e.animatingTo*s).addClass("current"),1==v&&e.slides.eq(o+e.animatingTo*s).height()>a&&(a=e.slides.eq(o+e.animatingTo*s).height());1==v&&a!=jQuery("#"+i).height()&&jQuery("#"+r).stop().animate({height:a},b/2)},after:function(){},end:function(){},added:function(){},removed:function(){}});var E;jQuery("#"+i).TS_VCSC_FlexSlider({animation:d,direction:"horizontal",selector:$,controlNav:1==a?!1:u,animationLoop:1==a?!1:!0,smoothHeight:m,reverse:!1,slideshow:1==j&&1==_?!1:j,slideshowSpeed:C,animationSpeed:b,pauseOnAction:!1,pauseOnHover:1==j&&1==_?!1:S,pausePlay:!0,pauseText:"",playText:"",initDelay:0,itemWidth:1==a?0:l/y(t,s,k)-T,itemMargin:T,minItems:1==a?1:y(t,s,k),maxItems:1==a?0:y(t,s,k),move:1,startAt:0,prevText:"",nextText:"",sync:1==o||0==a?"":"#"+r,rtl:w,mousewheel:1==a?!1:h,start:function(a){E=a,$isPlaying=a.playing,V=a.find(".flex-next"),z=a.find(".flex-prev"),jQuery("#ts-flexslider-controls-"+e).show(),j&&_&&(L=(new Date).setTime((new Date).getTime()+0),O=(new Date).setTime((new Date).getTime()+1e3*B),F=100,A=!1,q(j,_,e,L,O,B,H,F,A,Q,P,V)),a.slides.removeClass("current"),u&&(f=E.find(".flex-control-paging"),p=f.height()+10),M&&1==y(t,s,k)&&a.slides.each(function(){w?jQuery(this).css("margin","0 "+T+"px 0 0"):jQuery(this).css("margin","0 0 0 "+T+"px")});for(var r=0,n=0;n<y(t,s,k);n++)a.slides.eq(n).addClass("current"),1==v&&a.slides.eq(n).height()>r&&(r=a.slides.eq(n).height());1==v&&jQuery("#"+i).stop().animate({height:r+p},250)},before:function(a){$isPlaying=a.playing,j&&_&&(clearInterval(H),window.setTimeout(function(){q(j,_,e,L,O,B,H,F,A,Q,P,V)},b));var r=0;a.slides.removeClass("current");for(var n=0;n<y(t,s,k);n++)a.slides.eq(n+a.animatingTo).addClass("current"),1==v&&a.slides.eq(n+a.animatingTo).height()>r&&(r=a.slides.eq(n+a.animatingTo).height());r+=p,1==v&&r!=jQuery("#"+i).height()&&jQuery("#"+i).stop().animate({height:r},b/2)},after:function(t){$isPlaying=t.playing,I=t.currentSlide,D=t.count,0==Q&&1==j&&0==N&&(Q=!0),I==D-1?j&&Q&&setTimeout(function(){jQuery("#"+i).data("flexslider").flexAnimate(0,!0),1==a&&jQuery("#"+r).data("flexslider").flexAnimate(0,!0),0==_&&(E.stop(),E.play())},C):j&&Q&&0==_&&(E.stop(),E.play())},end:function(){}}),jQuery(window).on("debouncedresize",function(){if(l=t.width(),!o){if(1==a){var e=g(t,n),d=l/e-T;""!=W&&(W.vars.minItems=e,W.vars.maxItems=e,W.vars.itemWidth=d,W.setup())}else if(0==a){var e=y(t,s,k),d=l/e-T;""!=E&&(E.vars.minItems=e,E.vars.maxItems=e,E.vars.itemWidth=d)}""!=E&&E.setup(),setTimeout(function(){jQuery("#"+i).data("flexslider").flexAnimate(0,!0)},b),setTimeout(function(){var e=0;if(I=0,""!=E){E.slides.removeClass("current");for(var o=0;o<y(t,s,k);o++)E.slides.eq(o+I).addClass("current"),1==v&&E.slides.eq(o+I).height()>e&&(e=E.slides.eq(o+I).height());e+=p,1==v&&e!=jQuery("#"+i).height()&&jQuery("#"+i).stop().animate({height:e},b/2),E.update()}if(1==a&&""!=W){e=0,W.slides.removeClass("current");for(var l=g(t,n),o=0;l>o;o++)W.slides.eq(o).addClass("current"),1==v&&W.slides.eq(o).height()>e&&(e=W.slides.eq(o).height());1==v&&e!=jQuery("#"+r).height()&&jQuery("#"+r).stop().animate({height:e},b/2),W.update(),jQuery("#"+r).find(".flex-control-nav").find("li:first").find("a").click()}else jQuery("#"+i).find(".flex-control-nav").find("li:first").find("a").click()},b)}});var q=function(){if(1==j&&1==_){jQuery("#ts-flexslider-progressbar-container-"+e).children(".ts-flexslider-progressbar").css("width","0%"),isRunning=!1;var t=1e3,a=60*t,i=3600*t,r=86400*t;L=(new Date).setTime((new Date).getTime()+0),O=(new Date).setTime((new Date).getTime()+1e3*B);var s=O-L;H=setInterval(function(){if(A===!1&&Q){P>0&&(O+=P,L+=P,s=O-L,P=0);var n=O-new Date,o=new Date-L,l=parseInt(n/r),d=parseInt((n-l*r)/i),u=parseInt((n-l*r-d*i)/a),c=(parseInt((n-l*r-u*a-d*i)/t),o>0?o/s*F:0);jQuery("#ts-flexslider-progressbar-container-"+e).children(".ts-flexslider-progressbar").css("width",c+"%").attr("data-progress",c)}c>=100&&(clearInterval(H),jQuery("#ts-flexslider-progressbar-container-"+e).children(".ts-flexslider-progressbar").css("width","100%"),V.click())},F)}};x&&jQuery("#"+i).find(".nch-lightbox-media").each(function(){jQuery(this).on("click",function(){_&&j&&0==N?(A=!0,Q=!1,N=!0,jQuery("#ts-flexslider-progressbar-container-"+e).children(".ts-flexslider-progressbar").css("width","0%"),P=0,clearInterval(H),R.click()):0==_&&j&&(E.stop(),R.click())})})}}),jQuery(".ts-slickslider-general-container").each(function(){var t=jQuery(this),e="true"==t.attr("data-frontendedit")?!0:!1;if(e)return!1;var a=t.attr("data-thumbnails"),i=(t.attr("data-identifier"),t.find(".ts-slickslider-general-slider")),r=parseInt(i.attr("data-spacing"))/2;if(t.hasClass("ts-vcsc-anyslider"))var s=!0;else var s=!1;if(s&&i.children().each(function(){jQuery(this).hasClass("ts-slickslider-general-wings")||jQuery(this).hasClass("ts-slickslider-general-autoplay")||jQuery(this).wrap('<div id="" class="ts-slickslider-section" style="margin: 0 '+r+'px;"></div>')}),"thumbsbottom"==a||"thumbstop"==a)var n=i.attr("data-asnavfor"),o=t.find(".ts-slickslider-general-thumbs"),l=o.attr("data-asnavfor");else var n=null,o=null,l=null;var d=i.find(".ts-slickslider-section").length-1,u=i.attr("data-singlemode"),c="true"==i.attr("data-rtlmode")?!0:!1,h="true"==i.attr("data-autoplay")?!0:!1,f="true"==i.attr("data-bullets")?!0:!1,p="true"==i.attr("data-infinite")?!0:!1,m=parseInt(i.attr("data-interval")),g="true"==i.attr("data-centermode")?!0:!1,y=("true"==i.attr("data-wingshow")?!0:!1,parseInt(i.attr("data-wingwidth"))),v=(parseInt(i.attr("data-wingminimum")),i.attr("data-scrollitems")),w=parseInt(i.attr("data-maxitems"));"singlenone"!=u&&(w=1);var j=parseInt(i.attr("data-initialitem"));j>d&&(j=d);var Q=[],C=i.attr("data-breakpoints");C=C.split(",");{var b=[],_=1280,S=1;TS_VCSC_GetClosestEvenNumber(Math.ceil(_/100*y)),i.width()}if(jQuery.each(C,function(t){b=C[t].split("/"),_=parseInt(b[0]),S=parseInt(b[1]),Q.push({breakpoint:_,settings:{arrows:!0,centerMode:g,centerPadding:y+"%",slidesToShow:"singlenone"!=u?1:S>w?w:S,slidesToScroll:"single"==v||"singlenone"!=u?1:S>w?w:S}})}),i.on("init",function(){}),i.slick({respondTo:"slider",lazyLoad:"ondemand",asNavFor:null!=n?"#"+n:null,autoplay:h,autoplaySpeed:m,pauseOnHover:!0,pauseOnDotsHover:!0,pauseOnFocus:!0,dots:f,arrows:!0,slide:".ts-slickslider-section",initialSlide:j,fade:"singlefade"==u?!0:!1,centerMode:"visible"==v||"singlefade"==u?!1:g,centerPadding:y+"%",infinite:p,slidesToShow:w,slidesToScroll:"single"==v||"singlenone"!=u?1:w,speed:500,adaptiveHeight:!0,variableWidth:!1,swipe:!0,swipeToSlide:"single"==v?!0:!1,touchMove:!0,focusOnSelect:null!=o&&""!=o?!0:!1,responsive:Q,vertical:!1,verticalSwiping:!1,rtl:c}).promise().done(function(){}),i.on("reInit",function(){}),i.on("breakpoint",function(){}),h){var x=t.find(".ts-slickslider-general-start"),I=t.find(".ts-slickslider-general-pause");x.on("click",function(){x.hide(),I.show(),i.slick("slickPlay")}),I.on("click",function(){I.hide(),x.show(),i.slick("slickPause")}),i.find(".ts-slickslider-section a").on("click",function(){I.hide(),x.show(),i.slick("slickPause")}),i.find(".slick-dots li").on("click",function(){I.hide(),x.show(),i.slick("slickPause")})}if(""!=o&&null!=o){var T=(o.attr("data-singlemode"),o.attr("data-thumbposition")),k="true"==o.attr("data-centermode")?!0:!1,$=("true"==o.attr("data-wingshow")?!0:!1,parseInt(o.attr("data-wingwidth"))),M=(parseInt(o.attr("data-wingminimum")),"true"==o.attr("data-bullets")?!0:!1),D="true"==o.attr("data-infinite")?!0:!1,V=parseInt(o.attr("data-maxitems")),z=(parseInt(o.attr("data-spacing"))/2,[]),A=o.attr("data-breakpoints");A=A.split(",");{var H=[],L=1280,O=1;TS_VCSC_GetClosestEvenNumber(Math.ceil(L/100*$)),o.width()}jQuery.each(A,function(t){H=A[t].split("/"),L=parseInt(H[0]),O=parseInt(H[1]),z.push({breakpoint:L,settings:{arrows:!0,centerMode:k,centerPadding:$+"%",slidesToShow:O>V?V:O,slidesToScroll:1}})}),o.on("init",function(){}),o.slick({respondTo:"slider",lazyLoad:"ondemand",asNavFor:"#"+l,slidesToShow:V,slidesToScroll:1,initialSlide:j,speed:250,dots:M,centerMode:k,centerPadding:$+"%",focusOnSelect:!0,infinite:D,slide:".ts-slickslider-thumb",swipeToSlide:!0,adaptiveHeight:!0,variableWidth:!1,responsive:z,rtl:c,pauseOnHover:!0,pauseOnDotsHover:!0,pauseOnFocus:!0}).promise().done(function(){}),o.on("reInit",function(){}),o.on("breakpoint",function(){}),h&&"thumbsbottom"==T&&o.find(".slick-dots li").on("click",function(){I.hide(),x.show(),i.slick("slickPause")})}}),jQuery(".ts-slit-slider-wrapper").each(function(){var t=jQuery(this),e=jQuery(this).find(".ts-slit-slider-slides"),a=jQuery(this).find(".ts-slit-slider-loader"),i="true"==t.attr("data-pageheight")?!0:!1,r=parseInt(t.attr("data-minimum"));if(1==TS_VCSC_DeviceDesktop)var s=parseInt(t.attr("data-desktop"));else if(1==TS_VCSC_DeviceTablet)var s=parseInt(t.attr("data-tablet"));else if(1==TS_VCSC_DevicePhone)var s=parseInt(t.attr("data-mobile"));var n=jQuery(window).height()-s;i&&t.css({height:n>r?n:r});var o="true"==t.attr("data-arrows")?!0:!1,l="true"==t.attr("data-dots")?!0:!1,d="true"==t.attr("data-keys")?!0:!1,u="true"==t.attr("data-touch")?!0:!1,c="true"==t.attr("data-play")?!0:!1,h="true"==t.attr("data-controls")?!0:!1,f=parseInt(t.attr("data-delay")),p="true"==t.attr("data-barprogress")?!0:!1,m="true"==t.attr("data-hover")?!0:!1,g=t.attr("data-barposition"),y=t.attr("data-barcolor"),v=parseInt(t.attr("data-barheight")),w=parseInt(t.attr("data-speed")),j="true"==t.attr("data-nicescroll")?!0:!1,Q=t.attr("data-scrollcolor"),C=t.attr("data-scrollborder"),b=t.find(".ts-slit-slide"),_=b.length,S=t.height(),x=0,I=null,T=null;if(l){var k="";b.each(function(t){k+=0==t?'<span class="nav-dot-current"></span>':"<span></span>"}),t.find(".nav-dots").append(k)}b.each(function(t){t>0&&jQuery(this).find(".ts-slit-slide-image").removeClass("ts-slit-slide-kenburns-main")});var $=function(){if(o)var $=t.find(".nav-arrows");if(l)var M=t.find(".nav-dots > span");if(c&&h)var D=t.find(".nav-auto");2>_&&(o&&$.hide(),l&&M.hide(),c&&h&&D.hide());var V=t.TS_VCSC_SlitSlider({speed:w,optOpacity:!0,translateFactor:230,maxAngle:90,maxScale:3,autoPlay:2>_?!1:c,showProgress:p,progressColor:y,progressHeight:v,progressPosition:g,pauseHover:m,interval:f,keyboard:2>_?!1:d,niceScroll:j,scrollColor:Q,scrollBorder:C,onBeforeChange:function(t,e){b.find(".ts-slit-slide-image").alterClass("ts-css-animation-*",""),k&&(M.removeClass("nav-dot-current"),M.eq(e).addClass("nav-dot-current"))},onAfterChange:function(t,e){"true"==b.eq(e).attr("data-kenburns")&&b.eq(e).find(".ts-slit-slide-image").addClass(b.eq(e).attr("data-effect"))}}),z=function(){A()},A=function(){if(_>1){if(o&&($.children(":last").on("click",function(){return V.next(),!1}),$.children(":first").on("click",function(){return V.previous(),!1})),c&&h&&(D.children(":last").on("click",function(){return V.pause(),D.children(":first").show(),D.children(":last").hide(),!1}),D.children(":first").on("click",function(){return V.play(),D.children(":last").show(),D.children(":first").hide(),!1})),k&&M.each(function(t){jQuery(this).on("click",function(){var e=jQuery(this);return V.isActive()||(M.removeClass("nav-dot-current"),e.addClass("nav-dot-current")),V.jump(t+1),!1})}),u&&_>1&&("ontouchstart"in document.documentElement||1==TS_VCSC_MobileDevice))if(1==$TS_VCSC_Hammer_ReleaseNew){var l=document.getElementById(t.attr("id")),d=new Hammer(l,{prevent_default:!0});d.on("swipeleft",function(t){return t.preventDefault(),V.next(),!1}).on("swiperight",function(t){return t.preventDefault(),V.previous(),!1})}else{var l=new Hammer(t);l.on("swipeleft",function(){return V.next(),!1}).on("swiperight",function(){return V.previous(),!1})}jQuery(window).on("debouncedresize",function(){i&&(n=jQuery(window).height()-s,t.css({height:n>r?n:r}),V.resize()),b.each(function(){S=t.height(),I=jQuery(this).find(".ts-slit-slide-title").actual("outerHeight",{includeMargin:!0}),T=jQuery(this).find(".ts-slit-slide-inner-message").actual("outerHeight",{includeMargin:!0}),$SlitSliderContentHeight=I+T,x=S-I-130,jQuery(this).find(".ts-slit-slide-inner-message").css({"max-height":x+"px"}),S>$SlitSliderContentHeight?jQuery(this).find(".ts-slit-slide-inner-center").addClass("ts-slit-slide-inner-enabled"):jQuery(this).find(".ts-slit-slide-inner-center").removeClass("ts-slit-slide-inner-enabled")})})}setTimeout(function(){a.remove(),e.show(),o&&_>1&&$.show(),c&&h&&_>1&&D.show()},500)};return{init:z}}();$.init()}),jQuery(".ts-vcsc-anygrid-gridalicious").each(function(){var t=jQuery(this),e=jQuery(this).attr("data-content"),a=(parseInt(jQuery(this).attr("data-random")),parseInt(jQuery(this).attr("data-width"))),i=parseInt(jQuery(this).attr("data-gutter")),r="true"==jQuery(this).attr("data-animate")?!0:!1,s="true"==jQuery(this).attr("data-simple")?!0:!1;jQuery("#"+e).children().each(function(t){jQuery(this).addClass("ts-anygrid-gridalicious-active").attr("data-grid-item",t)}).promise().done(function(){t.TS_VCSC_Gridalicious({selector:".ts-anygrid-gridalicious-active",content:e,width:a,gutter:i,animate:r,simple:s,animationOptions:{queue:!0,speed:200,duration:300,effect:"fadeInOnAppear",complete:function(){}}})})}),jQuery(".ts-lightbox-freewall-grid-container").each(function(){var e=parseInt(jQuery(this).attr("data-random")),a=parseInt(jQuery(this).attr("data-width")),i=parseInt(jQuery(this).attr("data-gutter")),r="true"==jQuery(this).attr("data-gridfilter")?!0:!1,s=jQuery(this).attr("data-gridshowall"),n=jQuery(this).attr("data-gridtoggle"),o=jQuery(this).attr("data-gridnogroups"),l=jQuery(this).attr("data-gridavailable"),d=jQuery(this).attr("data-gridselected"),u=jQuery(this).width(),c=jQuery(this).find(".ts-lightbox-freewall-item"),u=0,h=[],f=0,p=function(t,e){return new RegExp("\\b"+e+"\\b","i").test(t)};if(c.each(function(){if(""!=jQuery(this).attr("data-groups")){var t=jQuery(this).attr("data-groups").split(",");t.forEach(function(t){jQuery.inArray(t,h)<0&&h.push(t)})}else jQuery(this).attr("data-groups","NoGroups"),f++}),h.length>0&&r){h.sort();var m=jQuery(this).attr("data-gridtogglestyle"),g=jQuery(this).attr("data-gridshowallstyle"),y=jQuery('<div id="ts-freewall-grid-controls-frame-'+e+'" class="ts-freewall-grid-controls-frame">').insertBefore(jQuery(this)),v=(jQuery('<div id="ts-freewall-grid-controls-toggle-'+e+'" class="ts-freewall-grid-controls-toggle '+m+'" data-filter="ts-freewall-grid-controls-filter-'+e+'" data-showall="ts-freewall-grid-controls-showall-'+e+'" data-random="'+e+'">'+n+"</div>").appendTo(y),jQuery('<div id="ts-freewall-grid-controls-showall-'+e+'" class="ts-freewall-grid-controls-showall '+g+'" data-filter="ts-freewall-grid-controls-filter-'+e+'" data-random="'+e+'">'+s+"</div>").appendTo(y),jQuery('<select id="ts-freewall-grid-controls-filter-'+e+'" class="ts-freewall-grid-controls-filter" data-toggle="ts-freewall-grid-controls-toggle-'+e+'" data-showall="ts-freewall-grid-controls-showall-'+e+'" data-random="'+e+'" multiple="multiple"></select>').appendTo(y));h.forEach(function(t){jQuery('<option value="'+t+'">'+t+"</option>").appendTo(v)}),f>0&&jQuery('<option value="NoGroups">'+o+"</option>").appendTo(v)}var w=new freewall(jQuery(this));w.reset({selector:".ts-lightbox-freewall-active",draggable:!1,animate:!0,cache:!1,cellW:function(t){return t>a?a:t},cellH:"auto",gutterX:i,gutterY:i,delay:0,rightToLeft:!1,bottomToTop:!1,onResize:function(t){u=t.width(),w.fitWidth()}});var j=w.container.find(".ts-lightbox-freewall-item");if(j.find("img").load(function(){w.fitWidth()}),jQuery(window).on("debouncedresize",function(){setTimeout(function(){w.fitWidth()},1250)}),h.length>0&&r){var Q=t("#ts-freewall-grid-controls-filter-"+e),C=t("#ts-freewall-grid-controls-toggle-"+e),b=t("#ts-freewall-grid-controls-showall-"+e);Q.multiSelect({selectableHeader:"<div class='ms-header-selectable'>"+l+"</div>",selectionHeader:"<div class='ms-header-selection'>"+d+"</div>",afterSelect:function(){},afterDeselect:function(){}}),Q.on("change",function(){var e=t.trim(Q.val()),a=e.split(","),i=!1;""!=e?c.each(function(){$block=jQuery(this),groups=t.trim($block.attr("data-groups")),i=!1,a.forEach(function(t){p(groups,t)&&(i=!0),""==groups&&"NoGroups"==t&&(i=!0)}),i?$block.addClass("ts-lightbox-freewall-active").show().attr("data-showing","true"):$block.removeClass("ts-lightbox-freewall-active").hide().attr("data-showing","false")}).promise().done(function(){w.refresh()}):c.each(function(){$block=jQuery(this),$block.addClass("ts-lightbox-freewall-active").show().attr("data-showing","true")}).promise().done(function(){w.refresh()}),""!=a&&null!=a?b.show():b.hide()});var _=t("#ms-ts-freewall-grid-controls-filter-"+e);_.slideToggle(),b.hide(),C.on("click",function(){_.slideToggle()}),b.on("click",function(){Q.multiSelect("deselect_all"),c.addClass("ts-lightbox-freewall-active").show().attr("data-showing","true"),w.refresh()})}}),jQuery(".ts-timeline.ts-timeline-view").each(function(){function t(){show=i.find("li.ts-timeline-list-item.ts-timeline-visible").size()+l,m>=show?jQuery(this).closest(".ts-timeline").find("li.ts-timeline-list-item:lt("+show+")").fadeIn().addClass("ts-timeline-visible"):(f.fadeIn().addClass("ts-timeline-visible"),"desc"==n&&y.fadeIn(),Q.hide()),setTimeout(function(){h.isotope("reloadItems"),e(),h.isotope("reLayout")},750)}function e(t){h.isotope({itemSelector:".ts-timeline-list-item.ts-timeline-visible",animationEngine:"best-available",itemPositionDataEnabled:!1,transformsEnabled:!0,resizesContainer:!0,sortAscending:t,getSortData:{eventOrder:function(t){return t.attr("data-order")}},sortBy:"eventOrder",layoutMode:layoutMode,spineTimeline:{gutterWidth:20,columnPadding:50,spineHolder:spineHolder},onLayout:function(){}},function(){setTimeout(function(){p.each(function(){if(jQuery(this).hasClass("ts-timeline-icon-half")){if(jQuery(this).next().hasClass("ts-timeline-text-wrap-inner")){var t=(parseInt(jQuery(this).next().outerHeight(!0))-parseInt(jQuery(this).outerHeight(!0)))/2;jQuery(this).animate({top:t+"px"},500)}}else if(jQuery(this).prev().hasClass("ts-timeline-text-wrap-inner")){var t=(parseInt(jQuery(this).prev().outerHeight(!0))-parseInt(jQuery(this).outerHeight(!0)))/2;jQuery(this).animate({top:t+"px"},500)}}),jQuery("#"+spineHolder).height(h.height())},750)})}function a(){i.each(function(){$this=jQuery(this),$this.width("100%"),h.width("100%"),$this.outerWidth()<=C?(layoutMode="masonry",f.each(function(){jQuery(this).width("100%").removeClass("colA").removeClass("colB").removeClass("ts-timeline-layout-spine").addClass("ts-timeline-layout-masonry"),jQuery(this).hasClass("ts-timeline-full")?(jQuery(this).find(".ts-timeline-full-colA").addClass("no-columns"),jQuery(this).find(".ts-timeline-full-colB").addClass("no-columns")):jQuery(this).hasClass("ts-timeline-break")&&jQuery(this).removeClass("ts-timeline-layout-spine").removeClass("ts-timeline-layout-masonry")}),jQuery("span",jQuery("#"+spineHolder)).remove()):(layoutMode="spineTimeline",f.each(function(){jQuery(this).hasClass("ts-timeline-full")?(jQuery(this).width("100%").removeClass("ts-timeline-layout-masonry").addClass("ts-timeline-layout-spine"),jQuery(this).find(".ts-timeline-full-colA").removeClass("no-columns"),jQuery(this).find(".ts-timeline-full-colB").removeClass("no-columns")):jQuery(this).hasClass("ts-timeline-break")?jQuery(this).removeClass("ts-timeline-layout-spine").removeClass("ts-timeline-layout-masonry"):jQuery(this).width("50%").removeClass("ts-timeline-layout-masonry").addClass("ts-timeline-layout-spine")})),setTimeout(function(){h.hasClass("isotope")&&h.isotope("reloadItems"),e(b),h.isotope("reLayout"),p.each(function(){if(jQuery(this).hasClass("ts-timeline-icon-half")){if(jQuery(this).next().hasClass("ts-timeline-text-wrap-inner")){var t=(parseInt(jQuery(this).next().outerHeight(!0))-parseInt(jQuery(this).outerHeight(!0)))/2;jQuery(this).animate({top:t+"px"},500)}}else if(jQuery(this).prev().hasClass("ts-timeline-text-wrap-inner")){var t=(parseInt(jQuery(this).prev().outerHeight(!0))-parseInt(jQuery(this).outerHeight(!0)))/2;jQuery(this).animate({top:t+"px"},500)}}),jQuery("#"+spineHolder).height(h.height())},750)})}var i=jQuery(this),r=i.attr("data-lazy"),s=i.attr("data-count"),n=i.attr("data-order"),o=s,l=s,d=i.attr("data-trigger"),u=i.find(".ts-timeline-css-controls-asc"),c=i.find(".ts-timeline-css-controls-desc"),h=i.find("ul.ts-timeline-list"),f=i.find("li.ts-timeline-list-item"),p=(f.find(".ts-timeline-date"),f.find(".ts-timeline-icon")),m=f.length,g=0,y=i.find(".ts-timeline-footer-wrap"),v=i.find(".ts-timeline-header-wrap"),w=i.find(".ts-timeline-begin-top"),j=i.find(".ts-timeline-begin-bottom"),Q=i.find(".ts-timeline-load-more"),C=parseInt(i.attr("data-break"));
spineHolder=i.find(".ts-timeline-spine").attr("id"),layoutMode="spineTimeline","asc"==n?(j.fadeIn(),v.fadeIn()):w.fadeIn();var b=!0;u.on("click",function(){jQuery(this).hasClass("active")||(jQuery(this).toggleClass("active"),c.toggleClass("active"),b=b?!1:!0,j.fadeIn(),v.fadeIn(),w.hide(),y.hide(),i.alterClass("ts-timeline-*","ts-timeline-asc"),f.alterClass("ts-timeline-order-*","ts-timeline-order-asc").attr("data-order","asc"),e(b))}),c.on("click",function(){jQuery(this).hasClass("active")||(jQuery(this).toggleClass("active"),u.toggleClass("active"),b=b?!1:!0,j.hide(),v.hide(),w.fadeIn(),y.fadeIn(),i.alterClass("ts-timeline-*","ts-timeline-desc"),f.alterClass("ts-timeline-order-*","ts-timeline-order-desc").attr("data-order","desc"),e(b))}),f.each(function(){g++,jQuery(this).addClass("ts-timeline-order-"+n).attr("data-order",n).attr("data-number",g)}),"true"==r?(i.find("li.ts-timeline-list-item:lt("+o+")").addClass("ts-timeline-visible").fadeIn(),Q.on("click",t)):(f.fadeIn().addClass("ts-timeline-visible"),"desc"==n&&y.fadeIn()),"true"==r&&"scroll"==d&&Q.bind("inview",function(e,a,i,r){if(a){var s=jQuery(this);"top"==r||"bottom"==r||(s.addClass("ts-loadmore-visible"),t())}else s.removeClass("ts-loadmore-visible")}),e(b),a(),jQuery(window).on("debouncedresize",function(){a()}),jQuery(this).find(".ts-timeline-gallery-slider").each(function(){function t(){k=jQuery("#"+M).find(".owl-item").length-1,Q=(new Date).setTime((new Date).getTime()+0),C=(new Date).setTime((new Date).getTime()+1e3*I),b=100,jQuery("#ts-owlslider-progressbar-"+D).prependTo(jQuery("#"+M)),jQuery("#"+M).find(".owl-dots").show(),window.setTimeout(function(){n(),i(),h.isotope("reloadItems"),e(),h.isotope("reLayout")},100)}function i(){if(1==l&&1==d){n(),jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","0%"),w=!1,isRunning=!1;var t=1e3,e=60*t,a=3600*t,i=86400*t;Q=(new Date).setTime((new Date).getTime()+0),C=(new Date).setTime((new Date).getTime()+1e3*I);var r=C-Q;j=setInterval(function(){if(w===!1){_>0&&(C+=_,Q+=_,r=C-Q,_=0);var s=C-new Date,n=new Date-Q,o=parseInt(s/i),l=parseInt((s-o*i)/a),d=parseInt((s-o*i-l*a)/e),u=(parseInt((s-o*i-d*e-l*a)/t),n>0?n/r*b:0);jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width",u+"%").attr("data-progress",u)}u>=100&&(clearInterval(j),jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","100%"),jQuery("#ts-owlslider-controls-next-"+D).click())},b)}}function r(){0==T&&(w=!0)}function s(){0==T&&(w=!1,jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","0%"),clearInterval(j),i())}function n(){if(1==o){var t=jQuery("#"+M).find(".owl-stage").find(".active").length,e=jQuery("#"+M).find(".owl-stage .owl-item.active").first().height();if(1==t)var a=e;else{var i=Math.max.apply(null,jQuery("#"+M).find(".owl-stage").find(".active").map(function(){return jQuery(this).height()}).get());if(i>e)var a=i;else var a=e}jQuery("#"+M).find(".owl-stage-outer").height(a+5)}}var o=jQuery(this).attr("data-height");o="false"==o?!1:!0;var l=jQuery(this).attr("data-play");l="false"==l?!1:!0;var d=jQuery(this).attr("data-bar"),u=jQuery(this).attr("data-speed");1==l&&("false"==d?(d=!1,l=u):(d=!0,l=u));var c=jQuery(this).attr("data-hover");c="false"==c?!1:!0;var f=jQuery(this).attr("data-navigation");f="false"==f?!1:!0;var p=jQuery(this).attr("data-loop");p="false"==p?!1:!0;var m=jQuery(this).attr("data-rtl");m="false"==m?!1:!0;var g=jQuery(this).attr("data-mobile");if(g="false"==g?!1:!0,0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&1==g)var y=jQuery(this).attr("data-animationin"),v=jQuery(this).attr("data-animationout");else var y="",v="";var w,j,Q,C,b,_,S=(jQuery(this).attr("data-color"),jQuery(this).attr("data-items")),x=jQuery(this).parent(),I=parseInt(u)/1e3,T=!1,k=0;$isLastItem=!1,$isFirstItem=!0;var $=($current=$before=$after=$change=null,l),M=jQuery(this).attr("id"),D=jQuery(this).attr("data-id"),V=1,z=1==parseInt(S)?1:parseInt(S)>2?2:parseInt(S),A=1==parseInt(S)?1:parseInt(S)>3?3:parseInt(S),H=1==parseInt(S)?1:parseInt(S)>4?4:parseInt(S),L=1==parseInt(S)?1:parseInt(S)>5?5:parseInt(S),O=1==parseInt(S)?1:parseInt(S)>6?6:parseInt(S),F=1==parseInt(S)?1:parseInt(S)>7?7:parseInt(S),P=1==parseInt(S)?1:parseInt(S)>8?8:parseInt(S);"rtl"==jQuery("body").css("direction")&&0==m&&jQuery(this).css("direction","ltr");var E=jQuery(this).owlCarousel2({animateOut:v,animateIn:y,margin:10,smartSpeed:450,autoHeight:o,responsive:{0:{items:V},250:{items:z},500:{items:A},750:{items:H},1e3:{items:L},1250:{items:O},1500:{items:F},1750:{items:P}},responsiveClass:!0,responsiveBaseElement:x,responsiveRefreshRate:1e3,items:parseInt(S),loop:p,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,stagePadding:0,startPosition:0,rtl:m,nav:!1,navRewind:!0,navText:["<",">"],dots:!0,dotsEach:!1,buttons:!1,autoplay:0==d?l:!1,autoplayTimeout:parseInt(u),autoplayHoverPause:c,onInitialized:t,onDrag:r,onDragged:s});1==l&&($play_start=jQuery("#ts-owlslider-controls-play-"+D),$play_start.on("click",function(){if(jQuery(this).hasClass("active")){var t=new Date;w=!0,$=!1,T=!0,_=0,jQuery(this).attr("data-mouseenterTime",t.getTime()),0==d&&E.trigger("stop.owl.autoplay"),jQuery(this).removeClass("active"),jQuery(this).find("span").alterClass("ts-ecommerce-*","ts-ecommerce-play")}else{var t=new Date;w=!1,$=!0,T=!1,_=t.getTime()-jQuery(this).attr("data-mouseenterTime"),1==d?jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","0%"):E.trigger("play.owl.autoplay"),jQuery(this).addClass("active"),jQuery(this).find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause");var e=0,a=jQuery("#"+M).find(".owl-stage").children(".owl-item").length;jQuery("#"+M).find(".owl-stage").children(".owl-item").each(function(){e++,e==a&&jQuery(this).hasClass("active")&&($isLastItem=!0,$isFirstItem=!1)}),(1==$isLastItem&&0==p&&0==d||jQuery("#"+M).find(".owl-stage .owl-item:last-child").hasClass("active")&&0==p&&0==d)&&E.trigger("to.owl.carousel",[0,0])}})),(1==f||1==l)&&($play_prev=jQuery("#ts-owlslider-controls-prev-"+D),$play_next=jQuery("#ts-owlslider-controls-next-"+D),$play_prev.on("click",function(){if(1==l&&0==d&&E.trigger("stop.owl.autoplay"),1==d&&(w=!0,jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","100%"),clearInterval(j)),0==p){var t=0,e=jQuery("#"+M).find(".owl-stage").children(".owl-item").length;k=e-1,jQuery("#"+M).find(".owl-stage").children(".owl-item").each(function(){t++,1==t&&jQuery(this).hasClass("active")&&($isLastItem=!1,$isFirstItem=!0)})}jQuery("#ts-owlslider-controls-play-"+D).addClass("active").find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause"),1==$isFirstItem&&0==p||jQuery("#"+M).find(".owl-stage .owl-item:first-child").hasClass("active")&&0==p?(E.trigger("to.owl.carousel",[k,0]),$isFirstItem=!1):E.trigger("prev.owl.carousel")}),$play_next.on("click",function(){if(1==l&&0==d&&E.trigger("stop.owl.autoplay"),1==d&&(w=!0,jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","100%"),clearInterval(j)),0==p){var t=0,e=jQuery("#"+M).find(".owl-stage").children(".owl-item").length;jQuery("#"+M).find(".owl-stage").children(".owl-item").each(function(){t++,t==e&&jQuery(this).hasClass("active")&&($isLastItem=!0,$isFirstItem=!1)})}jQuery("#ts-owlslider-controls-play-"+D).addClass("active").find("span").alterClass("ts-ecommerce-*","ts-ecommerce-pause"),1==$isLastItem&&0==p||jQuery("#"+M).find(".owl-stage .owl-item:last-child").hasClass("active")&&0==p?(E.trigger("to.owl.carousel",[0,0]),$isLastItem=!1):E.trigger("next.owl.carousel")})),E.find(".owl-stage-outer").on("mouseenter mouseleave",function(t){if(1==l&&1==d&&1==c)if(0==T){var e=new Date;"mouseenter"===t.type||"touchstart"===t.type?(w=!0,_=0,jQuery(this).attr("data-mouseenterTime",e.getTime()),$=!1):("mouseleave"===t.type||"touchend"===t.type)&&(w=!1,_=e.getTime()-jQuery(this).attr("data-mouseenterTime"),$=!0)}else w=!0,_=0,$=!1;else 1==l&&0==d&&1==c&&1==T&&(w=!0,_=0,$=!1)}),E.on("change.owl.carousel",function(t){if(t.namespace&&"position"==t.property.name){var e=t.relatedTarget;$current=t.item.index+1,k=t.item.count,$before=e.relative(e.normalize(e.current(),!1))+1,$after=e.relative(e.normalize(t.property.value,!1))+1,$change=!0,1==l&&1==d&&1==c||1==l&&1==d&&0==c?(1==d&&(jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","100%"),clearInterval(j)),0==$&&1==l&&0==T&&($=!0),$after==k||jQuery("#"+M).children(".owl-stage .owl-item:last-child").hasClass("active")?($isLastItem=!0,$isFirstItem=!1):($isLastItem=!1,$isFirstItem=1==$after?!0:!1),0==$&&1==l&&0==T&&($=!0)):1==l&&0==d&&1==c&&(0==$&&1==l&&0==T&&($=!0),$after==k||jQuery("#"+M).children(".owl-stage .owl-item:last-child").hasClass("active")?($isLastItem=!0,$isFirstItem=!1):($isLastItem=!1,$isFirstItem=1==$after?!0:!1),0==$&&1==l&&0==T&&($=!0))}}),E.on("changed.owl.carousel",function(t){t.namespace&&"position"==t.property.name&&setTimeout(function(){h.isotope("reloadItems"),e(),h.isotope("reLayout")},1e3)}),E.on("translated.owl.carousel",function(){if(1==l&&1==d&&1==c)jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","0%"),_=0,window.setTimeout(function(){i()},0);else if(1==l&&1==d&&0==c)jQuery("#ts-owlslider-progressbar-"+D).children(".ts-owlslider-progressbar").css("width","0%"),_=0,window.setTimeout(function(){i()},0);else if(1==l&&0==d&&1==c){_=0,1==T&&0==d&&E.trigger("stop.owl.autoplay");var t=0,e=jQuery("#"+M).find(".owl-stage").children(".owl-item").length;jQuery("#"+M).find(".owl-stage").children(".owl-item").each(function(){t++,t==e&&jQuery(this).hasClass("active")&&($isLastItem=!0,$isFirstItem=!1)}),1==$isLastItem&&0==p&&0==T&&1==l&&window.setTimeout(function(){jQuery("#ts-owlslider-controls-next-"+D).click()},parseInt(u))}else if(1==l&&0==d&&0==c){var t=0,e=jQuery("#"+M).find(".owl-stage").children(".owl-item").length;jQuery("#"+M).find(".owl-stage").children(".owl-item").each(function(){t++,t==e&&jQuery(this).hasClass("active")&&($isLastItem=!0,$isFirstItem=!1)}),1==$isLastItem&&0==p&&0==T&&1==l&&window.setTimeout(function(){jQuery("#ts-owlslider-controls-next-"+D).click()},parseInt(u))}n(),a()})})}),"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".ts-viewport-column").each(function(){if(0==TS_VCSC_MobileDevice){var t=jQuery(this),e=t.next(),a=(t.attr("data-scrollup"),t.attr("data-offset"));e.css("opacity",0),e.attr("data-viewport",t.attr("data-viewport")),e.attr("data-speed",t.attr("data-speed")),e.attr("data-scrollup",t.attr("data-scrollup")),e.bind("inview",function(t,e,a,i){if(e){var r=jQuery(this);r.addClass("ts-waypoint-visible")}else{var r=jQuery(this);r.removeClass("ts-waypoint-visible")}}),e.waypoint({offset:a,handler:function(){var t=jQuery(this),e=t.attr("data-viewport"),a=t.attr("data-speed"),i=t.attr("data-scrollup"),r=t.width();t.css("-webkit-animation-duration",a+"ms").css("-moz-animation-duration",a+"ms").css("-ms-animation-duration",a+"ms").css("-o-animation-duration",a+"ms").css("animation-duration",a+"ms"),t.addClass(e+" animated"),t.css("opacity",1).css("width",r),setTimeout(function(){t.removeClass("animated").removeClass(e),"false"==i&&t.waypoint("destroy"),t.css("width",""),t.css("-webkit-animation-duration","").css("-moz-animation-duration","").css("-ms-animation-duration","").css("-o-animation-duration","").css("animation-duration","")},a)}}),t.remove()}else{var t=jQuery(this),e=t.next();e.css("opacity",1)}}),"undefined"!=typeof jQuery.fn.waypoint&&jQuery(".ts-viewport-row").each(function(){if(0==TS_VCSC_MobileDevice){var t=jQuery(this),e=t.next(),a=(t.attr("data-scrollup"),t.attr("data-offset"));e.css("opacity",0),e.attr("data-viewport",t.attr("data-viewport")),e.attr("data-speed",t.attr("data-speed")),e.attr("data-scrollup",t.attr("data-scrollup")),e.bind("inview",function(t,e,a,i){if(e){var r=jQuery(this);r.addClass("ts-waypoint-visible")}else{var r=jQuery(this);r.removeClass("ts-waypoint-visible")}}),e.waypoint({offset:a,handler:function(){var t=jQuery(this);if(!t.hasClass("ts-parallax-processing")){var e=t.attr("data-viewport"),a=t.attr("data-speed"),i=t.attr("data-scrollup"),r=t.width();t.css("-webkit-animation-duration",a+"ms").css("-moz-animation-duration",a+"ms").css("-ms-animation-duration",a+"ms").css("-o-animation-duration",a+"ms").css("animation-duration",a+"ms"),t.addClass(e),t.css("opacity",1).css("width",r),setTimeout(function(){t.removeClass(e),"false"==i&&t.waypoint("destroy"),t.css("width",""),t.css("-webkit-animation-duration","").css("-moz-animation-duration","").css("-ms-animation-duration","").css("-o-animation-duration","").css("animation-duration","")},a)}}}),t.remove()}else{var t=jQuery(this),e=t.next();e.css("opacity",1)}}),setTimeout(function(){jQuery(window).trigger("resize"),jQuery(window).trigger("debouncedresize"),jQuery(window).trigger("debouncedresize.stackslider")},250),setTimeout(function(){jQuery(".ts-figure-navigation-container").each(function(){var t=jQuery(this),e="true"==t.attr("data-openmobile")?!0:!1,a="true"==t.attr("data-frontend")?!0:!1,i=("true"==t.attr("data-global")?!0:!1,t.find(".ts-figure-navigation-item"));i.each(function(){var t=jQuery(this),i="true"==t.attr("data-active")?!0:!1;if(1==i&&0==a&&(0==TS_VCSC_MobileDevice||1==e)){var r=(t.attr("data-group"),t.find(".ts-figure-navigation-title")),s=t.find(".ts-figure-navigation-image"),n=t.find(".ts-figure-navigation-handle"),o=t.find(".ts-figure-navigation-content"),l=t.find(".ts-figure-navigation-button"),d=r.outerHeight(!0)+s.outerHeight(!0)+n.outerHeight(!0)+o.outerHeight(!0)+l.outerHeight(!0);t.css("height",d+"px");var u=t.find(".ts-figure-navigation-image").height();o.css("height",o.height()+"px"),t.find(".ts-figure-navigation-figure").css({height:u+"px"}),t.addClass("ts-figure-navigation-hover"),t.find(".ts-figure-navigation-content").css({display:"block"}).stop(!0).animate({opacity:1},500)}})})},1250),(0!=jQuery(".ts-amaran-popup-main").length||0!=jQuery(".ts-amaran-popup-trigger").length)&&(TS_VCSC_Amaran_Overlay=t('<div id="ts-amaran-overlay-color"></div>').appendTo("body"),TS_VCSC_Amaran_Overlay.attr("data-visible","false"),TS_VCSC_Amaran_Noise=t('<div id="ts-amaran-overlay-noise"></div>').appendTo("body"),TS_VCSC_Amaran_Noise.attr("data-visible","false")),jQuery(".ts-amaran-popup-main").each(function(){function t(){setTimeout(function(){jQuery.TS_VCSC_Amaran_Main({randomizer:i,position:r,overlay:M,overlayColor:D,rasterUse:V,rasterType:z,background:d,width:u,marginTop:f,marginBottom:p,marginLeft:m,marginRight:g,content:{title:Q,titleColor:C,titleBack:b,message:_,info:S,infoColor:x,infoBack:I,icon:y,iconColor:v,iconAnimate:w,image:j,close:L,closeColor:O},theme:"composer",delay:c,duration:h,sticky:H,closeOnClick:F,closeButton:L,closeColor:O,clearAll:P,clearSticky:E,inEffect:s,outEffect:o,cssanimationIn:n,cssanimationOut:l,beforeStart:function(){},afterEnd:function(){var t=!0;0==jQuery(".ts-amaran.composer").length?t=!0:jQuery(".ts-amaran.composer").each(function(){jQuery(this).attr("data-randomizer")!=i&&"true"==jQuery(this).attr("data-overlay")&&(t=!1)}),t&&(TS_VCSC_Amaran_Overlay.fadeOut(250).attr("data-visible","false"),TS_VCSC_Amaran_Noise.fadeOut(250).attr("data-visible","false"))},onClick:function(){}})},c)}var e=jQuery(this),a=e.attr("id"),i=jQuery(this).attr("data-randomizer"),r=jQuery(this).attr("data-position"),s=jQuery(this).attr("data-entry"),n=jQuery(this).attr("data-entryanimate"),o=jQuery(this).attr("data-exit"),l=jQuery(this).attr("data-exitanimate"),d=jQuery(this).attr("data-background"),u=parseInt(jQuery(this).attr("data-width")),c=parseInt(jQuery(this).attr("data-delay")),h=parseInt(jQuery(this).attr("data-duration")),f=parseInt(jQuery(this).attr("data-top")),p=parseInt(jQuery(this).attr("data-bottom")),m=parseInt(jQuery(this).attr("data-left")),g=parseInt(jQuery(this).attr("data-right")),y=jQuery(this).attr("data-icon");if("transparent"==y)var y="";var v=jQuery(this).attr("data-iconcolor"),w=jQuery(this).attr("data-iconanimate"),j=jQuery(this).attr("data-image"),Q=jQuery(this).attr("data-title"),C=jQuery(this).attr("data-titlecolor"),b=jQuery(this).attr("data-titlebackground"),_=jQuery(this).find(".ts-amaran-popup-content").html(),S=jQuery(this).attr("data-info"),x=jQuery(this).attr("data-infocolor"),I=jQuery(this).attr("data-infobackground"),T=(jQuery(this).attr("data-theme"),"true"==jQuery(this).attr("data-viewport")?!0:!1),k="true"==jQuery(this).attr("data-viewportonce")?!0:!1,$=parseInt(jQuery(this).attr("data-viewportwait")),M="true"==jQuery(this).attr("data-overlay")?!0:!1,D=jQuery(this).attr("data-overlaycolor"),V="true"==jQuery(this).attr("data-rasteruse")?!0:!1,z=jQuery(this).attr("data-rastertype"),A="true"==jQuery(this).attr("data-mobile")?!0:!1,H="true"==jQuery(this).attr("data-sticky")?!0:!1,L="true"==jQuery(this).attr("data-button")?!0:!1,O=jQuery(this).attr("data-buttoncolor"),F="true"==jQuery(this).attr("data-close")?!0:!1,P="true"==jQuery(this).attr("data-clearall")?!0:!1,E="true"==jQuery(this).attr("data-clearsticky")?!0:!1;if(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&1==A)if(T){jQuery("#"+a).waypoint({handler:function(){var e=!1;if(k||jQuery(".ts-amaran.composer").each(function(){jQuery(this).attr("data-randomizer")==i&&(e=!0)}),!e){var a=(new Date).setTime((new Date).getTime()+0),r=parseInt(jQuery(this).attr("data-viewportlast"));a-r>$&&(jQuery(this).attr("data-viewportlast",a),t())}if(k)try{$this.destroy()}catch(s){}},offset:"bottom-in-view",triggerOnce:k})}else t()}),jQuery(window).on("debouncedresize",function(){jQuery(".ts-amaran.composer").each(function(){var t=jQuery(this).attr("data-position"),e=parseInt(jQuery(this).attr("data-width")),a=jQuery(window).width(),i=jQuery(window).height(),r=parseInt(jQuery(this).attr("data-marginheight")),s=parseInt(jQuery(this).attr("data-marginwidth")),n=i-r,o=a-s;if(jQuery(this).css({"max-height":n+"px","max-width":(o>e?e:o)+"px"}),"center center"==t){var l=jQuery(this).height(),d=jQuery(this).outerWidth();jQuery(this).animate({"margin-left":"-"+d/2+"px","margin-top":"-"+l/2+"px"},250,function(){})}})}),jQuery(".ts-element-focus-container").each(function(){var t=jQuery(this),e=parseInt(t.attr("data-focus-random")),a="true"==t.attr("data-focus-repeat")?!0:!1,i="true"==t.attr("data-focus-pageload")?!0:!1,r="true"==t.attr("data-focus-viewportshow")?!0:!1,s="true"==t.attr("data-focus-viewportonce")?!0:!1,n=t.attr("data-focus-viewportoffset"),i="true"==t.attr("data-focus-pageload")?!0:!1,o="true"==t.attr("data-focus-mobile")?!0:!1,l=t.attr("data-focus-speed"),d=t.attr("data-focus-focuscolor");""!=d&&void 0!=d&&(d=TS_VCSC_Color2Color(d,"hex",!1));var u=t.attr("data-focus-framecolor");""==u&&(u="#cccccc"),""!=u&&void 0!=u&&(u=TS_VCSC_Color2Color(u,"hex",!1));var c=parseInt(t.attr("data-focus-framestrength")),h="true"==t.attr("data-focus-rasteruse")?!0:!1,f=t.attr("data-focus-rastertype"),p=parseInt(t.attr("data-focus-opacity")),m=parseInt(t.attr("data-focus-delay")),g=parseInt(t.attr("data-focus-timer")),y=parseInt(t.attr("data-focus-wait")),v=parseInt(t.attr("data-focus-paddingx")),w=parseInt(t.attr("data-focus-paddingy")),j="true"==t.attr("data-popup-show")?!0:!1,Q=t.attr("data-popup-title"),C=t.attr("data-popup-html");""!=C&&void 0!=C&&(C=decodeURIComponent(TS_VCSC_Base64.decode(C)));var b="true"==t.attr("data-popup-close")?!0:!1,_=t.attr("data-popup-type");""==_&&(_=null);var S=t.attr("data-popup-position"),x=t.attr("data-popup-image"),I=t.attr("data-popup-icon"),T=t.attr("data-popup-color"),k="true"==t.attr("data-popup-button")?!0:!1,$=t.attr("data-popup-confirm"),M=parseInt(t.attr("data-popup-timer"));(0==TS_VCSC_MobileDevice||1==TS_VCSC_MobileDevice&&1==o)&&t.TS_VCSC_Element_Focus({random:e,repeat:a,timer:g,wait:y,delay:m,opacity:p/100,speed:l,focusColor:d,frameColor:u,frameStrength:c,pageLoad:i,viewportShow:r,viewportOnce:s,viewportOffset:n,rasterUse:h,rasterType:f,paddingX:v,paddingY:w,popupShow:0==TS_VCSC_MobileDevice?j:!1,popupTitle:Q,popupHTML:C,popupClose:b,popupLayer:e,popupType:_,popupPosition:S,popupButton:k,popupConfirm:$,popupImage:x,popupIcon:I,popupColor:T,popupTimer:M})}),setTimeout(function(){jQuery(window).trigger("resize"),jQuery(window).trigger("debouncedresize"),jQuery(window).trigger("debouncedresize.stackslider")},500),jQuery(".ts-video-container").length>0&&(setTimeout(function(){e()},5e3),setTimeout(function(){e()},1e4))})}(jQuery),function(t){function e(){s&&(n(e),t.fx.tick())}for(var a=0,i=["ms","moz","webkit","o"],r=0;r<i.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[i[r]+"RequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){return window.setTimeout(function(){t()},16)});for(var s=!1,n=window.requestAnimationFrame,o=window.cancelAnimationFrame;a<i.length&&!n;a++)n=window[i[a]+"RequestAnimationFrame"],o=o||window[i[a]+"CancelAnimationFrame"]||window[i[a]+"CancelRequestAnimationFrame"];n?(window.requestAnimationFrame=n,window.cancelAnimationFrame=o,t.fx.timer=function(a){a()&&t.timers.push(a)&&!s&&(s=!0,e())},t.fx.stop=function(){s=!1}):(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-a)),r=window.setTimeout(function(){t(e+i)},i);return a=e+i,r},window.cancelAnimationFrame=function(t){clearTimeout(t)})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=null,a=null,i=null,r=null,s=!1;t.fn.TS_VCSC_Element_Focus=function(n){var o=t.extend({},{random:1,pageLoad:!1,viewportShow:!1,viewportOnce:!0,viewportOffset:"50%",repeat:!1,timer:0,wait:5e3,delay:0,opacity:.5,speed:"medium",focusColor:"#066BC0",frameColor:"#cccccc",frameStrength:10,showEvent:"mouseenter",parentSelector:"html",onShow:function(){},onHide:function(){},paddingX:20,paddingY:20,rasterUse:!1,rasterType:"",popupShow:!1,popupType:"",popupPosition:"centercenter",popupButton:!0,popupConfirm:"OK",popupTitle:"",popupText:"",popupHTML:"",popupClose:!1,popupLayer:"",popupImage:"",popupIcon:"",popupColor:"#000000",popupTimer:0,color:"#333",animate:!0,easing:"",exitEvent:"click",spotlightZIndex:9999,spotlightElementClass:"spotlight-background"},n);return this.each(function(){function n(){try{a.remove()}catch(i){}a=null,g=null,y=null,g=t('<canvas id="ts-element-focus-overlay-'+o.random+'"></canvas>'),g.addClass(o.spotlightElementClass),a=g,e=o.random,v=t(o.parentSelector),g.addClass("ts-element-focus-overlay").addClass("ts-element-focus-overlay-"+o.speed),v.append(g);var s={position:"fixed",top:0,left:0,height:"100%",width:"100%"};"html"==o.parentSelector&&v.css("height","100%"),g.css(s),y=g[0].getContext("2d"),w=t('<canvas id="ts-element-focus-frame-'+o.random+'"></canvas>'),r=w,w.addClass("ts-element-focus-frame"),v.append(w);var n={background:"transparent",position:"fixed",top:0,left:0,height:"100%",width:"100%"};w.css(n),j=w[0].getContext("2d")}function l(){if(!s&&"true"!=x.attr("data-focus-active")){if(t(".ts-element-focus-overlay").length>0){try{t("#ts-element-focus-overlay-"+o.random).remove()}catch(e){}try{t("#ts-element-focus-noise-"+o.random).remove()}catch(e){}try{t("#ts-element-focus-frame-"+o.random).remove()}catch(e){}g=null,a=null,Q=null,i=null,w=null,r=null,x.attr("data-focus-active","false").removeClass("ts-element-focus-active"),o.onHide.call(this),jQuery(document).unbind("keydown",h),jQuery(document).unbind("mousedown",f),jQuery(document).unbind("mousewheel DOMMouseScroll wheel",p),jQuery(window).unbind("scroll",p)}0!=T&&!o.repeat||"false"!=x.attr("data-focus-active")?d():(o.pageLoad&&(s=!0),setTimeout(function(){0==o.wait&&(o.wait=speed),C=(new Date).getTime(),b=parseInt(x.attr("data-focus-last")),_=o.wait,S=b+_,S>C&&b>0||($TS_VCSC_Lightbox_LastScroll=jQuery(document).scrollTop(),jQuery(document).bind("keydown",h),jQuery(document).bind("mousedown",f),jQuery(document).bind("mousewheel DOMMouseScroll wheel",p),jQuery(window).bind("scroll",p),n(),u(),o.rasterUse&&""!=o.rasterType&&(Q=t('<div id="ts-element-focus-noise-'+o.random+'"></div>'),i=Q,Q.addClass("ts-element-focus-noise"),v.append(Q),Q.css({"background-image":'url("'+o.rasterType+'")'})),g.css("opacity",o.opacity),o.rasterUse&&""!=o.rasterType&&Q.css("opacity",o.opacity),w.css("opacity",1),T=x.attr("data-focus-shown")?parseInt(x.attr("data-focus-shown"))+1:1,x.attr("data-focus-active","true").attr("data-focus-shown",T).addClass("ts-element-focus-active"),o.onShow.call(this),o.popupShow?setTimeout(function(){TS_VCSC_SweetAlert({title:o.popupTitle,text:o.popupText,html:o.popupHTML,type:o.popupType,position:o.popupPosition,showOverlay:!1,allowOutsideClick:!0,showConfirmButton:o.popupButton,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,closeFocus:o.popupClose,focusLayer:o.popupLayer,closeDelay:speed,confirmButtonText:o.popupConfirm,confirmButtonColor:"#AEDEF4",imageUrl:o.popupImage,imageSize:"100x100",fontIcon:o.popupIcon,fontIconSize:"100x100",fontIconColor:o.popupColor,timer:o.popupTimer,customClass:"ts-element-focus-popup",animation:!0,allowEscapeKey:!0},function(t){o.timer>0&&t&&setTimeout(function(){d()},o.timer+speed)})},speed):o.timer>0&&setTimeout(function(){d()},o.timer+speed))},o.delay),setTimeout(function(){u()},1e3))}}function d(){a&&0!=t(".ts-element-focus-overlay").length&&!t(".ts-element-focus-popup").hasClass("visible")&&e==o.random&&(a.css({opacity:0}),r.css({opacity:0}),o.rasterUse&&""!=o.rasterType&&i.css({opacity:0}),x.attr("data-focus-active","false").removeClass("ts-element-focus-active"),setTimeout(function(){try{a.remove()}catch(e){}try{i.remove()}catch(e){}try{r.remove()}catch(e){}g=null,a=null,y=null,Q=null,i=null,w=null,r=null,v=null,x.attr("data-focus-last",(new Date).getTime()),o.pageLoad&&(s=!1),o.repeat||1!=parseInt(x.attr("data-focus-shown"))||x.off(),o.onHide.call(this),$TS_VCSC_Lightbox_LastScroll=jQuery(document).scrollTop(),jQuery(document).unbind("keydown",h),jQuery(document).unbind("mousedown",f),jQuery(document).unbind("mousewheel DOMMouseScroll wheel",p),jQuery(window).unbind("scroll",p),o.popupShow&&t(".ts-element-focus-popup").hasClass("visible")&&window.TS_VCSC_SweetAlert.closeModal()},speed))}function u(){"undefined"!=typeof a&&null!==a&&"null"!==a&&(a.attr("width",v.outerWidth()),a.attr("height",v.outerHeight()),y.fillStyle=o.focusColor,y.fillRect(0,0,v.innerWidth(),v.innerHeight()));var e=x.offset(),i=t(document).scrollTop(),s=e.left-o.paddingX,n=e.top-o.paddingY-i,l=x.outerWidth()+2*o.paddingX,d=x.outerHeight()+2*o.paddingY,u=o.frameStrength;"undefined"!=typeof a&&null!==a&&"null"!==a&&y.clearRect(s,n,l,d),"undefined"!=typeof r&&null!==r&&"null"!==r&&(r.css({top:n-u+"px",left:s-u+"px",width:l+2*u+"px",height:d+2*u+"px"}),r.attr("width",l+2*u),r.attr("height",d+2*u),j.fillStyle=o.frameColor,j.fillRect(0,0,l+2*u,d+2*u),j.clearRect(u,u,l,d))}function c(){"undefined"!=typeof y&&u()}function h(t){var e={37:1,38:1,39:1,40:1};return m(t.target)&&e[t.keyCode]?(t.preventDefault(),jQuery("html, body").scrollTop($TS_VCSC_Lightbox_LastScroll),!1):void 0}function f(t){return m(t.target)&&2==t.which?(t.preventDefault(),!1):void 0}function p(t){return m(t.target)?(t.preventDefault(),jQuery("html, body").scrollTop($TS_VCSC_Lightbox_LastScroll),!1):void 0}function m(t){var e=jQuery(t).closest(".sweet-container"),a=jQuery(t).closest(".sweet-alert");return e.length>0&&0==a.length?!0:a.length>0&&a.hasVerticalScrollBar()?!1:!0}var g,y,v,w,j,Q,C,b,_,S,x=t(this),I={extrafast:250,fast:500,medium:750,slow:1250,extraslow:2e3};t.each(I,function(t,e){return t==o.speed?void(speed=e):void 0});var T=parseInt(x.attr("data-focus-shown"));if(this.createCanvas=function(){n()},this.showOverlay=function(){l()},this.closeOverlay=function(){d()},this.fillOverlay=function(){u()},this.handleResize=function(){c()},x.on(o.showEvent,l),t(document).on("click",g,d),t(document).keyup(function(t){var e=t.keyCode?t.keyCode:t.which;27==e&&"undefined"!=typeof a&&null!==a&&"null"!==a&&(d(),t.stopPropagation())}),o.pageLoad&&!o.viewportShow&&l(),!o.pageLoad&&o.viewportShow&&"undefined"!=typeof jQuery.fn.waypoint)var k=x.waypoint({handler:function(){if(l(),o.viewportOnce)try{k.destroy()}catch(t){}},offset:o.viewportOffset,triggerOnce:o.viewportOnce});jQuery(window).on("debouncedresize",function(){"true"==x.attr("data-focus-active")&&c()})})}}),function(t){"use strict";var e=function(){var t=function(t,s,n){s||(s="rgba"),t=t.toLowerCase(),s=s.toLowerCase();var l,d,u,c,h,f,p,m,g,y,v,w,j,Q=o(t),C=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),1]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d+(?:\.\d+)?|\.\d+)\s*\)/,example:["rgba(123, 234, 45, 1)","rgba(255,234,245, 0.5)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/,example:["hsl(120, 100%, 25%)","hsl(0, 100%, 50%)"],process:function(t){t[4]=1;var a=e(t);return[a.r,a.g,a.b,a.a]}},{re:/^hsla\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%,\s*(\d+(?:\.\d+)?|\.\d+)\s*\)/,example:["hsla(120, 100%, 25%, 1)","hsla(0, 100%, 50%, 0.5)"],process:function(t){var a=e(t);return[a.r,a.g,a.b,a.a]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3})%,\s*(\d{1,3})%\)$/,example:["hsv(120, 100%, 25%)","hsl(0, 100%, 50%)"],process:function(t){var e=i(t);return[e.r,e.g,e.b,1]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]}}];for(Q?t=Q:(t=t.replace(/^\s*#|\s*$/g,""),3===t.length&&(t=t.replace(/(.)/g,"$1$1"))),h=0;h<C.length;h+=1)f=C[h].re,p=C[h].process,m=f.exec(t),m&&(g=p(m),l=g[0],d=g[1],u=g[2],c=g[3]);switch(l=0>l||isNaN(l)?0:l>255?255:l,d=0>d||isNaN(d)?0:d>255?255:d,u=0>u||isNaN(u)?0:u>255?255:u,c=0>c||isNaN(c)?0:c>1?1:c,s){case"rgba":n&&(c=(255-(y=Math.min(l,d,u)))/255,l=(0||(l-y)/c).toFixed(0),d=(0||(d-y)/c).toFixed(0),u=(0||(u-y)/c).toFixed(0),c=c.toFixed(4)),j="rgba("+l+","+d+","+u+","+c+")";break;case"rgb":j="rgb("+l+","+d+","+u+")";break;case"hex":j="#"+("0"+l.toString(16)).slice(-2)+("0"+d.toString(16)).slice(-2)+("0"+u.toString(16)).slice(-2);break;case"hsl":v=a({r:l,g:d,b:u}),j="hsl("+v.h+","+v.s+"%,"+v.l+"%)";break;case"hsla":v=a({r:l,g:d,b:u,a:c}),j="hsl("+v.h+","+v.s+"%,"+v.l+"%,"+v.a+")";break;case"hsv":w=r({r:l,g:d,b:u}),j="hsv("+w.h+","+w.s+"%,"+w.v+"%)"}return j},e=function(t){var e,a,i,r={},o={h:n(parseInt(t[1],10)%360,360),s:n(parseInt(t[2],10)%101,100),l:n(parseInt(t[3],10)%101,100),a:parseFloat(t[4])};return 0===o.s?(e=parseInt(Math.round(255*o.l)),r={r:e,g:e,b:e,a:o.a}):(a=o.l<.5?o.l*(1+o.s):o.l+o.s-o.l*o.s,i=2*o.l-a,r.r=parseInt((256*s(i,a,o.h+1/3)).toFixed(0),10),r.g=parseInt((256*s(i,a,o.h)).toFixed(0),10),r.b=parseInt((256*s(i,a,o.h-1/3)).toFixed(0),10),r.a=o.a),r},a=function(t){t.r=n(parseInt(t.r,10)%256,256),t.g=n(parseInt(t.g,10)%256,256),t.b=n(parseInt(t.b,10)%256,256);var e,a=Math.max(t.r,t.g,t.b),i=Math.min(t.r,t.g,t.b),r=[];if(r.a=t.a,r.l=(a+i)/2,a===i)r.h=0,r.s=0;else{switch(e=a-i,r.s=r.l>.5?e/(2-a-i):e/(a+i),a){case t.r:r.h=(t.g-t.b)/e+(t.g<t.b?6:0);break;case t.g:r.h=(t.b-t.r)/e+2;break;case t.b:r.h=(t.r-t.g)/e+4}r.h/=6}return r.h=parseInt((360*r.h).toFixed(0),10),r.s=parseInt((100*r.s).toFixed(0),10),r.l=parseInt((100*r.l).toFixed(0),10),r},i=function(t){var e={},a={h:n(parseInt(t[1],10)%360,360),s:n(parseInt(t[2],10)%101,100),v:n(parseInt(t[3],10)%101,100)},i=Math.floor(6*a.h),r=6*a.h-i,s=a.v*(1-a.s),o=a.v*(1-r*a.s),l=a.v*(1-(1-r)*a.s);switch(i%6){case 0:e.r=a.v,e.g=l,e.b=s;break;case 1:e.r=o,e.g=a.v,e.b=s;break;case 2:e.r=s,e.g=a.v,e.b=l;break;case 3:e.r=s,e.g=o,e.b=a.v;break;case 4:e.r=l,e.g=s,e.b=a.v;break;case 5:e.r=a.v,e.g=s,e.b=o}return e.r=parseInt(256*e.r,10),e.g=parseInt(256*e.g,10),e.b=parseInt(256*e.b,10),{r:e.r,g:e.g,b:e.b}
},r=function(t){t.r=n(parseInt(t.r,10)%256,256),t.g=n(parseInt(t.g,10)%256,256),t.b=n(parseInt(t.b,10)%256,256);var e=Math.max(t.r,t.g,t.b),a=Math.min(t.r,t.g,t.b),i=e-a,r={h:0,s:0===e?0:i/e,v:e};if(e!==a){switch(e){case t.r:r.h=(t.g-t.b)/i+(t.g<t.b?6:0);break;case t.g:r.h=(t.b-t.r)/i+2;break;case t.b:r.h=(t.r-t.g)/i+4}r.h/=6}return r.h=parseInt((360*r.h).toFixed(0),10),r.s=parseInt((100*r.s).toFixed(0),10),r.v=parseInt((100*r.v).toFixed(0),10),r},s=function(t,e,a){return 0>a&&(a+=1),a>1&&(a-=1),1/6>a?t+6*(e-t)*a:.5>a?e:2/3>a?t+(e-t)*(2/3-a)*6:t},n=function(t,e){return t/e},o=function(t){var e,a=null,i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(e in i)t===e&&(a=i[e]);return a};return t}();t.TS_VCSC_Color2Color=e}(window),function(t,e){"use strict";function a(t){return t&&t.toLowerCase?t.toLowerCase():t}function i(t,e){for(var a=0,i=t.length;i>a;a++)if(t[a]==e)return!r;return r}var r=!1,s=null,n=parseFloat,o=Math.min,l=/(-?\d+\.?\d*)$/g,d=/(\d+\.?\d*)$/g,u=[],c=[],h=function(t){return"string"==typeof t},f=function(t,e){for(var a,i=t.length,r=i;r--;)a=i-r-1,e(t[a],a)},p=Array.prototype.indexOf||function(t){var e=this.length,a=Number(arguments[1])||0;for(a=0>a?Math.ceil(a):Math.floor(a),0>a&&(a+=e);e>a;a++)if(a in this&&this[a]===t)return a;return-1};t.tinysort={id:"TinySort",version:"1.5.6",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var t=function(t,e){u.push(t),c.push(e)};return t.indexOf=p,t}(),defaults:{order:"asc",attr:s,data:s,useVal:r,place:"start",returns:r,cases:r,forceStrings:r,ignoreDashes:r,sortFunction:s}},t.fn.extend({tinysort:function(){var m,g,y,v,w=this,j=[],Q=[],C=[],b=[],_=0,S=[],x=[],I=function(t){f(u,function(e){e.call(e,t)})},T=function(t,e){return"string"==typeof e&&(t.cases||(e=a(e)),e=e.replace(/^\s*(.*?)\s*$/i,"$1")),e},k=function(t,e){var a=0;for(0!==_&&(_=0);0===a&&v>_;){var i=b[_],s=i.oSettings,o=s.ignoreDashes?d:l;if(I(s),s.sortFunction)a=s.sortFunction(t,e);else if("rand"==s.order)a=Math.random()<.5?1:-1;else{var u=r,p=T(s,t.s[_]),m=T(s,e.s[_]);if(!s.forceStrings){var g=h(p)?p&&p.match(o):r,y=h(m)?m&&m.match(o):r;if(g&&y){var w=p.substr(0,p.length-g[0].length),j=m.substr(0,m.length-y[0].length);w==j&&(u=!r,p=n(g[0]),m=n(y[0]))}}a=i.iAsc*(m>p?-1:p>m?1:0)}f(c,function(t){a=t.call(t,u,p,m,a)}),0===a&&_++}return a};for(m=0,y=arguments.length;y>m;m++){var $=arguments[m];h($)?S.push($)-1>x.length&&(x.length=S.length-1):x.push($)>S.length&&(S.length=x.length)}for(S.length>x.length&&(x.length=S.length),v=S.length,0===v&&(v=S.length=1,x.push({})),m=0,y=v;y>m;m++){var M=S[m],D=t.extend({},t.tinysort.defaults,x[m]),V=!(!M||""===M),z=V&&":"===M[0];b.push({sFind:M,oSettings:D,bFind:V,bAttr:!(D.attr===s||""===D.attr),bData:D.data!==s,bFilter:z,$Filter:z?w.filter(M):w,fnSort:D.sortFunction,iAsc:"asc"==D.order?1:-1})}return w.each(function(a,i){var r,s=t(i),n=s.parent().get(0),o=[];for(g=0;v>g;g++){var l=b[g],d=l.bFind?l.bFilter?l.$Filter.filter(i):s.find(l.sFind):s;o.push(l.bData?d.data(l.oSettings.data):l.bAttr?d.attr(l.oSettings.attr):l.oSettings.useVal?d.val():d.text()),r===e&&(r=d)}var u=p.call(C,n);0>u&&(u=C.push(n)-1,Q[u]={s:[],n:[]}),r.length>0?Q[u].s.push({s:o,e:s,n:a}):Q[u].n.push({e:s,n:a})}),f(Q,function(t){t.s.sort(k)}),f(Q,function(t){var e=t.s,a=t.n,s=e.length,n=a.length,l=s+n,d=[],u=l,c=[0,0];switch(D.place){case"first":f(e,function(t){u=o(u,t.n)});break;case"org":f(e,function(t){d.push(t.n)});break;case"end":u=n;break;default:u=0}for(m=0;l>m;m++){var h=i(d,m)?!r:m>=u&&u+s>m,p=h?0:1,g=(h?e:a)[c[p]].e;g.parent().append(g),(h||!D.returns)&&j.push(g.get(0)),c[p]++}}),w.length=0,Array.prototype.push.apply(w,j),w}}),t.fn.TinySort=t.fn.Tinysort=t.fn.tsort=t.fn.tinysort}(jQuery),function(){}(jQuery),function(t){function e(e,a,i,r){var s=e.text().split(a),n="";s.length&&(t(s).each(function(t,e){n+='<span class="'+i+(t+1)+'">'+e+"</span>"+r}),e.empty().append(n))}var a={init:function(){return this.each(function(){e(t(this),"","char","")})},words:function(){return this.each(function(){e(t(this)," ","word"," ")})},lines:function(){return this.each(function(){var a="eefec303079ad17405c889e092e105b0";e(t(this).children("br").replaceWith(a).end(),a,"line","")})}};t.fn.lettering=function(e){return e&&a[e]?a[e].apply(this,[].slice.call(arguments,1)):"letters"!==e&&e?(t.error("Method "+e+" does not exist on jQuery.lettering"),this):a.init.apply(this,[].slice.call(arguments,0))}}(jQuery),function(t){t.fn.textfill=function(e){function a(){o.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function i(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function r(t,e,i,r,s,n){function o(t,e){var a=" / ";return t>e?a=" > ":t==e&&(a=" = "),a}a(t+"font: "+e.css("font-size")+", H: "+e.height()+o(e.height(),i)+i+", W: "+e.width()+o(e.width(),r)+r+", minFontPixels: "+s+", maxFontPixels: "+n)}function s(t,e,a,i,s,n,o,l){for(r(t+": ",e,s,n,o,l);l-1>o;){var d=Math.floor((o+l)/2);if(e.css("font-size",d),a.call(e)<=i){if(o=d,a.call(e)==i)break}else l=d;r(t+": ",e,s,n,o,l)}return e.css("font-size",l),a.call(e)<=i&&(o=l,r(t+"* ",e,s,n,o,l)),o}var n={debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null},o=t.extend(n,e);return this.each(function(){var e=t(o.innerTag+":visible:first",this),r=o.explicitHeight||t(this).height(),n=o.explicitWidth||t(this).width(),l=e.css("font-size");a("Opts: ",o),a("Vars: maxHeight: "+r+", maxWidth: "+n);var d=o.minFontPixels,u=o.maxFontPixels<=0?r:o.maxFontPixels,c=void 0;o.widthOnly||(c=s("H",e,t.fn.height,r,r,n,d,u));var h=s("W",e,t.fn.width,n,r,n,d,u);o.widthOnly?e.css("font-size",h):e.css("font-size",Math.min(c,h)),a("Final: "+e.css("font-size")),e.width()>n||e.height()>r&&!o.widthOnly?(e.css("font-size",l),o.fail&&o.fail(this)):o.success?o.success(this):o.callback&&(i("callback is deprecated, use success, instead"),o.callback(this))}),o.complete&&o.complete(this),this}}(window.jQuery),function(t){t.fn.fitText=function(e,a){var i=e||1,r=t.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY,lineHeight:!1},a);return this.each(function(){var e=t(this),a=function(){e.css("font-size",Math.max(Math.min(e.width()/(10*i),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize))+"px"),1==r.lineHeight&&e.css("line-height",Math.max(Math.min(e.width()/(10*i),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize))+"px")};a(),t(window).on("resize.fittext orientationchange.fittext",a)})}}(jQuery),function(t){function e(){var e,a,i={height:d.innerHeight,width:d.innerWidth};return i.height||(e=l.compatMode,(e||!t.support.boxModel)&&(a="CSS1Compat"===e?u:l.body,i={height:a.clientHeight,width:a.clientWidth})),i}function a(){return{top:d.pageYOffset||u.scrollTop||l.body.scrollTop,left:d.pageXOffset||u.scrollLeft||l.body.scrollLeft}}function i(){var i,n=t(),l=0;if(t.each(o,function(t,e){var a=e.data.selector,i=e.$element;n=n.add(a?i.find(a):i)}),i=n.length)for(r=r||e(),s=s||a();i>l;l++)if(t.contains(u,n[l])){var d,c,h,f=t(n[l]),p={height:f.height(),width:f.width()},m=f.offset(),g=f.data("inview");if(!s||!r)return;m.top+p.height>s.top&&m.top<s.top+r.height&&m.left+p.width>s.left&&m.left<s.left+r.width?(d=s.left>m.left?"right":s.left+r.width<m.left+p.width?"left":"both",c=s.top>m.top?"bottom":s.top+r.height<m.top+p.height?"top":"both",h=d+"-"+c,g&&g===h||f.data("inview",h).trigger("inview",[!0,d,c])):g&&f.data("inview",!1).trigger("inview",[!1])}}var r,s,n,o={},l=document,d=window,u=l.documentElement,c=t.expando;t.event.special.inview={add:function(e){o[e.guid+"-"+this[c]]={data:e,$element:t(this)},n||t.isEmptyObject(o)||(n=setInterval(i,250))},remove:function(e){try{delete o[e.guid+"-"+this[c]]}catch(a){}t.isEmptyObject(o)&&(clearInterval(n),n=null)}},t(d).bind("scroll resize",function(){r=s=null}),!u.addEventListener&&u.attachEvent&&u.attachEvent("onfocusin",function(){s=null})}(jQuery),function(t,e){function a(e,a){this.element=e,this.settings=t.extend({},r,a),""==this.settings.align&&(this.settings.align="center"),""===this.settings.id&&(this.settings.id=+new Date),this._defaults=r,this._name=i,this.initParallax()}var i="TS_VCSC_ScrollParallax",r={id:"",direction:"up",width:"",height:"",align:"center",momentum:"0.2",image:"",target:"",repeat:!1,ismobile:!1,allowmobile:!1};t.extend(a.prototype,{initParallax:function(){""===this.settings.target&&(this.settings.target=t(this.element)),""===this.settings.image&&"undefined"!=typeof t(this.element).css("backgroundImage")&&""!==t(this.element).css("backgroundImage")&&(this.settings.image=t(this.element).css("backgroundImage").replace(/url\(|\)|"|'/g,"")),TS_VCSC_ScrollParallaxImages.push(this),this.setupParallax(),this.containerWidth=0,this.containerHeight=0},setupParallax:function(){var t=this.settings.target;"undefined"!=typeof t&&0!==t.length&&(""!==this.settings.image&&"none"!==this.settings.image&&t.find("#ts-background-parallax-holder-"+this.settings.id).css({backgroundImage:"url("+this.settings.image+")"}),this.resizeParallax())},executeParallax:function(){if((!this.settings.ismobile||this.settings.allowmobile)&&this.visibleParallax()){"undefined"==typeof this.settings.inner&&(this.settings.inner=this.settings.target[0].querySelectorAll("#ts-background-parallax-holder-"+this.settings.id)[0]);{var t=this.settings.inner;this.settings.target}if(("undefined"==typeof this.settings.executeParallaxClientLastUpdate||+new Date-this.settings.executeParallaxClientLastUpdate>2e3+1e3*Math.random())&&(this.settings.executeParallaxClientLastUpdate=+new Date,this.settings.clientWidthCache=this.settings.target[0].clientWidth,this.settings.clientHeightCache=this.settings.target[0].clientHeight),0===this.containerWidth||0===this.containerHeight||this.settings.clientWidthCache===this.containerWidth&&this.settings.clientHeightCache===this.containerHeight||this.resizeParallax(),this.containerWidth=this.settings.clientWidthCache,this.containerHeight=this.settings.clientHeightCache,"undefined"!=typeof t&&0!==t.length){var e=(TS_VCSC_OffsetScrollTop-this.scrollTopMin)/(this.scrollTopMax-this.scrollTopMin),a=this.maximumMovement*e;("left"===this.settings.direction||"up"===this.settings.direction)&&(a*=-1);var i="translate3d(",r="px, 0px, 0px)",s="translate3d(0px, ",n="px, 0px)";TS_VCSC_Supports3D||(i="translate(",r="px, 0px)",s="translate(0px, ",n="px)"),"no-repeat"===t.style.backgroundRepeat&&("down"===this.settings.direction&&0>a&&(a=0),"up"===this.settings.direction&&a>0&&(a=0)),"left"===this.settings.direction||"right"===this.settings.direction?(t.style.transition="transform 1ms linear",t.style.webkitTransform=i+a+r,t.style.transform=i+a+r):(t.style.transition="transform 1ms linear",t.style.webkitTransform=s+a+n,t.style.transform=s+a+n),t.style.transition="transform -1ms linear"}}},visibleParallax:function(){if("undefined"==typeof this.settings.offsetLastUpdate||+new Date-this.settings.offsetLastUpdate>4e3+1e3*Math.random()){this.settings.offsetLastUpdate=+new Date;var t=this.settings.target[0];this.settings.offsetTopCache=t.getBoundingClientRect().top+e.pageYOffset,this.settings.parallaxHeightCache=t.clientHeight}var a=this.settings.offsetTopCache,i=this.settings.parallaxHeightCache;return TS_VCSC_OffsetScrollTop>a+i||a>TS_VCSC_OffsetScrollTop+TS_VCSC_WindowHeight?!1:!0},dimensionsParallax:function(t,e,a){var i=t/e,r=a.offsetWidth/a.offsetHeight;if(i>=r)var s=a.offsetHeight,n=s/e,o=t*n;else var o=a.offsetWidth,n=o/t,s=e*n;return o+"px "+s+"px"},resizeParallax:function(){var t=this.settings.target;if("undefined"!=typeof t&&0!==t.length){var e="true"===this.settings.repeat||this.settings.repeat===!0||1===this.settings.repeat;if("left"===this.settings.direction||"right"===this.settings.direction){var a=t.width()+parseInt(t.css("paddingRight"))+parseInt(t.css("paddingLeft")),i=t.height()+parseInt(t.css("paddingTop"))+parseInt(t.css("paddingBottom")),r=a;a+=400*Math.abs(parseFloat(this.settings.momentum));var s="0%";"center"===this.settings.align?s="50%":"bottom"===this.settings.align&&(s="100%");var n=0;"right"===this.settings.direction&&(n-=a-r),t.find("#ts-background-parallax-holder-"+this.settings.id).css({width:a,height:i,zIndex:-1,top:0,left:n,backgroundSize:e?"100%":this.dimensionsParallax(this.settings.width,this.settings.height,t[0].querySelectorAll("#ts-background-parallax-holder-"+this.settings.id)[0]),backgroundPosition:e?"0 0 ":"50% "+s,backgroundRepeat:e?"repeat":"no-repeat"});var o=0;t.offset().top>TS_VCSC_WindowHeight&&(o=t.offset().top-TS_VCSC_WindowHeight);var l=t.offset().top+t.height()+parseInt(t.css("paddingTop"))+parseInt(t.css("paddingBottom"));this.maximumMovement=a-r,this.scrollTopMin=o,this.scrollTopMax=l}else{var d=800;"down"===this.settings.direction&&(d*=1.2);var a=t.width()+parseInt(t.css("paddingRight"))+parseInt(t.css("paddingLeft")),i=t.height()+parseInt(t.css("paddingTop"))+parseInt(t.css("paddingBottom")),u=i;i+=d*Math.abs(parseFloat(this.settings.momentum));var n="0%";"center"===this.settings.align?n="50%":"right"===this.settings.align&&(n="100%");var s=0;"down"===this.settings.direction&&(s-=i-u),t.find("#ts-background-parallax-holder-"+this.settings.id).css({width:a,height:i,zIndex:-1,top:s,left:0,backgroundSize:e?"100%":this.dimensionsParallax(this.settings.width,this.settings.height,t[0].querySelectorAll("#ts-background-parallax-holder-"+this.settings.id)[0]),backgroundPosition:e?"0":n+" 50%",backgroundRepeat:e?"repeat":"no-repeat"});var o=0;t.offset().top>TS_VCSC_WindowHeight&&(o=t.offset().top-TS_VCSC_WindowHeight);var l=t.offset().top+t.height()+parseInt(t.css("paddingTop"))+parseInt(t.css("paddingBottom"));this.maximumMovement=i-u,this.scrollTopMin=o,this.scrollTopMax=l}"true"!=t.attr("data-completed")||t.hasClass("ts-background-parallax-completed")||setTimeout(function(){t.addClass("ts-background-parallax-completed")},500)}}}),t.fn[i]=function(e){return this.each(function(){t.data(this,"Parallax_"+i)||t.data(this,"Parallax_"+i,new a(this,e))}),this}}(jQuery,window,document),function(t){"use strict";function e(t,e){if(this.createTextRange){var a=this.createTextRange();a.collapse(!0),a.moveStart("character",t),a.moveEnd("character",e-t),a.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(t,e))}function a(t){var e=this.value.length;if(t="start"==t.toLowerCase()?"Start":"End",document.selection){var a,i,r,s=document.selection.createRange();return a=s.duplicate(),a.expand("textedit"),a.setEndPoint("EndToEnd",s),i=a.text.length-s.text.length,r=i+s.text.length,"Start"==t?i:r}return"undefined"!=typeof this["selection"+t]&&(e=this["selection"+t]),e}var i={codes:{188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};t.fn.number=function(r,s,n,o){o="undefined"==typeof o?",":o,n="undefined"==typeof n?".":n,s="undefined"==typeof s?0:s;var l="\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4),d=new RegExp("[^"+l+"0-9]","g"),u=new RegExp(l,"g");return r===!0?this.is("input:text")?this.on({"keydown.format":function(r){var l=t(this),c=l.data("numFormat"),h=r.keyCode?r.keyCode:r.which,f="",p=a.apply(this,["start"]),m=a.apply(this,["end"]),g="",y=!1;if(i.codes.hasOwnProperty(h)&&(h=i.codes[h]),!r.shiftKey&&h>=65&&90>=h?h+=32:!r.shiftKey&&h>=69&&105>=h?h-=48:r.shiftKey&&i.shifts.hasOwnProperty(h)&&(f=i.shifts[h]),""==f&&(f=String.fromCharCode(h)),8!==h&&f!=n&&!f.match(/[0-9]/)){var v=!0;if(f.match(/[-]/)&&(c.isNegative||(c.isNegative=!0,v=!1)),v){var w=r.keyCode?r.keyCode:r.which;if(46==w||8==w||9==w||27==w||13==w||(65==w||82==w)&&(r.ctrlKey||r.metaKey)===!0||(86==w||67==w)&&(r.ctrlKey||r.metaKey)===!0||w>=35&&39>=w)return;return r.preventDefault(),!1}}if(0==p&&m==this.value.length||0==l.val()?8===h?(p=m=1,this.value="",c.init=s>0?-1:0,c.c=s>0?-(s+1):0,e.apply(this,[0,0])):f===n?(p=m=1,this.value="0"+n+new Array(s+1).join("0"),c.init=s>0?1:0,c.c=s>0?-(s+1):0):0===this.value.length&&(c.init=s>0?-1:0,c.c=s>0?-s:0):c.c=m-this.value.length,8==h&&1>=p&&c.isNegative)r.preventDefault(),c.isNegative=!1,c.c--,y=this.value.length+c.c;else if(s>0&&f==n&&p==this.value.length-s-1)c.c++,c.init=Math.max(0,c.init),r.preventDefault(),y=this.value.length+c.c;else if(f==n)c.init=Math.max(0,c.init),r.preventDefault();else if(s>0&&8==h&&p==this.value.length-s)r.preventDefault(),c.c--,y=this.value.length+c.c;else if(s>0&&8==h&&p>this.value.length-s){if(""===this.value)return;"0"!=this.value.slice(p-1,p)&&(g=this.value.slice(0,p-1)+"0"+this.value.slice(p),l.val(g.replace(d,"").replace(u,n))),r.preventDefault(),c.c--,y=this.value.length+c.c}else 8==h&&this.value.slice(p-1,p)==o?(r.preventDefault(),c.c--,y=this.value.length+c.c):s>0&&p==m&&this.value.length>s+1&&p>this.value.length-s-1&&isFinite(+f)&&!r.metaKey&&!r.ctrlKey&&!r.altKey&&1===f.length&&(g=m===this.value.length?this.value.slice(0,p-1):this.value.slice(0,p)+this.value.slice(p+1),this.value=g,y=p);y!==!1&&e.apply(this,[y,y]),l.data("numFormat",c)},"keyup.format":function(i){var r,n=t(this),o=n.data("numFormat"),l=i.keyCode?i.keyCode:i.which,d=a.apply(this,["start"]);""===this.value||(48>l||l>57)&&(96>l||l>105)&&8!==l||(n.val(n.val()),s>0&&(o.init<1?(d=this.value.length-s-(o.init<0?1:0),o.c=d-this.value.length,o.init=1,n.data("numFormat",o)):d>this.value.length-s&&8!=l&&(o.c++,n.data("numFormat",o))),n.get(0).value.length?o.isNegative&&(n.get(0).value="-"+this.value):o.isNegative=!1,r=this.value.length+o.c,e.apply(this,[r,r]))},"paste.format":function(e){var a=t(this),i=e.originalEvent,r=null;return window.clipboardData&&window.clipboardData.getData?r=window.clipboardData.getData("Text"):i.clipboardData&&i.clipboardData.getData&&(r=i.clipboardData.getData("text/plain")),a.val(r),e.preventDefault(),!1}}).each(function(){var e=t(this).data("numFormat",{c:-(s+1),decimals:s,thousands_sep:o,dec_point:n,regex_dec_num:d,regex_dec:u,init:!1});""!==this.value&&e.val(e.val())}):this.each(function(){var e=t(this),a=e.text().match(/^-/)?-1:1,i=+e.text().replace(d,"").replace(u,".")*a;e.number(isFinite(i)?+i:0,s,n,o)}):this.text(t.number.apply(window,arguments))};var r=null,s=null;t.isPlainObject(t.valHooks.text)?(t.isFunction(t.valHooks.text.get)&&(r=t.valHooks.text.get),t.isFunction(t.valHooks.text.set)&&(s=t.valHooks.text.set)):t.valHooks.text={},t.valHooks.text.get=function(e){var a,i=t(e),s=i.data("numFormat");return s?""===e.value?"":(e.value.match(/^-/)&&(s.isNegative=!0),a=+e.value.replace(s.regex_dec_num,"").replace(s.regex_dec,"."),a=isFinite(a)?a:0,0!=a&&s.isNegative&&(a*=-1),""+a):t.isFunction(r)?r(e):void 0},t.valHooks.text.set=function(e,a){var i=t(e),r=i.data("numFormat");return r?e.value=""===a?"":t.number(a,r.decimals,r.dec_point,r.thousands_sep):t.isFunction(s)?s(e,a):void 0},t.number=function(t,e,a,i){i="undefined"==typeof i?",":i,a="undefined"==typeof a?".":a,e=isFinite(+e)?Math.abs(e):0;var r="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),s="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4);t=(t+"").replace(".",a).replace(new RegExp(s,"g"),"").replace(new RegExp(r,"g"),".").replace(new RegExp("[^0-9+-Ee.]","g"),"");var n=isFinite(+t)?+t:0,o="",l=function(t,e){var a=Math.pow(10,e);return""+Math.round(t*a)/a};return o=(e?l(n,e):""+Math.round(n)).split("."),o[0].length>3&&(o[0]=o[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(o[1]||"").length<e&&(o[1]=o[1]||"",o[1]+=new Array(e-o[1].length+1).join("0")),o.join(a)}}(jQuery),function(t){var e,a,i=t.event;e=i.special.debouncedresize={setup:function(){t(this).on("resize",e.handler)},teardown:function(){t(this).off("resize",e.handler)},handler:function(t,r){var s=this,n=arguments,o=function(){t.type="debouncedresize",i.dispatch.apply(s,n)};a&&clearTimeout(a),r?o():a=setTimeout(o,e.threshold)},threshold:150},t.event.special.debouncedresize.threshold=250}(jQuery);